{
    "id": 73,
    "name": "blog/md-editor-in-gravity-ui",
    "createdAt": "2026-01-15T12:37:10.557Z",
    "updatedAt": "2026-01-15T12:37:10.557Z",
    "type": "default",
    "isDeleted": false,
    "versionOnTranslationId": null,
    "searchCategorySlug": "blog",
    "regions": [],
    "pageId": 73,
    "regionCode": "en",
    "publishedVersionId": 212,
    "lastVersionId": 212,
    "content": "blocks:\n  - type: blog-header-block\n    resetPaddings: true\n    paddingBottom: l\n    width: m\n    verticalOffset: m\n    theme: dark\n    background:\n      image:\n        src: >-\n          https://storage.yandexcloud.net/gravity-landing-static/blog/blog-cover-bg.png\n        disableCompress: true\n      color: '#2A1A2A'\n      fullWidth: false\n  - type: blog-layout-block\n    resetPaddings: true\n    mobileOrder: reverse\n    children:\n      - type: blog-yfm-block\n        resetPaddings: true\n        column: right\n        text: >\n\n          ![image](https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/speaker.jpg\n          =80x)\n\n\n          **Sergey Makhnatkin**\n\n          Frontend Developer\n      - type: blog-yfm-block\n        column: right\n        resetPaddings: true\n        text: \"\\nIn this article:\\n\\n  - [Why we need our own Markdown Editor](#why)\\n  - [Markdown Editor capabilities in Gravity\\_UI](#capabilities)\\n  - [Architecture](#architecture)\\n  - [Integration](#integration)\\n  - [Integrating custom extensions](#extensions)\\n\"\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic1.png\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: \"\\n{% cut \\\"TL;DR\\\" %}\\n\\n* Lets you work simultaneously in [WYSIWYG](https://ru.wikipedia.org/wiki/WYSIWYG){target=\\\"_blank\\\"} and [markdown](https://en.wikipedia.org/wiki/Markdown){target=\\\"_blank\\\"} markup modes (with preview and split view).\\n* Supports a large number of blocks out of the box.\\n* Lets you extend functionality — there is an extension system in WYSIWYG mode.\\n* Built for use in React applications.\\n* Uses theming and components from [Gravity\\_UI](https://gravity-ui.com/){target=\\\"_blank\\\"}.\\n* Fully built on open-source technologies ([ProseMirror](https://prosemirror.net/){target=\\\"_blank\\\"}, [CodeMirror](https://codemirror.net/){target=\\\"_blank\\\"}, [markdown-it](https://github.com/markdown-it/markdown-it){target=\\\"_blank\\\"}, [Diplodoc](https://diplodoc.com/){target=\\\"_blank\\\"}, [Gravity\\_UI](https://gravity-ui.com/){target=\\\"_blank\\\"}).\\n* Complies with the [CommonMark](https://spec.commonmark.org/){target=\\\"_blank\\\"} standard, supports standard markdown and [Yandex Flavored Markdown (YFM)](https://diplodoc.com/docs/ru/index-yfm){target=\\\"_blank\\\"}.\\n\\n{% endcut %}\\n\\nHi! My name is Sergey Makhnatkin, and I work as a developer in the User Experience team at Yandex\\_Cloud. Last year, we wrote about our [Gravity\\_UI design system and component library](https://habr.com/ru/companies/yandex/articles/773870/){target=\\\"_blank\\\"}. Since then, the system has been updated multiple times and expanded with new features, and today I want to talk about a new tool — Markdown Editor — which significantly simplifies working with documentation.\\n\\nWe’ll talk about the history of building the user interface, architectural features, and technical details of integration and developing custom extensions — and, of course, why all of this is available as open source.\\n\\nBy the way, you can try the tool here:\\n\\n  * [Demo](https://gravity-ui.com/libraries/markdown-editor/playground){target=\\\"_blank\\\"}          \\n  * [GitHub](https://github.com/gravity-ui/markdown-editor/){target=\\\"_blank\\\"}      \\n  * [Storybook](https://preview.gravity-ui.com/md-editor/){target=\\\"_blank\\\"}\\n\"\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          ## Why we need our own Markdown Editor{#why}\n\n\n          To make it convenient to store and structure corporate information, we\n          built the [Wiki](https://wiki.yandex.ru/){target=\"_blank\"} platform,\n          which allows creating knowledge bases. Alongside the knowledge base,\n          we developed documentation approaches such as Docs as Code, where\n          documentation and code live side by side in a file repository (.md\n          files). This is how the\n          [Diplodoc](https://diplodoc.com/){target=\"_blank\"} platform emerged.\n\n\n          What Wiki and Diplodoc have in common is that both platforms work with\n          a markdown dialect — Yandex Flavored Markdown (YFM) — which is used at\n          Nebius, Bitrix, DoubleCloud, Mappable, and Meteum.\n\n\n          Over time, we noticed there are two groups of users who think about\n          creating and editing text differently. Some prefer to see the final\n          result right away, working with text like in MS Word, Confluence, or\n          Notion. Others trust only markup and prefer to format pages using\n          markdown. We couldn’t find any well-known libraries that work in both\n          WYSIWYG and markdown modes at the same time. For example, Notion is\n          WYSIWYG only, while code editors usually provide only markdown and\n          preview mode.\n\n\n          We developed a markdown editor that can work in two modes\n          simultaneously: a visual mode (WYSIWYG) and a markup mode (markdown).\n          In the first mode, toolbar icons help format the text; in the second,\n          users can manually edit the markdown source. In addition, our solution\n          stores the document as an .md file regardless of which mode was used\n          to create it.\n\n\n          This is what the visual editor looks like, where you can format text\n          using buttons:\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic2.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          And this is the markup mode, where formatting elements are indicated\n          using special characters:\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic3.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: \"\\n## Markdown Editor capabilities in Gravity\\_UI{#capabilities}\\n\\nThe editor complies with the CommonMark standard and supports both standard markdown and YFM. We also added the ability to extend the syntax with other markdown dialects, such as GitHub Flavored Markdown. At the same time, the editor lets you switch from markup mode to WYSIWYG mode, while the document itself is stored as md markup or extended md (for example, in the case of YFM).\\n\\n### Extensions\\n\\nThe editor comes with many built-in extensions and settings. For example, Mermaid diagrams and HTML blocks:\\n\"\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic4.png\n        fullscreen: true\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic5.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          We tried to make the editor core easy to extend. Developers can create\n          their own extension or add extra functionality to:\n\n            * add new entities — blocks or text modifiers;\n            * further configure the markdown parser;\n            * add actions that allow controlling the editor from the outside;\n            * enrich UI functionality — for example, show a list of available commands when typing a slash;\n            * modify current behavior — for example, insert images and files and upload them to storage.\n\n          Here are some examples of such extensions we built for our Wiki:\n\n            * collaborative editing mode;\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic6.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: |\n\n          * a [draw.io](http://draw.io/){target=\"_blank\"} diagrams block;\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic7.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: |\n\n          * a [YandexGPT](https://ya.ru/ai/gpt-3){target=\"_blank\"} plugin;\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic8.png\n        fullscreen: true\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic9.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: |\n\n          * includes;\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic10.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: |\n\n          * section structure;\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic11.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: |\n\n          * sections for creating a convenient grid;\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic12.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: |\n\n          * markdown mode with preview;\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic13.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: |\n\n          * and many more.\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic14.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          Markup can be transformed automatically. If you prefer working without\n          a mouse, the visual editor mode supports special characters that let\n          you apply markup directly in the text. For example, `**` turns text\n          bold in WYSIWYG mode. With these characters, you can format text and\n          create inline and block code.\n\n\n          You can also open the extensions menu by typing `/`.\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        paddingBottom: s\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic15.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          ### Presets\n\n\n          The editor lets you configure the toolbar for each project\n          individually, but it ships with a set of ready-made configurations —\n          presets.\n\n\n          The editor without presets:\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic16.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          The [CommonMark\n          preset](https://preview.gravity-ui.com/md-editor/?path=/story/markdown-editor-presets--common-mark){target=\"_blank\"}\n          provides support for standard markdown elements: bold, italic,\n          headings, lists, links, quotes, and code blocks.\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic17.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          In the [default\n          preset](https://preview.gravity-ui.com/md-editor/?path=/story/markdown-editor-presets--default){target=\"_blank\"},\n          you also get strikethrough text, plus a table where only text can be\n          placed in cells. This preset corresponds to standard markdown-it.\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic18.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          As mentioned above, the editor also supports YFM, so it integrates\n          great with Diplodoc. In the [YFM\n          preset](https://preview.gravity-ui.com/md-editor/?path=/story/markdown-editor-presets--yfm){target=\"_blank\"},\n          additional elements appear: advanced tables, file and image insertion,\n          checkboxes, cut, tabs, and monospace font.\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic19.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          The [full\n          preset](https://preview.gravity-ui.com/md-editor/?path=/story/markdown-editor-presets--full){target=\"_blank\"}\n          includes even more elements.\n      - type: blog-media-block\n        column: left\n        resetPaddings: true\n        text: ''\n        image:\n          src: >-\n            https://storage.yandexcloud.net/gravity-landing-static/blog/md-editor-in-gravity-ui/pic20.png\n        fullscreen: true\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          ## Architecture{#architecture}\n\n\n          The editor’s WYSIWYG mode is built on the well-known\n          [ProseMirror](http://prosemirror.net/){target=\"_blank\"} library, while\n          markup mode uses\n          [CodeMirror](https://codemirror.net/){target=\"_blank\"}. ProseMirror\n          supports editing with formatting, whereas CodeMirror is better suited\n          for situations where you need to work with raw text.\n\n\n          We chose these libraries because they were created by the same author,\n          are consistent in architecture and implementation approaches, are\n          backed by a large community, are used in many editors, and are well\n          optimized for working with text. For example, the transaction system\n          for applying changes to the document, view decorations, DOM\n          virtualization, and support for the syntax of many programming\n          languages.\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: >\n\n          ## Integration{#integration}\n\n\n          Our editor is easy to connect as a [React\n          hook](https://github.com/gravity-ui/markdown-editor/blob/main/docs/how-to-add-editor-with-create-react-app.md){target=\"_blank\"}:\n\n\n          ```javascript\n\n\n          import React from 'react';\n\n          import {useMarkdownEditor, MarkdownEditorView} from\n          '@gravity-ui/markdown-editor';\n\n          import {toaster} from '@gravity-ui/uikit/toaster-singleton-react-18';\n\n\n          function Editor({onSubmit}) {\n            const editor = useMarkdownEditor({allowHTML: false});\n\n            React.useEffect(() => {\n              function submitHandler() {\n                // Serialize current content to markdown markup\n                const value = editor.getValue();\n                onSubmit(value);\n              }\n\n              editor.on('submit', submitHandler);\n              return () => {\n                editor.off('submit', submitHandler);\n              };\n            }, [onSubmit]);\n\n            return <MarkdownEditorView stickyToolbar autofocus toaster={toaster} editor={editor} />;\n          }\n\n          ```\n\n          We use components from the GravityUI uikit library. This ensures that\n          the entire interface is consistent and follows unified style\n          guidelines. Using these components also provides a high degree of\n          consistency and recognizability for users, making the editor even more\n          convenient to work with.\n\n\n          We have detailed\n          [instructions](https://github.com/gravity-ui/markdown-editor/blob/main/README.md#getting-started){target=\"_blank\"}\n          on how to connect the editor to a React app, as well as how to connect\n          various extensions, such as\n          [YandexGPT](https://github.com/gravity-ui/markdown-editor/blob/main/docs/how-to-connect-gpt-extensions.md){target=\"_blank\"},\n          [Mermaid](https://github.com/gravity-ui/markdown-editor/blob/main/docs/how-to-connect-mermaid-extension.md){target=\"_blank\"}\n          or\n          [LaTeX](https://github.com/gravity-ui/markdown-editor/blob/main/docs/how-to-connect-latex-extension.md){target=\"_blank\"}.\n      - type: blog-yfm-block\n        column: left\n        resetPaddings: true\n        text: \"\\n## Integrating custom extensions{#extensions}\\n\\nA number of additional extensions are already integrated into the editor. But if that’s not enough, developers can add their own extensions to the editor’s WYSIWYG mode. We discussed what extensions can enable above.\\n\\nIf you want to add a new block or text modifier, you first need to configure the internal markdown-it instance using the configureMd method. Next, you should add knowledge about the new entity using the addNode or addMark methods, passing the entity name and a callback function that returns an object with three required fields:\\n\\n```javascript\\nimport insPlugin from 'markdown-it-ins';\\nexport const underlineMarkName = 'ins';\\n\\nexport const UnderlineSpecs: ExtensionAuto = (builder) => {\\n    builder\\n        .configureMd((md) => md.use(insPlugin))\\n        .addMark(underlineMarkName, () => ({\\n            spec: {\\n                parseDOM: [{tag: 'ins'}, {tag: 'u'}],\\n                toDOM() {\\n                    return ['ins'];\\n                },\\n            },\\n            toMd: {open: '++', close: '++', mixable: true, expelEnclosingWhitespace: true},\\n            fromMd: {tokenSpec: {name: underlineMarkName, type: 'mark'}},\\n        }));\\n};\\n```\\n\\n  * `spec` — the ProseMirror specification;\\n  * `fromMd` — configuration for parsing markdown markup into ProseMirror’s internal representation;\\n  * `toMd` — configuration for serializing the entity into markdown markup.\\n\\nFor example, below is the configuration of an extension for underlined text. It can be extended by adding an action using the `addAction` method:\\n\\n```javascript\\nimport {toggleMark} from 'prosemirror-commands';\\n\\nconst undAction = 'underline';\\n\\nbuilder\\n    .addAction(undAction, ({schema}) => ({\\n        isActive: (state) => Boolean(isMarkActive(state, markType)),\\n        isEnable: toggleMark(underlineType(schema)),\\n        run: toggleMark(underlineType(schema)),\\n      })\\n  )\\n```\\n\\nSuch an action can be called in code as follows:\\n\\n```javascript\\n// editor – an editor instance obtained as a result of calling useMarkdownEditor\\neditor.actions.underline.run(),\\n```\\n\\nIn the [documentation](https://github.com/gravity-ui/markdown-editor/blob/main/docs/how-to-create-extension.md){target=\\\"_blank\\\"}, you can find the full guide on creating a new extension.\\n\\n---------------------\\n\\nWe’re constantly expanding the horizons of how our editor can be used: right now we’re working on a plugin for [VS Code](https://code.visualstudio.com/){target=\\\"_blank\\\"}, which will allow working with .md files in a convenient WYSIWYG mode прямо from within the editor. We also plan to add a fully featured mobile mode. This will enable every user to work in our editor with only a mobile phone at hand.\\n\\nOur editor didn’t appear overnight: it’s the result of accumulated experience and knowledge. We’re proud that it is fully based on open-source products, including the reliable and proven tools ProseMirror, CodeMirror, and markdown-it, as well as our own developments — Diplodoc and Gravity\\_UI.\\n\\nYou can always contribute to the editor’s development: [create a pull request](https://github.com/gravity-ui/markdown-editor/pulls){target=\\\"_blank\\\"} or help resolve the current issues listed in the [Issues](https://github.com/gravity-ui/markdown-editor/issues){target=\\\"_blank\\\"} section. Your support and fresh perspective will help us make the editor better. And if you find our project useful, please star our [GitHub repository](https://github.com/gravity-ui/markdown-editor){target=\\\"_blank\\\"} — it really matters :)\\n\"\n  - type: blog-layout-block\n    resetPaddings: true\n    fullWidth: false\n    children:\n      - type: blog-meta-block\n        column: left\n        resetPaddings: true\n  - type: blog-suggest-block\n    resetPaddings: true\n",
    "title": "",
    "noIndex": false,
    "shareTitle": null,
    "shareDescription": null,
    "shareImage": null,
    "pageLocaleId": null,
    "author": "timofeyevvv",
    "metaDescription": null,
    "keywords": [],
    "shareGenTitle": null,
    "canonicalLink": null,
    "sharingType": "auto",
    "sharingTheme": "light",
    "comment": "initial",
    "shareImageUrl": "https://storage.cloud-preprod.yandex.net/ui-api-ru-preprod-stable-share-generator-screenshots/cache/6a79bcd295f4b97553c519c462935cc394f84cb8.png",
    "pageRegionId": 80,
    "summary": null,
    "versionId": 212,
    "service": null,
    "solution": null,
    "locales": [
      {
        "id": 79,
        "pageId": 73,
        "locale": "ru",
        "createdAt": "2026-01-15T12:31:20.911Z",
        "updatedAt": "2026-01-15T12:31:20.973Z",
        "publishedVersionId": null,
        "lastVersionId": 208
      },
      {
        "id": 80,
        "pageId": 73,
        "locale": "en",
        "createdAt": "2026-01-15T12:31:20.982Z",
        "updatedAt": "2026-01-15T12:31:21.040Z",
        "publishedVersionId": null,
        "lastVersionId": 209
      }
    ],
    "pageRegions": [
      {
        "regionCode": "ru-ru",
        "publishedVersionId": 210
      },
      {
        "regionCode": "en",
        "publishedVersionId": 212
      }
    ],
    "searchCategory": {
      "id": 7,
      "slug": "blog",
      "title": "Blog",
      "url": "/blog"
    },
    "voiceovers": []
  }
  