(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8538],{60523:function(e,a,t){"use strict";t.d(a,{t:function(){return d}});var l=t(97582),n=t(67294),i=t(71551),s=t(24881),o=t(8634),r=t(23706);function d(e){var a;let{value:t,defaultValue:d=null,onUpdate:c}=e,v=(0,l.__rest)(e,["value","defaultValue","onUpdate"]),[p,m]=(0,i.z)(t,d,c),[f,b]=n.useState(),y=(0,o.G)((null==t?void 0:t.start)||(null==d?void 0:d.start)||e.focusedValue||e.defaultFocusedValue),O=e.timeZone||y,S=(0,r.F)(Object.assign(Object.assign({},v),{value:null,timeZone:O})),h=f?u(f,S.focusedDate,S.mode):null!==(a=p&&u(p.start.timeZone(O),p.end.timeZone(O),S.mode))&&void 0!==a?a:void 0,C=S.availableModes[0],V=e=>{let{start:a,end:t}=e;p&&(a=(0,s.s_)(a,p.start.timeZone(O)),t=(0,s.s_)(t,p.end.timeZone(O))),m({start:a.timeZone(y),end:t.timeZone(y)})};return Object.assign(Object.assign({},S),{value:p,setValue:V,selectDate:(a,t=!1)=>{if(e.disabled)return;if(!t&&S.mode!==C){S.zoomIn();return}if(e.readOnly)return;let l=(0,s.Me)(a,S.minValue,S.maxValue);S.isCellUnavailable(l)||(f?(V(u(f,l,S.mode)),b(void 0)):b(l))},anchorDate:f,setAnchorDate:b,highlightedRange:h,isSelected(e){return!!h&&(e.isSame(h.start,this.mode)||e.isAfter(h.start))&&(e.isSame(h.end,this.mode)||e.isBefore(h.end))},highlightDate(e){f&&this.setFocusedDate(e)}})}function u(e,a,t){return e.isBefore(a)?{start:e,end:a.endOf(t)}:{start:a,end:e.endOf(t)}}},37504:function(e,a,t){"use strict";t.d(a,{V:function(){return o}});var l=t(85893),n=t(67294),i=t(65106),s=t(60523);t(48623);let o=n.forwardRef(function(e,a){let t=(0,s.t)(e);return(0,l.jsx)(i.w,Object.assign({ref:a},e,{state:t,onBlur:a=>{var l;t.anchorDate&&t.selectFocusedDate(),null===(l=e.onBlur)||void 0===l||l.call(e,a)}}))})},29040:function(e,a,t){"use strict";t.d(a,{a:function(){return n}});var l=t(67294);function n(e,a){let[t,n]=l.useState(e.lastCorrectDate),[i,s]=l.useState(e.lastCorrectDate);return t!==e.lastCorrectDate&&(n(e.lastCorrectDate),s(e.lastCorrectDate)),{inputProps:{size:a.size,autoFocus:a.autoFocus,value:e.text,onUpdate:e.setText,disabled:e.disabled,hasClear:a.hasClear,validationState:e.validationState,errorMessage:a.errorMessage,errorPlacement:a.errorPlacement,label:a.label,id:a.id,startContent:a.startContent,endContent:a.endContent,pin:a.pin,view:a.view,placeholder:a.placeholder,onKeyDown:a.onKeyDown,onKeyUp:a.onKeyUp,onBlur:a.onBlur,onFocus:a.onFocus,controlProps:{"aria-label":a["aria-label"]||void 0,"aria-labelledby":a["aria-labelledby"]||void 0,"aria-describedby":a["aria-describedby"]||void 0,"aria-details":a["aria-details"]||void 0,"aria-disabled":e.disabled||void 0,readOnly:e.readOnly}},calendarProps:{size:"s"===a.size?"m":a.size,readOnly:!0,value:e.parsedDate,focusedValue:i,onFocusUpdate:s},timeInputProps:{size:a.size,readOnly:!0,value:e.lastCorrectDate,format:"LTS"}}}},47006:function(e,a,t){"use strict";t.d(a,{q:function(){return s}});var l=t(67294),n=t(13283),i=t(71551);function s(e){var a;let[t,s]=(0,i.z)(e.value,null!==(a=e.defaultValue)&&void 0!==a?a:null,e.onUpdate),[o,r]=l.useState(null!=t?t:"");t&&t!==o&&r(t);let d=l.useMemo(()=>{var a;return t&&null!==(a=(0,n.J)(t,{timeZone:e.timeZone,roundUp:e.roundUp}))&&void 0!==a?a:null},[t,e.timeZone,e.roundUp]),[u,c]=l.useState(d);d&&d!==u&&c(d);let v=e.validationState||o&&!d?"invalid":void 0;return{value:t,setValue(a){e.disabled||e.readOnly||s(a)},text:o,setText:a=>{if(!e.disabled&&!e.readOnly){if(r(a),(0,n.KN)(a)){let e=(0,n.J)(a);e&&e.isValid()?s(a):s(null)}else s(null)}},parsedDate:d,lastCorrectDate:u,validationState:v,disabled:e.disabled,readOnly:e.readOnly}}},90363:function(e,a,t){"use strict";t.d(a,{i:function(){return g}});var l=t(85893),n=t(67294),i=t(59527),s=t(89285),o=t(92124),r=t(78971),d=t(66701),u=t(38315),c=t(62784),v=t(95550),p=t(56009),m=t(98232),f=t(1396),b=t(24064),y=t(24350),O=t(80225),S=t(78926),h=t(50469),C=t(28404);t(63235);let V=(0,m.G)("relative-date-picker");function g(e){var a;let t=(0,C.A)(e),{groupProps:m,fieldProps:g,modeSwitcherProps:j,calendarButtonProps:x,popupProps:D,calendarProps:F,timeInputProps:z}=(0,h.C)(t,e),[P,Z]=n.useState(null),U=(0,r.c)(m.ref,Z),k=(0,d.X)(),w=t.datePickerState.formatInfo.hasTime&&!t.datePickerState.formatInfo.hasDate;return(0,l.jsxs)("div",Object.assign({},m,{ref:U,className:V(null,e.className),children:[k&&"absolute"===t.mode&&(0,l.jsx)(y.e,{state:t.datePickerState,props:{id:e.id,disabled:e.disabled,readOnly:e.readOnly,placeholderValue:e.placeholderValue,timeZone:e.timeZone}}),(0,l.jsx)(u.o,Object.assign({},g,{controlProps:Object.assign(Object.assign({},g.controlProps),{disabled:k&&"absolute"===t.mode,className:V("input",{mobile:k&&"absolute"===t.mode})}),hasClear:e.hasClear&&!(k&&"absolute"===t.mode),startContent:(0,l.jsx)(c.z,Object.assign({},j,{children:(0,l.jsx)(v.J,{data:i.Z})})),endContent:(0,l.jsxs)(n.Fragment,{children:[!k&&!w&&(0,l.jsx)(c.z,Object.assign({},x,{children:(0,l.jsx)(v.J,{data:s.Z})})),!k&&w&&(0,l.jsx)(O.n,{size:x.size,icon:o.Z}),k&&"absolute"===t.mode&&(0,l.jsx)(O.n,{size:x.size,icon:w?o.Z:s.Z})]})})),(0,l.jsx)(S.x,{name:e.name,value:null===(a=t.value)||void 0===a?void 0:a.type,disabled:t.disabled,form:e.form}),(0,l.jsx)(S.x,{name:e.name,value:t.value,toStringValue:e=>e?"relative"===e.type?e.value:e.value.toISOString():"",onReset:e=>{t.setValue(e)},disabled:t.disabled,form:e.form}),!k&&!w&&(0,l.jsx)(p.G,Object.assign({},D,{anchorElement:P,children:(0,l.jsxs)("div",{className:V("popup-content"),children:["function"==typeof e.children?e.children(F):(0,l.jsx)(f.f,Object.assign({},F)),t.datePickerState.formatInfo.hasTime&&(0,l.jsx)("div",{className:V("time-field-wrapper"),children:(0,l.jsx)(b.N,Object.assign({},z))})]})}))]}))}},50469:function(e,a,t){"use strict";t.d(a,{C:function(){return O}});var l=t(97582),n=t(67294),i=t(58375),s=t(71551),o=t(78971),r=t(97095),d=t(60677),u=t(29040),c=t(75350),v=t(237),p=t(6524),m=t(98232),f=JSON.parse('{"Calendar":"Calendar","Formula input mode":"Formula input mode"}'),b=JSON.parse('{"Calendar":"Календарь","Formula input mode":"Режим ввода формулы"}');let y=(0,p.e)({en:f,ru:b},`${m.A}relative-date-picker`);function O(e,a){var{onFocus:t,onBlur:p}=a,m=(0,l.__rest)(a,["onFocus","onBlur"]);let{mode:f,setMode:b,datePickerState:O,relativeDateState:S}=e,[h,C]=n.useState("relative"===f?S.lastCorrectDate:O.dateFieldState.displayValue),[V,g]=n.useState(S.lastCorrectDate);V!==S.lastCorrectDate&&(g(S.lastCorrectDate),C(S.lastCorrectDate));let[j,x]=n.useState(O.dateFieldState.displayValue);O.dateFieldState.displayValue.isSame(j,"day")||(x(O.dateFieldState.displayValue),C(O.dateFieldState.displayValue));let{focusWithinProps:D}=(0,i.L)({onFocusWithin:t,onBlurWithin:p,onFocusWithinChange(a){a||e.setActive(!1)}}),[F,z]=(0,s.z)(void 0,!1,m.onOpenChange);!e.isActive&&F&&z(!1);let P={onFocus:()=>{e.isActive||(e.setActive(!0),z(!0))},errorMessage:m.errorMessage,errorPlacement:m.errorPlacement,controlProps:{onClick:()=>{!e.disabled&&(F||(e.setActive(!0),z(!0)))},role:"combobox","aria-expanded":F}},{inputProps:Z}=(0,r.v)(O.dateFieldState,Object.assign(Object.assign({},m),{value:void 0,defaultValue:void 0,onUpdate:void 0})),{inputProps:U}=(0,u.a)(S,Object.assign(Object.assign({},m),{value:void 0,defaultValue:void 0,onUpdate:void 0})),k=m.validationState;k||(k="relative"===f?S.validationState:O.dateFieldState.validationState);let w=n.useRef(null),A=(0,o.c)(w,"relative"===f?U.controlRef:Z.controlRef),I=n.useRef(null);function N(){setTimeout(()=>{var e;null===(e=I.current)||void 0===e||e.focus()})}function T(){setTimeout(()=>{var e;null===(e=w.current)||void 0===e||e.focus({preventScroll:!0})})}let _=n.useRef(null),B=(0,d.P)(O.formatInfo);return{groupProps:Object.assign(Object.assign({ref:_,tabIndex:-1,role:"group"},D),{onKeyDown:e=>{e.altKey&&("ArrowDown"===e.key||"ArrowUp"===e.key)&&(e.preventDefault(),e.stopPropagation(),z(!0),N())}}),fieldProps:(0,v.d)(P,"relative"===f?U:Z,"absolute"===f&&O.dateFieldState.isEmpty&&!e.isActive&&m.placeholder?{value:""}:void 0,{controlRef:A,validationState:k}),modeSwitcherProps:{size:(0,c.W)(m.size),disabled:e.readOnly||e.disabled,view:"flat-secondary",style:{zIndex:2,marginInlineEnd:2},selected:"relative"===f,"aria-label":y("Formula input mode"),onClick:()=>{if(b("relative"===f?"absolute":"relative"),"relative"===f){let e=O.value;e&&C(e)}else S.parsedDate&&C(S.parsedDate);T()}},calendarButtonProps:{size:(0,c.W)(m.size),disabled:e.disabled,"aria-label":y("Calendar"),"aria-haspopup":"dialog","aria-expanded":F,view:"flat-secondary",onClick:()=>{e.setActive(!0),z(!F),F||N()}},popupProps:{open:F,onEscapeKeyDown:()=>{z(!1),T()},onOutsideClick:e=>{var a;!e.target||(null===(a=_.current)||void 0===a?void 0:a.contains(e.target))||z(!1)},onTransitionOutComplete:()=>{C("relative"===f?S.lastCorrectDate:O.dateFieldState.displayValue)},placement:m.popupPlacement,offset:m.popupOffset,className:m.popupClassName,style:m.popupStyle,returnFocus:!1},calendarProps:{ref:I,size:"s"===m.size?"m":m.size,readOnly:m.readOnly,value:e.selectedDate,onUpdate:a=>{O.setDateValue(a),e.datePickerState.formatInfo.hasTime||(z(!1),T())},focusedValue:h,onFocusUpdate:C,minValue:m.minValue,maxValue:m.maxValue,modes:"absolute"===f?B:void 0},timeInputProps:{value:O.timeValue,onUpdate:O.setTimeValue,format:O.timeFormat,readOnly:e.readOnly,disabled:e.disabled,timeZone:m.timeZone,hasClear:m.hasClear,size:m.size}}}},28404:function(e,a,t){"use strict";t.d(a,{A:function(){return r}});var l=t(67294),n=t(71551),i=t(71107),s=t(54595),o=t(47006);function r(e){var a;let[t,r]=(0,n.z)(e.value,null!==(a=e.defaultValue)&&void 0!==a?a:null,e.onUpdate),[d,u]=l.useState((null==t?void 0:t.type)==="relative"?"relative":"absolute"),[c,v]=l.useState(t);t!==c&&(v(t),t&&t.type!==d&&u(t.type));let[p,m]=l.useState((null==t?void 0:t.type)==="absolute"?t.value:null);(null==t?void 0:t.type)==="absolute"&&t.value!==p&&m(t.value);let f=(0,s.N)({value:p,onUpdate:a=>{let l=a;l&&e.roundUp&&(l=(0,i.p4)(l,f.formatInfo,"endOf"),f.formatInfo.hasTime||(l=l.endOf("day"))),m(l),(null==t?void 0:t.type)==="absolute"&&(null==l?void 0:l.isSame(t.value))||r(l?{type:"absolute",value:l}:null)},format:e.format,placeholderValue:e.placeholderValue,timeZone:e.timeZone,disabled:e.disabled,readOnly:e.readOnly,minValue:e.minValue,maxValue:e.maxValue}),[b,y]=l.useState((null==t?void 0:t.type)==="relative"?t.value:null);(null==t?void 0:t.type)==="relative"&&t.value!==b&&y(t.value);let O=(0,o.q)({value:b,onUpdate:e=>{y(e),((null==t?void 0:t.type)!=="relative"||e!==t.value)&&r(e?{type:"relative",value:e}:null)},disabled:e.disabled,readOnly:e.readOnly,timeZone:f.timeZone,roundUp:e.roundUp});!t&&("absolute"===d&&p?m(null):"relative"===d&&b&&y(null));let S="relative"===d?O.parsedDate:f.dateFieldState.displayValue,[h,C]=l.useState(!1);return{value:t,setValue(a){e.readOnly||e.disabled||r(a)},disabled:e.disabled,readOnly:e.readOnly,mode:d,setMode(a){!e.readOnly&&!e.disabled&&a!==d&&(u(a),"relative"===a?(!t&&b||t)&&r(b?{type:"relative",value:b}:null):(!t&&p||t)&&r(p?{type:"absolute",value:p}:null))},datePickerState:f,relativeDateState:O,selectedDate:S,isActive:h,setActive:C}}},63235:function(){}}]);