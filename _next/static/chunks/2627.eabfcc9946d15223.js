(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2627],{62784:function(e,t,i){"use strict";i.d(t,{z:function(){return u}});var s=i(85893),n=i(67294),o=i(96971),r=i(81596),h=i(85435),a=i(58869),l=i(35131);i(19608);let c=(0,o.Ge)("button"),u=Object.assign(n.forwardRef(function(e,t){let{view:i="normal",size:o="m",pin:r="round-round",selected:a,disabled:l=!1,loading:u=!1,width:d,children:p,extraProps:f,qa:v,onClickCapture:g,...w}=e,x={onClickCapture:n.useCallback(e=>{h.P.publish({componentId:"Button",eventId:"click",domEvent:e,meta:{content:e.currentTarget.textContent,view:i}}),g&&g(e)},[i,g]),className:c({view:i,size:o,pin:r,selected:a,disabled:l||u,loading:u,width:d},w.className),"data-qa":v};return void 0!==e.component?n.createElement(e.component,{...w,...f,...x,ref:t,"aria-disabled":l??void 0},m(p)):void 0!==e.href?(0,s.jsx)("a",{...w,...f,...x,ref:t,rel:"_blank"!==e.target||w.rel?w.rel:"noopener noreferrer","aria-disabled":l??void 0,children:m(p)}):(0,s.jsx)("button",{...w,...f,...x,ref:t,type:e.type||"button",disabled:l||u,"aria-pressed":a,children:m(p)})}),{Icon:l.E}),d=(0,a.s)(l.E),p=(0,a.s)("span"),f=RegExp(`^${c("icon")}($|\\s+\\w)`);function m(e){let t=n.Children.toArray(e);if(1===t.length){let e=t[0];return d(e)||p(e)&&f.test(e.props.className||"")?e:(0,r.yb)(e)||(0,r.Dc)(e)?(0,s.jsx)(u.Icon,{children:e},"icon"):(0,s.jsx)("span",{className:c("text"),children:e},"text")}{let e,i,o;let h=[];for(let o of t){let t=(0,r.yb)(o)||(0,r.Dc)(o),a=d(o),m=p(o)&&f.test(o.props.className||"");if(t||a||m){if(e||0!==h.length)i||0===h.length||(i=t?(0,s.jsx)(u.Icon,{side:"end",children:o},"icon-end"):a?n.cloneElement(o,{side:"end"}):n.cloneElement(o,{className:c("icon",{side:(0,l.C)("end")},o.props.className)}));else{let i="start";e=t?(0,s.jsx)(u.Icon,{side:i,children:o},"icon-start"):a?n.cloneElement(o,{side:i}):n.cloneElement(o,{className:c("icon",{side:(0,l.C)(i)},o.props.className)})}}else h.push(o)}return h.length>0&&(o=(0,s.jsx)("span",{className:c("text"),children:h},"text")),[e,i,o]}}},35131:function(e,t,i){"use strict";i.d(t,{C:function(){return l},E:function(){return a}});var s=i(85893),n=i(96971),o=i(69721);let r=(0,n.Ge)("button");function h(){(0,o.O)('[Button.Icon] Physical values (left, right) of "side" property are deprecated. Use logical values (start, end) instead.')}let a=({side:e,className:t,children:i})=>(0,s.jsx)("span",{className:r("icon",{side:l(e)},t),children:(0,s.jsx)("span",{className:r("icon-inner"),children:i})});function l(e){let t=e;return"left"===t&&(h(),t="start"),"right"===t&&(h(),t="end"),t}a.displayName="Button.Icon"},95550:function(e,t,i){"use strict";i.d(t,{J:function(){return c}});var s=i(85893),n=i(67294),o=i(96971);let r={"aria-hidden":!0};function h(e){return"object"==typeof e}function a(e){return"string"==typeof e}i(71434);let l=(0,o.Ge)("icon"),c=n.forwardRef(({data:e,width:t,height:i,size:n,className:o,fill:u="currentColor",stroke:d="none",qa:p},f)=>{let m,v,g;if(n&&(m=n,v=n),t&&(m=t),i&&(v=i),h(e))({viewBox:g}=e);else if(a(e))g=function(e){let t=e.match(/viewBox=(["']?)([\d\s,-]+)\1/);return t?t[2]:void 0}(e);else if(("object"==typeof e||"function"==typeof e)&&"defaultProps"in e)({viewBox:g}=e.defaultProps);else if("function"==typeof e&&(!e.prototype||!e.prototype.render)){let t=e({});t&&({viewBox:g}=t.props)}if(g&&(!m||!v)){let e=g.split(/\s+|\s*,\s*/);m||(m=e[2]),v||(v=e[3])}let w={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:m,height:v,className:l(null,o),fill:u,stroke:d,"data-qa":p,...r};if(a(e)){let t=e.replace(/<svg[^>]*>/,e=>e.replace(/(width|height)=(["']?)\d+\2/g,"").replace(/(\s){2,}\b/g,"$1").replace(/(\s)+>/g,">"));return(0,s.jsx)("svg",{...w,ref:f,dangerouslySetInnerHTML:{__html:t}})}if(h(e)){let t=c.prefix+(e.url||`#${e.id}`);return(0,s.jsx)("svg",{...w,viewBox:g,ref:f,children:(0,s.jsx)("use",{href:t,xlinkHref:t})})}return e.defaultProps&&(e.defaultProps.width=e.defaultProps.height=void 0),(0,s.jsx)("svg",{...w,ref:f,children:(0,s.jsx)(e,{width:void 0,height:void 0})})});c.displayName="Icon",c.prefix=""},31455:function(e,t,i){"use strict";i.d(t,{y:function(){return v}});var s=i(85893),n=i(67294),o=i(93075),r=i(5813),h=i(59384),a=i(74554),l=i(69721);let c=(0,i(96971).Ge)("sheet");class u{x;y;timeStamp;constructor(e,t){this.x=e,this.y=t,this.timeStamp=Date.now()}}class d{pointsLen;points=[];constructor(e=5){this.pointsLen=e,this.clear()}clear(){this.points=Array(this.pointsLen)}addMovement({x:e,y:t}){this.points.pop(),this.points.unshift(new u(e,t))}getYAcceleration(e=1){let t=this.points[0],i=this.points[e];return t&&i?(t.y-i.y)/Math.pow(t.timeStamp-i.timeStamp,2):0}}i(30252);let p=[];class f extends n.Component{static #e=this.defaultProps={id:"sheet",allowHideOnContentScroll:!0};componentDidMount(){this.addListeners(),this.show();let e=this.getAvailableContentHeight(this.sheetContentHeight);this.setInitialStyles(e),this.setState({prevSheetHeight:e})}componentDidUpdate(e){let{visible:t,location:i}=this.props;!e.visible&&t&&this.show(),(e.visible&&!t||this.shouldClose(e))&&this.hide(),e.location.pathname!==i.pathname&&(p=[])}componentWillUnmount(){this.removeListeners()}render(){let{content:e,contentClassName:t,swipeAreaClassName:i,hideTopBar:o,title:r}=this.props,{deltaY:h,swipeAreaTouched:a,contentTouched:l,veilTouched:u}=this.state,d={"with-transition":!h||u},p={"with-transition":d["with-transition"]},f={"always-full-height":this.props.alwaysFullHeight};return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)("div",{ref:this.veilRef,className:c("veil",d),onClick:this.onVeilClick,onTransitionEnd:this.onVeilTransitionEnd,role:"presentation","data-qa":"sheet-veil"}),(0,s.jsxs)("div",{ref:this.sheetRef,className:c("sheet",p),role:"dialog","aria-modal":"true","aria-label":r,children:[!o&&(0,s.jsx)("div",{ref:this.sheetTopRef,className:c("sheet-top"),children:(0,s.jsx)("div",{className:c("sheet-top-resizer")})}),(0,s.jsx)("div",{className:c("sheet-swipe-area",i),onTouchStart:this.onSwipeAreaTouchStart,onTouchMove:this.onSwipeAriaTouchMove,onTouchEnd:this.onSwipeAriaTouchEnd}),(0,s.jsx)("div",{ref:this.sheetScrollContainerRef,className:c("sheet-scroll-container",{"without-scroll":h>0&&l||a}),onTouchStart:this.onContentTouchStart,onTouchMove:this.onContentTouchMove,onTouchEnd:this.onContentTouchEnd,onTransitionEnd:this.onContentTransitionEnd,children:(0,s.jsx)("div",{ref:this.sheetMarginBoxRef,className:c("sheet-margin-box",f),children:(0,s.jsx)("div",{className:c("sheet-margin-box-border-compensation"),children:(0,s.jsxs)("div",{className:c("sheet-content",t),children:[r&&(0,s.jsx)("div",{className:c("sheet-content-title"),children:r}),e]})})})})]})]})}get veilOpacity(){return this.veilRef.current?.style.opacity||0}get sheetTopHeight(){return this.sheetTopRef.current?.getBoundingClientRect().height||0}get sheetHeight(){return this.sheetRef.current?.getBoundingClientRect().height||0}get sheetScrollTop(){return this.sheetScrollContainerRef.current?.scrollTop||0}get sheetContentHeight(){return this.sheetMarginBoxRef.current?.getBoundingClientRect().height||0}setInitialStyles(e){this.sheetScrollContainerRef.current&&this.sheetMarginBoxRef.current&&(this.sheetScrollContainerRef.current.style.height=`${e}px`)}addListeners(){window.addEventListener("resize",this.onResizeWindow),this.sheetMarginBoxRef.current&&(this.observer=new ResizeObserver(()=>{this.state.inWindowResizeScope||this.onResize()}),this.observer.observe(this.sheetMarginBoxRef.current))}removeListeners(){window.removeEventListener("resize",this.onResizeWindow),this.observer&&this.observer.disconnect()}setHash(){let{id:e,platform:t,location:i,history:s}=this.props;if(t===h.t.BROWSER)return;let n={...i,hash:e};switch(t){case h.t.IOS:i.hash&&p.push(i.hash),s.replace(n);break;case h.t.ANDROID:s.push(n)}}removeHash(){let{id:e,platform:t,location:i,history:s}=this.props;if(t!==h.t.BROWSER&&i.hash===`#${e}`)switch(t){case h.t.IOS:s.replace({...i,hash:p.pop()??""});break;case h.t.ANDROID:s.goBack()}}shouldClose(e){let{id:t,platform:i,location:s,history:n}=this.props;return i!==h.t.BROWSER&&"POP"===n.action&&e.location.hash!==s.hash&&s.hash!==`#${t}`}constructor(...e){super(...e),this.veilRef=n.createRef(),this.sheetRef=n.createRef(),this.sheetTopRef=n.createRef(),this.sheetMarginBoxRef=n.createRef(),this.sheetScrollContainerRef=n.createRef(),this.velocityTracker=new d,this.observer=null,this.resizeWindowTimer=null,this.state={startScrollTop:0,startY:0,deltaY:0,prevSheetHeight:0,swipeAreaTouched:!1,contentTouched:!1,veilTouched:!1,isAnimating:!1,inWindowResizeScope:!1,delayedResize:!1},this.setStyles=e=>{let{status:t,deltaHeight:i=0}=e;if(!this.sheetRef.current||!this.veilRef.current)return;let s=this.sheetHeight-i,n="showing"===t?`translate3d(0, -${s}px, 0)`:"translate3d(0, 0, 0)",o=0;"showing"===t&&(o=0===i?1:s/this.sheetHeight),this.veilRef.current.style.opacity=String(o),this.sheetRef.current.style.transform=n},this.getAvailableContentHeight=e=>{let t=.9;"number"==typeof this.props.maxContentHeightCoefficient&&this.props.maxContentHeightCoefficient>=0&&this.props.maxContentHeightCoefficient<=1?t=this.props.maxContentHeightCoefficient:"number"==typeof this.props.maxContentHeightCoefficient&&(0,l.O)('[Sheet] The value of the "maxContentHeightCoefficient" property must be between 0 and 1');let i=window.innerHeight*t-this.sheetTopHeight;return this.props.alwaysFullHeight?i:e>=i?i:e},this.show=()=>{this.setState({isAnimating:!0},()=>{this.setStyles({status:"showing"}),this.setHash()})},this.hide=()=>{this.setState({isAnimating:!0},()=>{this.setStyles({status:"hiding"}),this.removeHash()})},this.onSwipeAreaTouchStart=e=>{this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,swipeAreaTouched:!0})},this.onContentTouchStart=e=>{this.props.allowHideOnContentScroll&&!this.state.swipeAreaTouched&&(this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,startScrollTop:this.sheetScrollTop,contentTouched:!0}))},this.onSwipeAriaTouchMove=e=>{let t=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:t}),t<=0||this.setStyles({status:"showing",deltaHeight:t})},this.onContentTouchMove=e=>{if(!this.props.allowHideOnContentScroll)return;if(!this.state.startY){this.onContentTouchStart(e);return}let{startScrollTop:t,swipeAreaTouched:i}=this.state;if(i||this.sheetScrollTop>0||t>0&&t!==this.sheetScrollTop)return;let s=e.nativeEvent.touches[0].clientY-this.state.startY;if(this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),s<=0){this.setState({deltaY:0});return}this.setState({deltaY:s}),this.setStyles({status:"showing",deltaHeight:s})},this.onTouchEndAction=e=>{let t=this.velocityTracker.getYAcceleration();this.sheetHeight<=e?this.props.hideSheet():e>50&&t<=.08&&t>=-.02||t>.08?this.hide():0!==e&&this.show()},this.onSwipeAriaTouchEnd=()=>{let{deltaY:e}=this.state;this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,swipeAreaTouched:!1})},this.onContentTouchEnd=()=>{let{deltaY:e,swipeAreaTouched:t}=this.state;this.props.allowHideOnContentScroll&&!t&&(this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,contentTouched:!1}))},this.onVeilClick=()=>{this.state.isAnimating||(this.setState({veilTouched:!0}),this.hide())},this.onVeilTransitionEnd=()=>{if(this.setState({isAnimating:!1}),"0"===this.veilOpacity){this.props.hideSheet();return}this.state.delayedResize&&(this.onResizeWindow(),this.setState({delayedResize:!1}))},this.onContentTransitionEnd=e=>{"height"===e.propertyName&&this.sheetScrollContainerRef.current&&(this.sheetScrollContainerRef.current.style.transition="none")},this.onResizeWindow=()=>{if(this.state.isAnimating){this.setState({delayedResize:!0});return}this.setState({inWindowResizeScope:!0}),this.resizeWindowTimer&&window.clearTimeout(this.resizeWindowTimer),this.resizeWindowTimer=window.setTimeout(()=>{this.onResize()},50)},this.onResize=()=>{if(!this.sheetRef.current||!this.sheetScrollContainerRef.current)return;let e=this.sheetContentHeight;if(e===this.state.prevSheetHeight&&!this.state.inWindowResizeScope)return;let t=this.getAvailableContentHeight(e);this.sheetScrollContainerRef.current.style.transition=this.state.prevSheetHeight>e?"height 0s ease 0.3s":"none",this.sheetScrollContainerRef.current.style.height=`${t}px`,this.sheetRef.current.style.transform=`translate3d(0, -${t+this.sheetTopHeight}px, 0)`,this.setState({prevSheetHeight:e,inWindowResizeScope:!1})}}}let m=(0,a.z)(function(e){let t=t=>{let{useHistory:i,useLocation:n,...o}=t;return(0,s.jsx)(e,{...o,history:i(),location:n()})},i=e.displayName||e.name||"Component";return t.displayName=`withRouterWrapper(${i})`,t}(f)),v=e=>{let{children:t,onClose:i,visible:h,id:a,title:l,className:u,contentClassName:d,swipeAreaClassName:p,allowHideOnContentScroll:f,hideTopBar:v,maxContentHeightCoefficient:g,alwaysFullHeight:w,container:x,disablePortal:S,qa:y}=e,[C,R]=n.useState(h),[T,b]=n.useState(h);return(!T&&h&&R(!0),h!==T&&b(h),C)?(0,s.jsx)(r.h,{container:x,disablePortal:S,children:(0,s.jsx)(o.y0,{"data-qa":y,className:c(null,u),lockScroll:C,style:{overflow:void 0},children:(0,s.jsx)(m,{id:a,content:t,contentClassName:d,swipeAreaClassName:p,title:l,visible:h,allowHideOnContentScroll:f,hideTopBar:v,hideSheet:()=>{i&&i(),R(!1)},maxContentHeightCoefficient:g,alwaysFullHeight:w})})}):null}},54041:function(e,t,i){"use strict";i.d(t,{z:function(){return o}});var s=i(67294);let n={mobile:!1,platform:i(59384).t.BROWSER,useHistory:()=>({action:"",replace(){},push(){},goBack(){}}),useLocation:()=>({pathname:"",search:"",hash:""})},o=s.createContext(n)},59384:function(e,t,i){"use strict";i.d(t,{P:function(){return r},t:function(){return n}});var s,n,o=i(96971);(s=n||(n={})).IOS="ios",s.ANDROID="android",s.BROWSER="browser";let r=(0,o.Ge)("root")({mobile:!0}).split(/\s+/)[1]},74554:function(e,t,i){"use strict";i.d(t,{z:function(){return h}});var s=i(85893),n=i(67294),o=i(99736),r=i(54041);function h(e){let t=(0,o.i)(e);return class extends n.Component{static displayName=`withMobile(${t})`;static contextType=r.z;render(){return(0,s.jsx)(e,{...this.props,mobile:this.context.mobile,platform:this.context.platform,useHistory:this.context.useHistory,useLocation:this.context.useLocation})}}}},81596:function(e,t,i){"use strict";i.d(t,{Dc:function(){return a},xA:function(){return h},yb:function(){return l}});var s=i(95550),n=i(96971),o=i(58869);let r=1;function h(){return`${n.A7}uniq-${r++}`}let a=(0,o.s)("svg"),l=(0,o.s)(s.J)},85435:function(e,t,i){"use strict";i.d(t,{P:function(){return o},g:function(){return n}});var s=i(96971);class n{subscriptions=[];componentPrefix;constructor(e){this.componentPrefix=e}subscribe(e){this.subscriptions.push(e)}unsubscribe(e){let t=this.subscriptions.indexOf(e);t>-1&&this.subscriptions.splice(t,1)}publish({componentId:e,...t}){this.subscriptions.forEach(i=>i({...t,componentId:this.componentPrefix?`${this.componentPrefix}${e}`:e}))}withEventPublisher(e,t){return i=>{this.publish({...i,componentId:e,qa:t})}}}let o=new n(s.A7)},99736:function(e,t,i){"use strict";function s(e){return e.displayName||e.name||"Component"}i.d(t,{i:function(){return s}})},58869:function(e,t,i){"use strict";i.d(t,{s:function(){return n}});var s=i(67294);function n(e){return function(t){if(!s.isValidElement(t))return!1;let{type:i}=t;if(i===e)return!0;if("string"==typeof e||"string"==typeof i)return!1;let n=i.displayName;return!!(n&&n===e.displayName)}}},69721:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});let s=new Map;function n(e){e&&s.has(e)}},42627:function(e,t,i){"use strict";i.r(t),i.d(t,{SheetComponent:function(){return a}});var s=i(85893),n=i(62784),o=i(31455),r=i(67294);let h=(e=>{let t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let e=0;e<1e3;e++)t+=i.charAt(Math.floor(Math.random()*i.length));return t})(0),a=e=>{let{title:t,hideTopBar:i,allowHideOnContentScroll:a}=e,[l,c]=r.useState(!1),[u,d]=r.useState(!1);return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(n.z,{onClick:()=>c(!0),children:"Show Sheet"}),(0,s.jsx)(o.y,{visible:l,onClose:()=>c(!1),title:t,hideTopBar:i,allowHideOnContentScroll:a,children:(0,s.jsxs)("div",{style:{padding:"15px",display:"flex",flexDirection:"column",gap:"15px"},children:[u&&(0,s.jsx)("div",{style:{wordBreak:"break-word"},children:h}),u?(0,s.jsx)(n.z,{view:"normal",size:"s",width:"max",onClick:()=>d(!1),children:"Remove content"}):(0,s.jsx)(n.z,{view:"action",size:"s",width:"max",onClick:()=>d(!0),children:"Add content"}),(0,s.jsx)(n.z,{view:"outlined",size:"s",width:"max",onClick:()=>c(!1),children:"Close"})]})})]})}},19608:function(){},71434:function(){},30252:function(){}}]);