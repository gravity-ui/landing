(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{30978:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var i=n(67294),r=n(20758),s=[],o=new MessageChannel,a=(function(){this.postMessage(void 0)}).bind(o.port2);o.port1.onmessage=function(){var e=s;s=[];for(var t=performance.now(),n=0;n<e.length;n++)e[n](t)},o=null;var l=function(e){1===s.push(e)&&requestAnimationFrame(a)},c=n(4094);function u(){let e=performance.now();return{end:()=>performance.now()-e}}var d=n(97582),p=n(99736),h=n(80983);let v={HORIZONTAL:"horizontal",VERTICAL:"vertical"};var f=n(4743);class m extends i.PureComponent{render(){let{children:e,className:t,split:n,style:r,size:s,eleRef:o}=this.props,a={flex:1,position:"relative",outline:"none"};return void 0!==s&&("vertical"===n?a.width=s:(a.height=s,a.display="flex"),a.flex="none"),a=Object.assign({},a,r||{}),i.createElement("div",{ref:o,className:["Pane",n,t].join(" "),style:a},e)}}let g="Resizer";class w extends i.Component{render(){let{className:e,onClick:t,onDoubleClick:n,onMouseDown:r,onTouchEnd:s,onTouchStart:o,resizerClassName:a=g,split:l,style:c}=this.props;return i.createElement("span",{role:"presentation",className:[a,l,e].join(" "),style:c,onMouseDown:e=>r(e),onTouchStart:e=>{o(e)},onTouchEnd:e=>{e.preventDefault(),s(e)},onClick:e=>{t&&(e.preventDefault(),t(e))},onDoubleClick:e=>{n&&(e.preventDefault(),n(e))}})}}function R(){var e;null===(e=window.getSelection())||void 0===e||e.removeAllRanges()}function S(e,t,n,i){return"number"==typeof i?Math.max("number"==typeof t?t:0,Math.min("number"==typeof n&&n>=0?n:1/0,i)):void 0!==e?e:t}class E extends i.Component{static getDerivedStateFromProps(e,t){return E.getSizeUpdate(e,t)}static getSizeUpdate(e,t){let n={},{instanceProps:i}=t;if(i.size===e.size&&void 0!==e.size)return{};let r=void 0===e.size?S(e.defaultSize,e.minSize,e.maxSize,t.draggedSize):e.size;void 0!==e.size&&(n.draggedSize=r);let s="first"===e.primary;return n[s?"pane1Size":"pane2Size"]=r,n[s?"pane2Size":"pane1Size"]=void 0,n.instanceProps={size:e.size},n}constructor(e){super(e),this.splitPane=null,this.pane1=null,this.pane2=null,this.onMouseDown=e=>{let t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)},this.onTouchStart=e=>{let{allowResize:t,onDragStarted:n,split:i}=this.props;if(t){R();let t="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof n&&n(),this.setState({active:!0,position:t})}},this.onMouseMove=e=>{let t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)},this.onTouchMove=e=>{let{allowResize:t,maxSize:n,minSize:i,onChange:r,split:s,step:o}=this.props,{active:a,position:l}=this.state;if(t&&a){R();let t="first"===this.props.primary,a=t?this.pane1:this.pane2,c=t?this.pane2:this.pane1;if(a&&a.getBoundingClientRect){let u=a.getBoundingClientRect().width,d=a.getBoundingClientRect().height,p=l-("vertical"===s?e.touches[0].clientX:e.touches[0].clientY);if(o){if(Math.abs(p)<o)return;p=~~(p/o)*o}let h=t?p:-p;parseInt(window.getComputedStyle(a).order)>parseInt(window.getComputedStyle(c).order)&&(h=-h);let v=n;if(void 0!==n&&n<=0){let e=this.splitPane;v="vertical"===s?e.getBoundingClientRect().width+n:e.getBoundingClientRect().height+n}let f=("vertical"===s?u:d)-h,m=l-p;f<i?f=i:void 0!==n&&f>v?f=v:this.setState({position:m,resized:!0}),r&&r(f),this.setState({draggedSize:f,[t?"pane1Size":"pane2Size"]:f})}}},this.onMouseUp=()=>{let{allowResize:e,onDragFinished:t}=this.props,{active:n,draggedSize:i}=this.state;e&&n&&("function"==typeof t&&t(i),this.setState({active:!1}))};let{size:t,defaultSize:n,minSize:i,maxSize:r,primary:s}=e,o=void 0===t?S(n,i,r):t;this.state={active:!1,resized:!1,position:0,draggedSize:0,pane1Size:"first"===s?o:void 0,pane2Size:"second"===s?o:void 0,instanceProps:{size:t}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(E.getSizeUpdate(this.props,this.state))}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}render(){let{allowResize:e,children:t,className:n,onResizerClick:r,onResizerDoubleClick:s,paneClassName:o,pane1ClassName:a,pane2ClassName:l,paneStyle:c,pane1Style:u,pane2Style:d,resizerClassName:p,resizerStyle:h,split:v,style:f}=this.props,{pane1Size:R,pane2Size:S}=this.state,E=e?"":"disabled",y=p?`${p} ${g}`:p,z=i.Children.toArray(t).filter(e=>e),O=Object.assign({display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},f);"vertical"===v?Object.assign(O,{flexDirection:"row",left:0,right:0}):Object.assign(O,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});let b=["SplitPane",n,v,E],C=Object.assign(Object.assign({},c),u),L=Object.assign(Object.assign({},c),d),T=["Pane1",o,a].join(" "),j=["Pane2",o,l].join(" ");return i.createElement("div",{className:b.join(" "),ref:e=>{this.splitPane=e},style:O},i.createElement(m,{className:T,key:"pane1",eleRef:e=>{this.pane1=e},size:R,split:v,style:C},z[0]),i.createElement(w,{className:E,onClick:r,onDoubleClick:s,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:y,split:v,style:h||{}}),i.createElement(m,{className:j,key:"pane2",eleRef:e=>{this.pane2=e},size:S,split:v,style:L},z[1]))}}E.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},n(47257);let y=(0,f.cn)("styled-split-pane"),z=y("pane-resizer"),O=e=>{var{paneOneRender:t,paneTwoRender:n}=e,r=(0,d.__rest)(e,["paneOneRender","paneTwoRender"]);let s=i.useRef(null);return i.useEffect(()=>{var e,t;let n=null===(t=null===(e=s.current)||void 0===e?void 0:e.splitPane)||void 0===t?void 0:t.getElementsByClassName(z)[0],i=`${z}_hovered`,r=()=>{null==n||n.classList.add(i)},o=()=>{null==n||n.classList.remove(i)};return null==n||n.addEventListener("touchstart",r),null==n||n.addEventListener("touchend",o),function(){null==n||n.removeEventListener("touchstart",r),null==n||n.removeEventListener("touchend",o)}},[]),i.createElement(E,Object.assign({},r,{ref:s,className:y(),resizerClassName:z}),i.createElement(m,null,t()),i.createElement(m,null,n()))},b="object"==typeof window,C=b&&"function"==typeof window.ScreenOrientation&&"function"==typeof screen.orientation.addEventListener&&"string"==typeof screen.orientation.type,L=Object.values({PORTRAIT_PRIMARY:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary",LANDSCAPE_PRIMARY:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary"});function T(e){let t=i.useRef();return i.useEffect(()=>{t.current=e},[e]),t.current}var j=n(614);let M=i.forwardRef(function(e,t){let{renderer:n}=e,[r,s]=i.useState();return i.useImperativeHandle(t,()=>({redraw(e){s(e)}}),[]),i.createElement(j.d,Object.assign({},r,{renderer:n}))});function N(){return .6*window.innerWidth}let A=function(e){let t=(0,p.i)(e),n=i.forwardRef(function(t,n){var r;let{data:s}=t,o=(0,d.__rest)(t,["data"]),a=i.useRef(null),l=i.useRef(null),c=i.useRef(null),u=i.useRef(null),{allowResize:p,minSize:f,maxSize:m,tooltipHeight:g,split:w,size:R,setTooltipHeight:S,setSplit:E,setSize:y}=function(e){var t;let n,r;let{container:s}=e,[o,a]=i.useState(0),[l,c]=i.useState(b&&window.innerWidth>window.innerHeight?v.VERTICAL:v.HORIZONTAL),[u,d]=i.useState((t=l,b&&t===v.VERTICAL?N():"calc(100% - 24px)")),p=l===v.HORIZONTAL;if(b&&s&&l===v.HORIZONTAL){let e=s.getBoundingClientRect().height;n=e-24-o,r=e/3}return{allowResize:p,maxSize:n,minSize:r,tooltipHeight:o,setTooltipHeight:a,split:l,setSplit:c,size:u,setSize:d}}({container:a.current}),z=T(g),j=T(w);if(j&&w!==j&&w===v.VERTICAL)y(N());else if(w===v.HORIZONTAL&&a.current&&0===z&&g!==z){let e=a.current.getBoundingClientRect().height;e-24===R&&(y(e-24-g),null===(r=c.current)||void 0===r||r.reflow())}let A=i.useCallback(()=>{l.current&&S(l.current.getBoundingClientRect().height)},[S]);(0,h.y)({ref:l,onResize:A});let I=i.useMemo(()=>{var e,t,n;let i=null===(t=null===(e=s.chart)||void 0===e?void 0:e.events)||void 0===t?void 0:t.pointermove;return Object.assign(Object.assign({},s),{chart:Object.assign(Object.assign({},s.chart),{events:Object.assign(Object.assign({},null===(n=s.chart)||void 0===n?void 0:n.events),{pointermove:(e,t)=>{var n;null===(n=u.current)||void 0===n||n.redraw(e),null==i||i(e,t)}})}),tooltip:Object.assign(Object.assign({},s.tooltip),{enabled:!1})})},[s]),P=i.useCallback(()=>{E(window.innerWidth>window.innerHeight?v.VERTICAL:v.HORIZONTAL)},[E]),k=i.useCallback(e=>{let t=e.target&&"type"in e.target&&e.target.type;"string"==typeof t&&L.includes(t)&&E(function(e){switch(e){case"landscape-primary":case"landscape-secondary":return"vertical";default:return"horizontal"}}(t))},[E]),x=i.useCallback(e=>{var t;null===(t=c.current)||void 0===t||t.reflow(),w===v.HORIZONTAL&&y(e)},[w,y]);return i.useLayoutEffect(()=>(C?screen.orientation.addEventListener("change",k):b&&window.addEventListener("orientationchange",P),()=>{C?screen.orientation.removeEventListener("change",k):b&&window.removeEventListener("orientationchange",P)}),[P,k]),i.createElement("div",{ref:a,style:{position:"relative",height:"100%"}},i.createElement(O,{allowResize:p,maxSize:m,minSize:f,size:R,split:w,onChange:x,paneOneRender:()=>i.createElement(e,Object.assign({},o,{ref:c,data:I})),paneTwoRender:()=>i.createElement("div",{ref:l},i.createElement(M,{ref:u,renderer:I.tooltip.renderer}))}))});return n.displayName=`withSplitPane(${t})`,n}(r.k);var I=i.forwardRef(function(e,t){let{data:n,tooltip:s,onLoad:o,onRender:a,onChartLoad:d}=e,p=c.X.get("lang"),h=i.useRef(u()),v=i.useRef(null),f=(null==s?void 0:s.splitted)?A:r.k,m=i.useCallback(({dimensions:e})=>{e&&(h.current||(h.current=u()),l(()=>{var e;let t=null===(e=h.current)||void 0===e?void 0:e.end();null==a||a({renderTime:t}),null==o||o({widgetRendering:t}),h.current=null}))},[a,o]);return i.useImperativeHandle(t,()=>({reflow(){var e;null===(e=v.current)||void 0===e||e.reflow()}}),[]),i.useLayoutEffect(()=>{d&&d({})},[d]),i.createElement(f,{ref:v,data:n,lang:p,onResize:m})})},47257:function(){}}]);