(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5969],{20087:function(e,t,n){"use strict";var i=n(67294);t.Z=e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.488 3.43a.75.75 0 0 1 .081 1.058l-6 7a.75.75 0 0 1-1.1.042l-3.5-3.5A.75.75 0 0 1 4.03 6.97l2.928 2.927 5.473-6.385a.75.75 0 0 1 1.057-.081",clipRule:"evenodd"}))},51693:function(e,t,n){"use strict";var i=n(67294);t.Z=e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.97 5.47a.75.75 0 0 1 1.06 0L8 9.44l3.97-3.97a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 0 1 0-1.06",clipRule:"evenodd"}))},95969:function(e,t,n){"use strict";n.d(t,{G:function(){return $},P:function(){return q}});var i=n(85893),r=n(67294),s=n(21952),o=n(71551),l=n(78971),a=n(39363),c=n(73777),u=n(58375),h=n(17785),d=n(28557),p=n(66701),f=n(33602),v=n(38315),m=n(96971),b=n(32835),g=n(71015);n(30114);let y=(0,m.Ge)("select-filter"),x={padding:"4px 4px 0"},w=r.forwardRef((e,t)=>{let{onChange:n,onKeyDown:s,renderFilter:o,size:l,value:a,placeholder:c,popupId:u,activeIndex:h}=e,d=r.useRef(null);r.useImperativeHandle(t,()=>({focus:()=>d.current?.focus({preventScroll:!0})}),[]);let p={value:a,placeholder:c,size:1,onKeyDown:s,onChange:e=>{n(e.target.value)},"aria-label":(0,g.Z)("label_filter"),"aria-controls":u,"aria-activedescendant":void 0===h?void 0:`${u}-item-${h}`};return o?o({onChange:n,onKeyDown:s,value:a,ref:d,style:x,inputProps:p}):(0,i.jsx)("div",{className:y(),style:x,children:(0,i.jsx)(v.o,{controlRef:d,controlProps:{className:y("input"),size:1,"aria-label":p["aria-label"],"aria-controls":p["aria-controls"],"aria-activedescendant":p["aria-activedescendant"]},size:l,value:a,placeholder:c,onUpdate:n,onKeyDown:s,qa:b.Gd.FILTER_INPUT})})});w.displayName="SelectFilter";var C=n(45095),S=n(48894);let T=(0,m.Ge)("select-list"),R=({option:e,renderOptionGroup:t})=>t?(0,i.jsx)("div",{className:T("group-label-custom"),children:t(e)}):(0,i.jsx)("div",{className:T("group-label",{empty:""===e.label}),children:(0,i.jsx)("div",{className:T("group-label-content"),children:e.label})});var E=n(20087),j=n(95550);let k=(0,m.Ge)("select-list"),H=({option:e})=>{let{content:t,children:n,disabled:r,title:s}=e;return(0,i.jsx)("span",{title:s,className:k("option-default-label",{disabled:r}),children:t||n})},N=e=>{let{renderOption:t,value:n,option:r,multiple:s}=e,o=-1!==n.indexOf(r.value),l=t?t(r):(0,i.jsx)(H,{option:r});return(0,i.jsxs)("div",{"data-qa":r.qa,className:k("option",{colored:o&&!s,disabled:r.disabled}),children:[s&&(0,i.jsx)(j.J,{className:k("tick-icon",{shown:o&&s}),data:E.Z}),l]})};var A=n(33268),L=n(97211);let O=e=>{let t=r.useRef(null);return(0,A.s)({element:t.current,onIntersect:e?.onIntersect}),(0,i.jsx)("div",{ref:t,className:(0,b.V_)("loading-indicator"),children:(0,i.jsx)(L.a,{})})};n(67453);let I={value:"__SELECT_LIST_ITEM_LOADING__",disabled:!0},P=r.forwardRef((e,t)=>{let{onOptionClick:n,renderOption:s,renderOptionGroup:o,getOptionHeight:l,getOptionGroupHeight:a,size:c,flattenOptions:u,value:h,multiple:d,virtualized:p,mobile:f,loading:v,onLoadMore:m,id:g,activeIndex:y,onChangeActive:x}=e,w=r.useMemo(()=>v?[...u,I]:u,[u,v]),T=r.useMemo(()=>u.reduce((e,t,n)=>("value"in t&&h.includes(t.value)&&e.push(n),e),[]),[u,h]),E=(0,S.nK)({options:w,getOptionHeight:l,getOptionGroupHeight:a,size:c,mobile:f}),j=r.useCallback((e,t)=>(0,S.T7)({getOptionHeight:l,getOptionGroupHeight:a,size:c,option:e,index:t,mobile:f}),[l,a,f,c]),k=r.useCallback((e,t,n)=>{if("label"in e){let t=o?e=>o(e,{itemHeight:j(e,n)}):void 0;return(0,i.jsx)(R,{option:e,renderOptionGroup:t})}if(e.value===I.value)return(0,i.jsx)(O,{onIntersect:0===n?void 0:m});let r=s?e=>s(e,{itemHeight:j(e,n)}):void 0;return(0,i.jsx)(N,{option:e,value:h,multiple:d,renderOption:r})},[s,o,h,d,j,m]);return(0,i.jsx)(C.a,{ref:t,className:(0,b.V_)({size:c,virtualized:p,mobile:f}),qa:b.Gd.LIST,itemClassName:(0,b.V_)("item"),itemHeight:j,itemsHeight:p?E:void 0,items:w,filterable:!1,virtualized:p,renderItem:k,onItemClick:n,selectedItemIndex:T,id:g,role:"listbox",activeItemIndex:y,onChangeActive:x,deactivateOnLeave:!1,onScrollToItem:S.Ht})});P.displayName="SelectList",n(6883);let z=(0,m.Ge)("select-empty-placeholder"),M=({renderEmptyOptions:e,filter:t})=>(0,i.jsx)("div",{className:z({empty:!e}),children:e?.({filter:t})});var Y=n(74882),_=n(16052),W=n(29076);function B(e){let{name:t,value:n,disabled:s,form:o,onReset:l}=e,a=(0,W.q)({onReset:l,initialValue:n});return!t||s?null:0===n.length?(0,i.jsx)("input",{ref:a,type:"hidden",name:t,value:n,form:o,disabled:s}):(0,i.jsx)(r.Fragment,{children:n.map((e,n)=>(0,i.jsx)("input",{ref:0===n?a:void 0,value:e,type:"hidden",name:t,form:o,disabled:s},e))})}let F=e=>{let{onChange:t,open:n,disabled:i}=e,[s,o]=r.useState(""),[l,a]=r.useState(),c=r.useCallback(e=>{clearTimeout(l),e&&a(window.setTimeout(()=>o(""),b.gX))},[l]),u=r.useCallback(e=>{e.stopPropagation();let t=(0,S._x)(e.key,s);s!==t&&(c(t),o(t))},[c,s]);r.useEffect(()=>(n&&!i?document.addEventListener("keydown",u):n||i||o(""),()=>{n&&!i&&document.removeEventListener("keydown",u)}),[u,n,i]),r.useEffect(()=>(n||clearTimeout(l),()=>clearTimeout(l)),[n,l]),r.useEffect(()=>{t(s)},[t,s])};function V(e,t){let n=-1;return t.length>0&&(n=e.findIndex(e=>"value"in e&&t.includes(e.value)&&!e.disabled)),-1===n&&(n=e.findIndex(e=>"value"in e&&!e.disabled)),-1===n?void 0:n}var G=n(72917),D=n(70681);n(20680);let $=e=>{let{renderFilter:t,renderList:n}=e;return(0,i.jsxs)(r.Fragment,{children:[t(),n()]})},q=r.forwardRef(function(e,t){let{onUpdate:n,onOpenChange:v,onFilterChange:m,renderControl:g,renderFilter:y,renderOption:x,renderOptionGroup:C,renderSelectedOption:T,renderEmptyOptions:R,renderPopup:E=$,getOptionHeight:j,getOptionGroupHeight:k,filterOption:H,name:N,form:A,className:L,controlClassName:O,popupClassName:I,qa:z,value:W,defaultValue:D,defaultOpen:q,open:Z,label:J,placeholder:K,filterPlaceholder:U,width:X,popupWidth:Q,popupPlacement:ee,error:et,virtualizationThreshold:en=b._7,view:ei="normal",size:er="m",pin:es="round-round",multiple:eo=!1,disabled:el=!1,filterable:ea=!1,filter:ec,disablePortal:eu,hasClear:eh=!1,onClose:ed,id:ep,hasCounter:ef,renderCounter:ev,title:em}=e,eb=(0,p.X)(),[eg,ey]=(0,o.z)(ec,"",m),ex=r.useRef(null),ew=r.useRef(null),eC=r.useRef(null),eS=r.useRef(null),eT=(0,l.c)(t,ew),{value:eR,open:eE,toggleOpen:ej,setValue:ek,handleSelection:eH,handleClearValue:eN}=(0,a.L)({onUpdate:n,value:W,defaultValue:D,defaultOpen:q,multiple:eo,open:Z,onClose:ed,onOpenChange:v,disabled:el});r.useEffect(()=>{!eE&&ea&&eb&&setTimeout(()=>{ey("")},300)},[eE,ea,ey,eb]);let eA=e.options||(0,S.DA)(e.children),eL=(0,G.n)({options:eA,filter:eg,filterable:ea,filterOption:H}),eO=(0,G.V)(eL),eI=(0,S.Df)(eL,eR,T),eP=eO.length>=en,{errorMessage:ez,errorPlacement:eM,validationState:eY}=(0,d.II)({error:et,errorMessage:e.errorMessage,errorPlacement:e.errorPlacement||"outside",validationState:e.validationState}),e_=(0,c.u)(),eW="invalid"===eY,eB=eW&&!!ez&&"outside"===eM,eF=eW&&!!ez&&"inside"===eM,eV=r.useCallback(e=>{if(!(!e||e?.disabled)&&!("label"in e)){if(eo){let e=eS?.current?.getActiveItem();eb||eC.current?.focus(),"number"==typeof e&&setTimeout(()=>{eS?.current?.activateItem(e,!0)},50)}eH(e)}},[eH,eb,eo]),eG=r.useCallback(e=>{[s.V.ENTER,s.V.SPACEBAR].includes(e.key)&&eE&&(e.preventDefault(),e.key===s.V.SPACEBAR&&eV((0,S.CL)(eS))),[s.V.ARROW_DOWN,s.V.ARROW_UP].includes(e.key)&&!eE&&(e.preventDefault(),ej()),e.key===s.V.ESCAPE&&eE&&ej(!1),eS?.current?.onKeyDown(e)},[eV,eE,ej]),eD=r.useCallback(e=>{eS?.current?.onKeyDown(e)},[]);F({onChange:r.useCallback(e=>{if(e){let t=(0,S.PB)(e,(0,S.qZ)(eS));"number"==typeof t&&-1!==t&&eS?.current?.activateItem(t,!0)}},[]),open:eE,disabled:ea});let e$={..."max"===X&&{width:X}},eq={};"number"==typeof X&&(eq.width=X);let eZ=r.useCallback(()=>ej(!1),[ej]),{onFocus:eJ,onBlur:eK}=e,{focusWithinProps:eU}=(0,u.L)({onFocusWithin:eJ,onBlurWithin:r.useCallback(e=>{eK?.(e),eb||eZ()},[eZ,eb,eK])}),eX=(0,c.u)(),eQ=ep??eX,e0=`select-popup-${eQ}`,[e1,e7]=function({options:e,value:t,open:n}){let[i,s]=r.useState(()=>{if(n)return V(e,t)}),[o,l]=r.useState(n);return o!==n&&(l(n),n&&s(V(e,t))),[n&&void 0!==i&&i<e.length&&!e[i].disabled?i:void 0,s]}({options:eO,open:eE,value:eR});return(0,i.jsxs)("div",{ref:ex,className:(0,b.sj)(e$,L),...eU,style:eq,tabIndex:-1,children:[(0,i.jsx)(Y.Y,{...(0,f.z)(e,{labelable:!0}),toggleOpen:ej,hasClear:eh,clearValue:eN,ref:eT,className:O,qa:z,view:ei,size:er,pin:es,label:J,placeholder:K,selectedOptionsContent:eI,isErrorVisible:eW,errorMessage:eF?ez:void 0,open:eE,disabled:el,onKeyDown:eG,renderControl:g,value:eR,popupId:e0,selectId:eQ,activeIndex:e1,hasCounter:eo&&ef,renderCounter:ev,title:em}),(0,i.jsx)(_.h,{ref:ex,className:I,controlRef:ew,width:Q,open:eE,handleClose:eZ,disablePortal:eu,virtualized:eP,mobile:eb,placement:ee,onAfterOpen:ea?()=>{eC.current?.focus()}:void 0,onAfterClose:ea?()=>{ey("")}:void 0,children:E({renderFilter:()=>ea?(0,i.jsx)(w,{ref:eC,size:er,value:eg,placeholder:U,onChange:ey,onKeyDown:eD,renderFilter:y,popupId:e0,activeIndex:e1}):null,renderList:()=>eO.length||e.loading?(0,i.jsx)(P,{ref:eS,size:er,value:eR,mobile:eb,flattenOptions:eO,multiple:eo,virtualized:eP,onOptionClick:eV,renderOption:x,renderOptionGroup:C,getOptionHeight:j,getOptionGroupHeight:k,loading:e.loading,onLoadMore:e.onLoadMore,id:e0,activeIndex:e1,onChangeActive:e7}):(0,i.jsx)(M,{filter:eg,renderEmptyOptions:R})})}),(0,i.jsx)(h.Z,{errorMessage:eB?ez:null,errorMessageId:e_}),(0,i.jsx)(B,{name:N,value:eR,disabled:el,form:A,onReset:ek})]})});q.Option=D.W,q.OptionGroup=D.Y},74882:function(e,t,n){"use strict";n.d(t,{Y:function(){return y}});var i=n(85893),r=n(67294),s=n(81372),o=n(51693),l=n(73777),a=n(95550),c=n(19681),u=n(33602),h=n(32835),d=n(71015),p=n(58405);n(12707);let f=e=>{let{size:t,onClick:n,onMouseEnter:r,onMouseLeave:s,renderIcon:o}=e,l=o?o():(0,i.jsx)(a.J,{className:(0,h.Hu)("clear"),data:p.Z});return(0,i.jsx)("button",{className:(0,h.Hu)({size:t}),"aria-label":(0,d.Z)("label_clear"),onClick:n,onMouseEnter:r,onMouseLeave:s,"data-qa":h.Gd.CLEAR,type:"button",children:l})};f.displayName="SelectClear";var v=n(44702),m=n(96971);n(40617);let b=(0,m.Ge)("select-counter");function g({count:e,size:t,disabled:n}){return(0,i.jsx)("div",{className:b({size:t}),children:(0,i.jsx)(v.x,{variant:"xl"===t?"body-2":"body-1",color:n?"hint":"primary",className:b("text"),children:e})})}n(13985);let y=r.forwardRef((e,t)=>{let{toggleOpen:n,clearValue:p,onKeyDown:v,renderControl:m,view:b,size:y,pin:x,selectedOptionsContent:w,className:C,qa:S,label:T,placeholder:R,isErrorVisible:E,errorMessage:j,open:k,disabled:H,value:N,hasClear:A,popupId:L,selectId:O,activeIndex:I,renderCounter:P,hasCounter:z,title:M}=e,Y=!!w,_=!!(R&&!Y),W=Array.isArray(N)&&N.filter(Boolean).length>0,B=(0,l.u)(),[F,V]=r.useState(!1),G=r.useCallback(e=>{e&&e.currentTarget!==document.activeElement&&"focus"in e.currentTarget&&e.currentTarget.focus(),n()},[n]),D=r.useCallback(()=>{V(!0)},[]),$=r.useCallback(()=>{V(!1)},[]),q=r.useCallback(()=>{V(!1),p()},[p]),Z=()=>{if(!z)return null;let e=N.length,t=(0,i.jsx)(g,{count:e,size:y,disabled:H});return P?P(t,{count:e,size:y,disabled:H}):t},J=e=>{let t=0===N.length;return!A||t||H?null:(0,i.jsx)(f,{size:y,onClick:q,onMouseEnter:D,onMouseLeave:$,renderIcon:e.renderIcon})},K={...(0,u.z)(e,{labelable:!0}),id:O,role:"combobox","aria-controls":k?L:void 0,"aria-haspopup":"listbox","aria-expanded":k,"aria-activedescendant":void 0===I?void 0:`${L}-item-${I}`,onClick:G,onKeyDown:v,disabled:H};return m?m({onClear:p,renderClear:J,renderCounter:Z,ref:t,open:k,disabled:H,triggerProps:K},{value:N}):(0,i.jsx)(r.Fragment,{children:(0,i.jsxs)("div",{className:(0,h.e9)({open:k,size:y,pin:x,disabled:H,error:E,"has-clear":A,"no-active":F,"has-value":W}),role:"group",children:[(0,i.jsxs)("button",{ref:t,className:(0,h.JW)({open:k,size:y,view:b,pin:x,disabled:H,error:E},C),type:"button","data-qa":S,title:M,tabIndex:0,...K,children:[T&&(0,i.jsx)("span",{className:(0,h.e9)("label"),children:T}),_&&(0,i.jsx)("span",{className:(0,h.e9)("placeholder"),children:R}),Y&&(0,i.jsx)("span",{className:(0,h.e9)("option-text"),children:w})]}),Z(),J({}),j&&(0,i.jsx)(c.J,{content:j,tooltipId:B,children:(0,i.jsx)("button",{"aria-label":(0,d.Z)("label_show-error-info"),"aria-describedby":B,className:(0,h.e9)("error-icon"),children:(0,i.jsx)(a.J,{data:s.Z,size:"s"===y?12:16})})}),(0,i.jsx)(a.J,{className:(0,h.e9)("chevron-icon",{disabled:H}),data:o.Z,"aria-hidden":"true"})]})})});y.displayName="SelectControl"},16052:function(e,t,n){"use strict";n.d(t,{h:function(){return v}});var i=n(85893),r=n(67294),s=n(56009),o=n(31455),l=n(96971),a=n(32835),c=n(1371);let u=e=>e-2*a.YF,h=(e,t)=>t?e>a.T7?e:a.T7:u(e),d=(e,t,n)=>{let i=t;return i="number"==typeof e?e:"fit"===e?u(t):h(t,n),`${i}px`};n(28324);let p=(0,l.Ge)("select-popup"),f=["bottom-start","bottom-end","top-start","top-end"],v=r.forwardRef((e,t)=>{var n;let{handleClose:r,onAfterOpen:l,onAfterClose:h,width:v,open:m,placement:b=f,controlRef:g,children:y,className:x,disablePortal:w,virtualized:C,mobile:S,id:T}=e;return S?(0,i.jsx)(o.y,{qa:a.Gd.SHEET,className:x,visible:!!m,onClose:r,children:y}):(0,i.jsx)(s.G,{className:p(null,x),qa:a.Gd.POPUP,anchorRef:t,placement:b,open:m,onClose:r,disablePortal:w,returnFocus:g,floatingMiddlewares:(n={width:v,disablePortal:w,virtualized:C},[(0,c.cv)({mainAxis:a.YF,crossAxis:a.YF}),(0,c.RR)({altBoundary:n.disablePortal}),(0,c.uY)({limiter:(0,c.dr)(),crossAxis:!0,padding:10,altBoundary:n.disablePortal}),function(e){let{width:t,virtualized:n}=e;return(0,c.dp)({apply(e){if("number"!=typeof t&&e.elements.floating.style.maxWidth)return;let i=d(t,e.rects.reference.width,n),r={};"number"!=typeof t&&"fit"!==t?(r.minWidth=i,r.width=void 0):(r.minWidth=i,r.width=i),r.maxWidth=`max(90vw, ${u(e.rects.reference.width)}px)`,Object.assign(e.elements.floating.style,r)}})}(n)]),id:T,onTransitionIn:l,onTransitionOutComplete:h,children:y})});v.displayName="SelectPopup"},32835:function(e,t,n){"use strict";n.d(t,{Gd:function(){return m},Hu:function(){return a},JW:function(){return o},T7:function(){return p},V_:function(){return l},YF:function(){return d},YV:function(){return b},_7:function(){return v},_X:function(){return c},e9:function(){return s},el:function(){return u},gX:function(){return f},rn:function(){return h},sj:function(){return r}});var i=n(96971);let r=(0,i.Ge)("select"),s=(0,i.Ge)("select-control"),o=(0,i.Ge)("select-control__button"),l=(0,i.Ge)("select-list"),a=(0,i.Ge)("select-clear"),c={s:28,m:28,l:32,xl:36},u=32,h=5,d=1,p=100,f=2e3,v=50,m={LIST:"select-list",POPUP:"select-popup",SHEET:"select-sheet",CLEAR:"select-clear",FILTER_INPUT:"select-filter-input"},b=Symbol("flatten")},72917:function(e,t,n){"use strict";n.d(t,{V:function(){return o},n:function(){return l}});var i=n(67294),r=n(32835),s=n(48894);function o(e){if(!e[r.YV])throw Error("You should use options generated by useSelectOptions hook");return e[r.YV].filteredOptions}function l(e){let{filter:t="",filterable:n,filterOption:o}=e,l=i.useMemo(()=>e.options[r.YV]?e.options:(0,s.BC)(e.options),[e.options]),a=i.useMemo(()=>n?(0,s.vk)({options:l,filter:t,filterOption:o}):l,[t,n,o,l]);return l[r.YV].filteredOptions=a,l}},71015:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(6524),r=JSON.parse('{"label_clear":"Clear","label_show-error-info":"Show popup with error info","label_filter":"Filter"}'),s=JSON.parse('{"label_clear":"Очистить","label_show-error-info":"Показать попап с информацей об ошибке","label_filter":"Фильтр"}'),o=(0,i.e)({en:r,ru:s},"Select")},70681:function(e,t,n){"use strict";n.d(t,{W:function(){return i},Y:function(){return r}});let i=e=>null,r=e=>null},48894:function(e,t,n){"use strict";n.d(t,{BC:function(){return a},CL:function(){return x},DA:function(){return v},Df:function(){return d},Ht:function(){return S},PB:function(){return g},T7:function(){return c},VP:function(){return l},_x:function(){return m},nK:function(){return u},qZ:function(){return y},vk:function(){return C}});var i=n(85893),r=n(67294),s=n(21952),o=n(32835);let l=e=>!!(e&&"label"in e),a=e=>{let t=e.reduce((e,t)=>("label"in t?(e.push({label:t.label,disabled:!0,data:t.data}),e.push(...t.options||[])):e.push(t),e),[]);return Object.defineProperty(t,o.YV,{enumerable:!1,value:{}}),t},c=e=>{let{getOptionHeight:t,getOptionGroupHeight:n,size:i,option:r,index:s,mobile:a}=e,c=a?o.el:o._X[i];if(l(r)){let e=0===s?0:o.rn;return c=""===r.label?0:c,n?n(r,s):c+e}return t?t(r,s):c},u=e=>{let{getOptionHeight:t,getOptionGroupHeight:n,size:i,options:r,mobile:s}=e;return r.reduce((e,r,o)=>e+c({getOptionHeight:t,getOptionGroupHeight:n,size:i,option:r,index:o,mobile:s}),0)},h=e=>"string"==typeof e.content?e.content:"string"==typeof e.children?e.children:e.text?e.text:e.value,d=(e,t,n)=>{if(0===t.length)return null;let s=e.filter(e=>!l(e)),o=t.reduce((e,t)=>{let n=s.find(e=>e.value===t);return e.push(n||{value:t}),e},[]);return n?o.map((e,t)=>(0,i.jsx)(r.Fragment,{children:n(e,t)},e.value)):o.map(e=>h(e)).join(", ")},p=e=>r.Children.toArray(e),f=e=>r.Children.toArray(e).reduce((e,{props:t})=>("value"in t&&e.push(t),e),[]),v=e=>p(e).reduce((e,{props:t})=>{if("label"in t){let n=t.options||f(t.children);e.push({options:n,label:t.label})}return"value"in t&&e.push({...t}),e},[]),m=(e,t)=>{let n=1===e.length,i=e===s.V.BACKSPACE,r="";return i&&t.length?r=t.slice(0,t.length-1):n&&(r=(t+e).trim()),r},b=e=>RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i"),g=(e,t)=>t?t.findIndex(t=>{if(l(t)||t.disabled)return!1;let n=h(t);return b(e).test(n)}):-1,y=e=>e?.current?.getItems()||[],x=e=>{let t=y(e),n=e?.current?.getActiveItem();return"number"==typeof n?t[n]:void 0},w=(e,t)=>{let n=h(e).toLocaleLowerCase(),i=t.toLocaleLowerCase();return -1!==n.indexOf(i)},C=e=>{let{options:t,filter:n,filterOption:i}=e,r=t.filter(e=>!!l(e)||(i?i(e,n):w(e,n)));return r.reduce((e,t,n)=>{let i=l(t),s=l(e[e.length-1]),o=n===r.length-1;return i&&s&&e.pop(),i&&(!i||o)||e.push(t),e},[])};function S(e){let t=e.offsetParent;if(t instanceof HTMLElement){let n=t.offsetHeight,i=t.scrollTop,r=e.offsetTop;r+e.offsetHeight>=i+n?t.scrollTo({top:r-n+e.offsetHeight}):r<=i&&t.scrollTo({top:r})}return!0}},31455:function(e,t,n){"use strict";n.d(t,{y:function(){return m}});var i=n(85893),r=n(67294),s=n(93075),o=n(5813),l=n(59384),a=n(74554),c=n(69721);let u=(0,n(96971).Ge)("sheet");class h{x;y;timeStamp;constructor(e,t){this.x=e,this.y=t,this.timeStamp=Date.now()}}class d{pointsLen;points=[];constructor(e=5){this.pointsLen=e,this.clear()}clear(){this.points=Array(this.pointsLen)}addMovement({x:e,y:t}){this.points.pop(),this.points.unshift(new h(e,t))}getYAcceleration(e=1){let t=this.points[0],n=this.points[e];return t&&n?(t.y-n.y)/Math.pow(t.timeStamp-n.timeStamp,2):0}}n(30252);let p=[];class f extends r.Component{static #e=this.defaultProps={id:"sheet",allowHideOnContentScroll:!0};componentDidMount(){this.addListeners(),this.show();let e=this.getAvailableContentHeight(this.sheetContentHeight);this.setInitialStyles(e),this.setState({prevSheetHeight:e})}componentDidUpdate(e){let{visible:t,location:n}=this.props;!e.visible&&t&&this.show(),(e.visible&&!t||this.shouldClose(e))&&this.hide(),e.location.pathname!==n.pathname&&(p=[])}componentWillUnmount(){this.removeListeners()}render(){let{content:e,contentClassName:t,swipeAreaClassName:n,hideTopBar:s,title:o}=this.props,{deltaY:l,swipeAreaTouched:a,contentTouched:c,veilTouched:h}=this.state,d={"with-transition":!l||h},p={"with-transition":d["with-transition"]},f={"always-full-height":this.props.alwaysFullHeight};return(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)("div",{ref:this.veilRef,className:u("veil",d),onClick:this.onVeilClick,onTransitionEnd:this.onVeilTransitionEnd,role:"presentation","data-qa":"sheet-veil"}),(0,i.jsxs)("div",{ref:this.sheetRef,className:u("sheet",p),role:"dialog","aria-modal":"true","aria-label":o,children:[!s&&(0,i.jsx)("div",{ref:this.sheetTopRef,className:u("sheet-top"),children:(0,i.jsx)("div",{className:u("sheet-top-resizer")})}),(0,i.jsx)("div",{className:u("sheet-swipe-area",n),onTouchStart:this.onSwipeAreaTouchStart,onTouchMove:this.onSwipeAriaTouchMove,onTouchEnd:this.onSwipeAriaTouchEnd}),(0,i.jsx)("div",{ref:this.sheetScrollContainerRef,className:u("sheet-scroll-container",{"without-scroll":l>0&&c||a}),onTouchStart:this.onContentTouchStart,onTouchMove:this.onContentTouchMove,onTouchEnd:this.onContentTouchEnd,onTransitionEnd:this.onContentTransitionEnd,children:(0,i.jsx)("div",{ref:this.sheetMarginBoxRef,className:u("sheet-margin-box",f),children:(0,i.jsx)("div",{className:u("sheet-margin-box-border-compensation"),children:(0,i.jsxs)("div",{className:u("sheet-content",t),children:[o&&(0,i.jsx)("div",{className:u("sheet-content-title"),children:o}),e]})})})})]})]})}get veilOpacity(){return this.veilRef.current?.style.opacity||0}get sheetTopHeight(){return this.sheetTopRef.current?.getBoundingClientRect().height||0}get sheetHeight(){return this.sheetRef.current?.getBoundingClientRect().height||0}get sheetScrollTop(){return this.sheetScrollContainerRef.current?.scrollTop||0}get sheetContentHeight(){return this.sheetMarginBoxRef.current?.getBoundingClientRect().height||0}setInitialStyles(e){this.sheetScrollContainerRef.current&&this.sheetMarginBoxRef.current&&(this.sheetScrollContainerRef.current.style.height=`${e}px`)}addListeners(){window.addEventListener("resize",this.onResizeWindow),this.sheetMarginBoxRef.current&&(this.observer=new ResizeObserver(()=>{this.state.inWindowResizeScope||this.onResize()}),this.observer.observe(this.sheetMarginBoxRef.current))}removeListeners(){window.removeEventListener("resize",this.onResizeWindow),this.observer&&this.observer.disconnect()}setHash(){let{id:e,platform:t,location:n,history:i}=this.props;if(t===l.t.BROWSER)return;let r={...n,hash:e};switch(t){case l.t.IOS:n.hash&&p.push(n.hash),i.replace(r);break;case l.t.ANDROID:i.push(r)}}removeHash(){let{id:e,platform:t,location:n,history:i}=this.props;if(t!==l.t.BROWSER&&n.hash===`#${e}`)switch(t){case l.t.IOS:i.replace({...n,hash:p.pop()??""});break;case l.t.ANDROID:i.goBack()}}shouldClose(e){let{id:t,platform:n,location:i,history:r}=this.props;return n!==l.t.BROWSER&&"POP"===r.action&&e.location.hash!==i.hash&&i.hash!==`#${t}`}constructor(...e){super(...e),this.veilRef=r.createRef(),this.sheetRef=r.createRef(),this.sheetTopRef=r.createRef(),this.sheetMarginBoxRef=r.createRef(),this.sheetScrollContainerRef=r.createRef(),this.velocityTracker=new d,this.observer=null,this.resizeWindowTimer=null,this.state={startScrollTop:0,startY:0,deltaY:0,prevSheetHeight:0,swipeAreaTouched:!1,contentTouched:!1,veilTouched:!1,isAnimating:!1,inWindowResizeScope:!1,delayedResize:!1},this.setStyles=e=>{let{status:t,deltaHeight:n=0}=e;if(!this.sheetRef.current||!this.veilRef.current)return;let i=this.sheetHeight-n,r="showing"===t?`translate3d(0, -${i}px, 0)`:"translate3d(0, 0, 0)",s=0;"showing"===t&&(s=0===n?1:i/this.sheetHeight),this.veilRef.current.style.opacity=String(s),this.sheetRef.current.style.transform=r},this.getAvailableContentHeight=e=>{let t=.9;"number"==typeof this.props.maxContentHeightCoefficient&&this.props.maxContentHeightCoefficient>=0&&this.props.maxContentHeightCoefficient<=1?t=this.props.maxContentHeightCoefficient:"number"==typeof this.props.maxContentHeightCoefficient&&(0,c.O)('[Sheet] The value of the "maxContentHeightCoefficient" property must be between 0 and 1');let n=window.innerHeight*t-this.sheetTopHeight;return this.props.alwaysFullHeight?n:e>=n?n:e},this.show=()=>{this.setState({isAnimating:!0},()=>{this.setStyles({status:"showing"}),this.setHash()})},this.hide=()=>{this.setState({isAnimating:!0},()=>{this.setStyles({status:"hiding"}),this.removeHash()})},this.onSwipeAreaTouchStart=e=>{this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,swipeAreaTouched:!0})},this.onContentTouchStart=e=>{this.props.allowHideOnContentScroll&&!this.state.swipeAreaTouched&&(this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,startScrollTop:this.sheetScrollTop,contentTouched:!0}))},this.onSwipeAriaTouchMove=e=>{let t=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:t}),t<=0||this.setStyles({status:"showing",deltaHeight:t})},this.onContentTouchMove=e=>{if(!this.props.allowHideOnContentScroll)return;if(!this.state.startY){this.onContentTouchStart(e);return}let{startScrollTop:t,swipeAreaTouched:n}=this.state;if(n||this.sheetScrollTop>0||t>0&&t!==this.sheetScrollTop)return;let i=e.nativeEvent.touches[0].clientY-this.state.startY;if(this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),i<=0){this.setState({deltaY:0});return}this.setState({deltaY:i}),this.setStyles({status:"showing",deltaHeight:i})},this.onTouchEndAction=e=>{let t=this.velocityTracker.getYAcceleration();this.sheetHeight<=e?this.props.hideSheet():e>50&&t<=.08&&t>=-.02||t>.08?this.hide():0!==e&&this.show()},this.onSwipeAriaTouchEnd=()=>{let{deltaY:e}=this.state;this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,swipeAreaTouched:!1})},this.onContentTouchEnd=()=>{let{deltaY:e,swipeAreaTouched:t}=this.state;this.props.allowHideOnContentScroll&&!t&&(this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,contentTouched:!1}))},this.onVeilClick=()=>{this.state.isAnimating||(this.setState({veilTouched:!0}),this.hide())},this.onVeilTransitionEnd=()=>{if(this.setState({isAnimating:!1}),"0"===this.veilOpacity){this.props.hideSheet();return}this.state.delayedResize&&(this.onResizeWindow(),this.setState({delayedResize:!1}))},this.onContentTransitionEnd=e=>{"height"===e.propertyName&&this.sheetScrollContainerRef.current&&(this.sheetScrollContainerRef.current.style.transition="none")},this.onResizeWindow=()=>{if(this.state.isAnimating){this.setState({delayedResize:!0});return}this.setState({inWindowResizeScope:!0}),this.resizeWindowTimer&&window.clearTimeout(this.resizeWindowTimer),this.resizeWindowTimer=window.setTimeout(()=>{this.onResize()},50)},this.onResize=()=>{if(!this.sheetRef.current||!this.sheetScrollContainerRef.current)return;let e=this.sheetContentHeight;if(e===this.state.prevSheetHeight&&!this.state.inWindowResizeScope)return;let t=this.getAvailableContentHeight(e);this.sheetScrollContainerRef.current.style.transition=this.state.prevSheetHeight>e?"height 0s ease 0.3s":"none",this.sheetScrollContainerRef.current.style.height=`${t}px`,this.sheetRef.current.style.transform=`translate3d(0, -${t+this.sheetTopHeight}px, 0)`,this.setState({prevSheetHeight:e,inWindowResizeScope:!1})}}}let v=(0,a.z)(function(e){let t=t=>{let{useHistory:n,useLocation:r,...s}=t;return(0,i.jsx)(e,{...s,history:n(),location:r()})},n=e.displayName||e.name||"Component";return t.displayName=`withRouterWrapper(${n})`,t}(f)),m=e=>{let{children:t,onClose:n,visible:l,id:a,title:c,className:h,contentClassName:d,swipeAreaClassName:p,allowHideOnContentScroll:f,hideTopBar:m,maxContentHeightCoefficient:b,alwaysFullHeight:g,container:y,disablePortal:x,qa:w}=e,[C,S]=r.useState(l),[T,R]=r.useState(l);return(!T&&l&&S(!0),l!==T&&R(l),C)?(0,i.jsx)(o.h,{container:y,disablePortal:x,children:(0,i.jsx)(s.y0,{"data-qa":w,className:u(null,h),lockScroll:C,style:{overflow:void 0},children:(0,i.jsx)(v,{id:a,content:t,contentClassName:d,swipeAreaClassName:p,title:c,visible:l,allowHideOnContentScroll:f,hideTopBar:m,hideSheet:()=>{n&&n(),S(!1)},maxContentHeightCoefficient:b,alwaysFullHeight:g})})}):null}},44702:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var i=n(85893),r=n(67294),s=n(19772),o=n(57912);let l=r.forwardRef(function({as:e,children:t,variant:n,className:r,ellipsis:l,color:a,whiteSpace:c,wordBreak:u,ellipsisLines:h,style:d,qa:p,...f},v){let m={...d};return"number"==typeof h&&(m.WebkitLineClamp=h),(0,i.jsx)(e||"span",{ref:v,className:(0,o.f)({variant:n,ellipsis:l,whiteSpace:c,wordBreak:u,ellipsisLines:"number"==typeof h},a?(0,s.V)({color:a},r):r),style:m,"data-qa":p,...f,children:t})});l.displayName="Text"},19772:function(e,t,n){"use strict";n.d(t,{V:function(){return o},b:function(){return s}});var i=n(96971);n(21809);let r=(0,i.Ge)("color-text"),s=["primary","complementary","secondary","hint","info","info-heavy","positive","positive-heavy","warning","warning-heavy","danger","danger-heavy","utility","utility-heavy","misc","misc-heavy","brand","link","link-hover","link-visited","link-visited-hover","dark-primary","dark-complementary","dark-secondary","light-primary","light-complementary","light-secondary","light-hint","inverted-primary","inverted-complementary","inverted-secondary","inverted-hint"],o=({color:e},t)=>r({color:e},t)},57912:function(e,t,n){"use strict";n.d(t,{S:function(){return s},f:function(){return o}});var i=n(96971);n(19668);let r=(0,i.Ge)("text"),s=["display-4","display-3","display-2","display-1","header-2","header-1","subheader-3","subheader-2","subheader-1","body-3","body-2","body-1","body-short","caption-2","caption-1","code-3","code-inline-3","code-2","code-inline-2","code-1","code-inline-1"],o=({variant:e="body-1",ellipsis:t,ellipsisLines:n,whiteSpace:i,wordBreak:s},o)=>r({variant:e,ellipsis:t,ws:i,wb:s,"ellipsis-lines":n},o)},66701:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var i=n(67294),r=n(54041);function s(){return i.useContext(r.z).mobile}},74554:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var i=n(85893),r=n(67294),s=n(99736),o=n(54041);function l(e){let t=(0,s.i)(e);return class extends r.Component{static displayName=`withMobile(${t})`;static contextType=o.z;render(){return(0,i.jsx)(e,{...this.props,mobile:this.context.mobile,platform:this.context.platform,useHistory:this.context.useHistory,useLocation:this.context.useLocation})}}}},99736:function(e,t,n){"use strict";function i(e){return e.displayName||e.name||"Component"}n.d(t,{i:function(){return i}})},58375:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var i=n(67294);class r{nativeEvent;target;currentTarget;relatedTarget;bubbles;cancelable;defaultPrevented;eventPhase;isTrusted;timeStamp;type;constructor(e,t,n={}){this.nativeEvent=t,this.target=n.target??t.target,this.currentTarget=n.currentTarget??t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function s(e){let{onFocusWithin:t,onBlurWithin:n,onFocusWithinChange:s,isDisabled:o}=e,l=i.useRef(!1),{onBlur:a,onFocus:c}=function({onFocus:e,onBlur:t,isDisabled:n}){let s=i.useRef(!1),o=i.useRef(null);i.useEffect(()=>{if(n)return;let e=function(){s.current=!1},i=function(e){!s.current&&o.current&&(t(new r("blur",new FocusEvent("blur",{...e,relatedTarget:e.target,bubbles:!1,cancelable:!1}),{target:o.current,currentTarget:o.current})),o.current=null)};return window.addEventListener("focus",e,{capture:!0}),window.addEventListener("focusin",i),()=>{window.removeEventListener("focus",e,{capture:!0}),window.removeEventListener("focusin",i)}},[n,t]);let l=i.useCallback(e=>{document.activeElement!==e.target&&(null===e.relatedTarget||e.relatedTarget===document.body||e.relatedTarget===document)&&(t(e),o.current=null)},[t]),a=function(e){let t=i.useRef({isFocused:!1,observer:null});return i.useEffect(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]),i.useCallback(n=>{let i=n.target;if(i instanceof HTMLButtonElement||i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement||i instanceof HTMLSelectElement){t.current.isFocused=!0,i.addEventListener("focusout",n=>{t.current.isFocused=!1,i.disabled&&e?.(new r("blur",n)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0});let n=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){n.disconnect(),t.current.observer=null;let e=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{relatedTarget:e,bubbles:!0}))}});n.observe(i,{attributes:!0,attributeFilter:["disabled"]}),t.current.observer=n}},[e])}(t);return{onBlur:l,onFocus:i.useCallback(t=>{s.current=!0,o.current=t.target,a(t),e(t)},[a,e])}}({onFocus:i.useCallback(e=>{!l.current&&document.activeElement===e.target&&(l.current=!0,t&&t(e),s&&s(!0))},[t,s]),onBlur:i.useCallback(e=>{l.current&&(l.current=!1,n&&n(e),s&&s(!1))},[n,s]),isDisabled:o});return o?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:a}}}},20596:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(67294),r=n(71551);let s=e=>{let{onOpenChange:t,onClose:n}=e,s=i.useCallback(e=>{t?.(e),!1===e&&n&&n()},[t,n]),[o,l]=(0,r.z)(e.open,e.defaultOpen??!1,s),a=i.useCallback(e=>{l("boolean"==typeof e?e:!o)},[o,l]);return{open:o,toggleOpen:a}}},39363:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var i=n(67294),r=n(71551),s=n(20596);let o=({defaultOpen:e,onClose:t,onOpenChange:n,open:o,value:l,defaultValue:a=[],multiple:c,onUpdate:u,disabled:h})=>{let[d,p]=(0,r.z)(l,a,u),[f,v]=i.useState(),{toggleOpen:m,...b}=(0,s.Z)({defaultOpen:e,onClose:t,onOpenChange:n,open:o}),g=i.useCallback(e=>{h||p(e)},[p,h]),y=i.useCallback(e=>{d.includes(e.value)||g([e.value]),m(!1)},[d,g,m]),x=i.useCallback(e=>{g(d.includes(e.value)?d.filter(t=>t!==e.value):[...d,e.value])},[d,g]),w=i.useCallback(e=>{c?x(e):y(e)},[c,y,x]),C=i.useCallback(()=>{g([])},[g]);return{value:d,activeIndex:f,setValue:g,handleSelection:w,handleClearValue:C,toggleOpen:m,setActiveIndex:v,...b}}},20680:function(){},6883:function(){},12707:function(){},13985:function(){},40617:function(){},30114:function(){},67453:function(){},28324:function(){},30252:function(){},21809:function(){},19668:function(){}}]);