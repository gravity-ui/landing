(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{66678:function(t,e,n){var r=n(85990);t.exports=function(t){return r(t,4)}},14293:function(t){t.exports=function(t){return null==t}},614:function(t,e,n){"use strict";n.d(e,{d:function(){return b}});var r=n(67294),i=n(14293),a=n.n(i),l=n(13283),o=n(27361),s=n.n(o),u=n(25632),c=n(16282),h=n(50482),d=n(83558);let f=(0,c.G)("tooltip"),p=(t,e,n)=>{switch(null==n?void 0:n.type){case"category":{let r=s()(n,"categories",[]);return(0,h.s0)({axisDirection:t,categories:r,data:e})}case"datetime":{let n=s()(e,t);if(!n)return;return(0,l.CQ)({input:n}).format("DD.MM.YY")}default:{let n=s()(e,t);return(0,u.uf)(n)}}},g=(t,e)=>p("x",t,e),m=(t,e)=>p("y",t,e),y=(t,e,n)=>{var r,i;return t.every(t=>["pie","treemap","waterfall","sankey"].includes(t.series.type))?null:t.some(t=>"bar-y"===t.series.type)?m(null===(r=t[0])||void 0===r?void 0:r.data,n):g(null===(i=t[0])||void 0===i?void 0:i.data,e)},v=({hovered:t,xAxis:e,yAxis:n})=>{let i=y(t,e,n);return r.createElement(r.Fragment,null,i&&r.createElement("div",null,i),t.map((t,i)=>{var a;let{data:l,series:o,closest:u}=t,c=`${s()(o,"id")}_${i}`,h=s()(o,"color");switch(o.type){case"scatter":case"line":case"area":case"bar-x":{let t=r.createElement(r.Fragment,null,o.name,": ",m(l,n));return r.createElement("div",{key:c,className:f("content-row")},r.createElement("div",{className:f("color"),style:{backgroundColor:h}}),r.createElement("div",null,u?r.createElement("b",null,t):r.createElement("span",null,t)))}case"waterfall":{let t=s()(l,"total",!1),i=(0,d.Y)(l,o);return r.createElement("div",{key:`${c}_${s()(l,"x")}`},!t&&r.createElement(r.Fragment,null,r.createElement("div",{key:c,className:f("content-row")},r.createElement("b",null,g(l,e))),r.createElement("div",{className:f("content-row")},r.createElement("span",null,o.name,"\xa0"),r.createElement("span",null,m(l,n)))),r.createElement("div",{key:c,className:f("content-row")},t?"Total":"Subtotal",": ",i))}case"bar-y":{let t=r.createElement(r.Fragment,null,o.name,": ",g(l,e));return r.createElement("div",{key:c,className:f("content-row")},r.createElement("div",{className:f("color"),style:{backgroundColor:h}}),r.createElement("div",null,u?r.createElement("b",null,t):r.createElement("span",null,t)))}case"pie":case"treemap":return r.createElement("div",{key:c,className:f("content-row")},r.createElement("div",{className:f("color"),style:{backgroundColor:h}}),r.createElement("span",null,l.name||l.id,"\xa0"),r.createElement("span",null,l.value));case"sankey":{let{target:e,data:n}=t,i=null===(a=n.links.find(t=>t.name===(null==e?void 0:e.name)))||void 0===a?void 0:a.value;return r.createElement("div",{key:c,className:f("content-row")},r.createElement("div",{className:f("color"),style:{backgroundColor:n.color}}),r.createElement("div",{style:{display:"flex",gap:8,verticalAlign:"center"}},n.name," ",r.createElement("span",null,"→")," ",null==e?void 0:e.name,": ",i))}default:return null}}))},b=t=>{let{hovered:e,xAxis:n,yAxis:i,renderer:l}=t;if(!e)return null;let o=null==l?void 0:l({hovered:e,xAxis:n,yAxis:i});return a()(o)?r.createElement(v,{hovered:e,xAxis:n,yAxis:i}):o}},20758:function(t,e,n){"use strict";n.d(e,{k:function(){return nC},d:function(){return tA.d}});var r=n(67294),i=n(87226),a=n(23279),l=n.n(a),o=n(73168),s=JSON.parse('{"error":{"label_no-data":"No data","label_unknown-plugin":"Unknown plugin type \\"{{type}}\\"","label_unknown-error":"Unknown error","label_invalid-axis-category-data-point":"It seems you are trying to use inappropriate data type for \\"{{key}}\\" value in series \\"{{seriesName}}\\" for axis with type \\"category\\". Strings and numbers are allowed.","label_invalid-axis-datetime-data-point":"It seems you are trying to use inappropriate data type for \\"{{key}}\\" value in series \\"{{seriesName}}\\" for axis with type \\"datetime\\". Only numbers are allowed.","label_invalid-axis-linear-data-point":"It seems you are trying to use inappropriate data type for \\"{{key}}\\" value in series \\"{{seriesName}}\\" for axis with type \\"linear\\". Numbers and nulls are allowed.","label_invalid-pie-data-value":"It seems you are trying to use inappropriate data type for \\"value\\" value. Only numbers are allowed.","label_invalid-series-type":"It seems you haven\'t defined \\"series.type\\" property, or defined it incorrectly. Available values: [{{types}}].","label_invalid-series-property":"It seems you are trying to use inappropriate value for \\"{{key}}\\", or defined it incorrectly. Available values: [{{values}}].","label_invalid-treemap-redundant-value":"It seems you are trying to set \\"value\\" for container node. Check node with this properties: { id: \\"{{id}}\\", name: \\"{{name}}\\" }","label_invalid-treemap-missing-value":"It seems you are trying to use node without \\"value\\". Check node with this properties: { id: \\"{{id}}\\", name: \\"{{name}}\\" }","label_invalid-y-axis-index":"It seems you are trying to use inappropriate index for Y axis: \\"{{index}}\\""}}'),u=JSON.parse('{"error":{"label_no-data":"Нет данных","label_unknown-plugin":"Неизвестный тип плагина \\"{{type}}\\"","label_unknown-error":"Неизвестная ошибка","label_invalid-axis-category-data-point":"Похоже, что вы пытаетесь использовать недопустимый тип данных для значения \\"{{key}}\\" в серии \\"{{seriesName}}\\" для оси с типом \\"category\\". Допускается использование строк и чисел.","label_invalid-axis-datetime-data-point":"Похоже, что вы пытаетесь использовать недопустимый тип данных для значения \\"{{key}}\\" в серии \\"{{seriesName}}\\" для оси с типом \\"datetime\\". Допускается только использование чисел.","label_invalid-axis-linear-data-point":"Похоже, что вы пытаетесь использовать недопустимый тип данных для значения \\"{{key}}\\" в серии \\"{{seriesName}}\\" для оси с типом \\"linear\\". Допускается использование чисел и значений null.","label_invalid-pie-data-value":"Похоже, что вы пытаетесь использовать недопустимый тип данных для значения \\"value\\". Допускается только использование чисел.","label_invalid-series-type":"Похоже, что вы не указали значение \\"series.type\\" или указали его неверно. Доступные значения: [{{types}}].","label_invalid-series-property":"Похоже, что вы пытаетесь использовать недопустимое значение для \\"{{key}}\\", или указали его неверно. Доступные значения: [{{values}}].","label_invalid-treemap-redundant-value":"Похоже, что вы пытаетесь установить значение \\"value\\" для узла, используемого в качестве контейнера. Проверьте узел с этими свойствами: { id: \\"{{id}}\\", name: \\"{{name}}\\" }","label_invalid-treemap-missing-value":"Похоже, что вы пытаетесь использовать узел без значения \\"value\\". Проверьте узел с этими свойствами: { id: \\"{{id}}\\", name: \\"{{name}}\\" }","label_invalid-y-axis-index":"Похоже, что вы пытаетесь использовать некорректный индекс для оси Y: \\"{{index}}\\""}}');let c=new o.mb;c.registerKeysets("en",s),c.registerKeysets("ru",u),c.setLang("en"),c.setFallbackLang("en");let h=c.i18n.bind(c);var d=n(31873),f=n(27361),p=n.n(f),g=n(41609),m=n.n(g),y=n(58036);let v={margin:10,padding:10,maxWidth:80},b={text:"",margin:0,style:{fontSize:"14px"},align:"center",maxRowCount:1},x=Object.assign(Object.assign({},b),{margin:4}),_=Object.assign(Object.assign({},b),{margin:8}),w="linear",M={NO_DATA:"ERR.CK.NO_DATA",INVALID_DATA:"ERR.CK.INVALID_DATA",UNKNOWN:"ERR.CK.UNKNOWN_ERROR"};class k extends Error{constructor({originalError:t,message:e,code:n=M.UNKNOWN}={}){super(e),this.isCustomError=!0,this.code=n,t&&(this.name=t.name,this.stack=t.stack)}}let A=Object.values(y.JJ),E=t=>{let{series:e,xAxis:n,yAxis:r=[]}=t,i=p()(e,"yAxis",0),a=r[i];if(0!==i&&void 0===a)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-y-axis-index",{index:i})});let l=p()(n,"type",w),o=p()(a,"type",w);e.data.forEach(({x:t,y:n})=>{switch(l){case"category":if("string"!=typeof t&&"number"!=typeof t)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-axis-category-data-point",{key:"x",seriesName:e.name})});break;case"datetime":if("number"!=typeof t)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-axis-datetime-data-point",{key:"x",seriesName:e.name})});break;case"linear":if("number"!=typeof t&&null!==t)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-axis-linear-data-point",{key:"x",seriesName:e.name})})}switch(o){case"category":if("string"!=typeof n&&"number"!=typeof n)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-axis-category-data-point",{key:"y",seriesName:e.name})});break;case"datetime":if("number"!=typeof n)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-axis-datetime-data-point",{key:"y",seriesName:e.name})});break;case"linear":if("number"!=typeof n&&null!==n)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-axis-linear-data-point",{key:"y",seriesName:e.name})})}})},S=({series:t})=>{t.data.forEach(({value:t})=>{if("number"!=typeof t)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-pie-data-value")})})},C=({series:t})=>{let e=["normal","percent"];if(t.stacking&&!e.includes(t.stacking))throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-series-property",{key:"stacking",values:e})})},T=({series:t})=>{let e={};t.data.forEach(t=>{t.parentId&&!e[t.parentId]&&(e[t.parentId]=!0)}),t.data.forEach(t=>{let n=t.id;if(n||(n=Array.isArray(t.name)?t.name.join():t.name),e[n]&&"number"==typeof t.value)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-treemap-redundant-value",{id:t.id,name:t.name})});if(!e[n]&&"number"!=typeof t.value)throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-treemap-missing-value",{id:t.id,name:t.name})})})},L=t=>{let{series:e,xAxis:n,yAxis:r}=t;if(!A.includes(e.type))throw new k({code:M.INVALID_DATA,message:h("error","label_invalid-series-type",{types:A.join(", ")})});switch(e.type){case"area":case"bar-y":case"bar-x":E({series:e,xAxis:n,yAxis:r}),C({series:e});break;case"line":case"scatter":E({series:e,xAxis:n,yAxis:r});break;case"pie":S({series:e});break;case"treemap":T({series:e})}},N=t=>{let{series:e,type:n}=t,r=0;return e.forEach(t=>{t.type===n&&(r+=1)}),r},D=t=>{if(m()(t)||m()(t.series)||m()(t.series.data))throw new k({code:M.NO_DATA,message:h("error","label_no-data")});if(t.series.data.some(t=>m()(t.data)))throw new k({code:M.INVALID_DATA,message:"You should specify data for all series"});if(N({series:t.series.data,type:y.JJ.Treemap})>1)throw new k({code:M.INVALID_DATA,message:'It looks like you are trying to define more than one "treemap" series.'});t.series.data.forEach(e=>{L({series:e,yAxis:t.yAxis,xAxis:t.xAxis})})};var $=n(16282);let R={CLICK_CHART:"click-chart",HOVER_SHAPE:"hover-shape",POINTERMOVE_CHART:"pointermove-chart"},O=()=>(0,i.WII)(R.CLICK_CHART,R.HOVER_SHAPE,R.POINTERMOVE_CHART);var I=n(14293),z=n.n(I);let H=(t="")=>t.endsWith("%")&&!Number.isNaN(Number.parseFloat(t)),Y=(t="")=>t.endsWith("px")&&!Number.isNaN(Number.parseFloat(t)),j=t=>{let{value:e="",base:n}=t;if(!z()(e))return"string"==typeof e?H(e)&&"number"==typeof n?Number.parseFloat(e)/100*n:Y(e)?Number.parseFloat(e):void 0:e};function P(t,e=2){let n=Math.pow(10,e);return Math.floor(Math.cos(Math.PI/180*t)*n)/n}function F(t,e=2){let n=Math.pow(10,e);return Math.floor(Math.sin(Math.PI/180*t)*n)/n}var W=n(50482),U=n(36590);function V({axis:t,range:e}){let n;return t.ticks.pixelInterval&&(n=Math.ceil(e/t.ticks.pixelInterval)),n}function q(t,e){return"ticks"in t&&"function"==typeof t.ticks?t.ticks(e):t.domain()}function B({scale:t,count:e,maxCount:n}){let r=q(t,e);if(n&&r.length>n){let t=Math.ceil(r.length/n);r=r.filter((e,n)=>n%t==0)}return r}function K({axis:t,width:e}){return Math.floor(e/(parseInt(t.labels.style.fontSize)+t.labels.padding))}function Z(t){let{split:e,boundsHeight:n}=t;return e.plots.length>1?e.plots[0].height:n}function X(t){let{axis:e,textMaxWidth:n}=t;return e.title.maxRowCount<1?[]:(0,U.lD)({text:e.title.text,style:e.title.style,width:n}).reduce((t,n,r)=>(r<e.title.maxRowCount?t.push(n):t[e.title.maxRowCount-1].text+=n.text,t),[])}function G(t,e=2){return t.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",").map(t=>`${parseInt(t,10)*e}`).join(",").replace(/NaN/g,"none")}n(57983);let J=(0,$.G)("d3-axis"),Q=t=>{let{axes:e,width:n,height:a,scale:l,split:o,plotRef:s}=t,u=Z({split:o,boundsHeight:a}),c=r.useRef(null);return r.useEffect(()=>{if(!c.current)return;let t=(0,i.Ys)(c.current);t.selectAll("*").remove();let r=t=>{var e;let r=(null===(e=o.plots[t.plotIndex])||void 0===e?void 0:e.top)||0;return"left"===t.position?`translate(0, ${r}px)`:`translate(${n}px, 0)`},a=e.reduce((t,e)=>(e.plotLines.length&&t.push(...e.plotLines.map(t=>Object.assign(Object.assign({},t),{transform:r(e)}))),t),[]),h=t.selectAll("axis").data(e).join("g").attr("class",J()).style("transform",t=>r(t));h.each((t,e,r)=>{let o=l[e],c=(0,i.Ys)(r[e]);if((function(t){let{preparedAxis:e,axisGenerator:n,width:r,height:i,scale:a}=t,l=e.grid.enabled?-1*r:0,o=(0,W.uq)(e,q(a)),s=n.tickSize(l).tickPadding(e.labels.margin).tickFormat(t=>e.labels.enabled?(0,W.A3)({axis:e,value:t,step:o}):""),u=V({axis:e,range:i});return u&&(s=s.ticks(u)),s})({axisGenerator:"left"===t.position?(0,i.y4O)(o):(0,i.Khx)(o),preparedAxis:t,height:u,width:n,scale:o})(c),t.labels.enabled){let e=c.selectAll(".tick text").attr("x",null).attr("dy",null).style("font-size",t.labels.style.fontSize).style("transform",function(){return function(t){let{node:e,axis:n}=t,r=n.labels.lineHeight/2,i=n.labels.margin;return("left"===n.position&&(i*=-1),n.labels.rotation)?(n.labels.rotation>0?(i-=n.labels.lineHeight*F(n.labels.rotation),r=n.labels.lineHeight*P(n.labels.rotation),n.labels.rotation%360==90&&(r=((null==e?void 0:e.getBoundingClientRect().width)||0)/2)):(r=0,n.labels.rotation%360==-90&&(r=-((null==e?void 0:e.getBoundingClientRect().width)||0)/2)),`translate(${i}px, ${r}px) rotate(${n.labels.rotation}deg)`):`translate(${i}px, ${r}px)`}({node:this,axis:t})}),n=t.labels.rotation&&Math.abs(t.labels.rotation)%360==90?(u-t.labels.padding*(e.size()-1))/e.size():t.labels.maxWidth;e.call(U.LV,n)}if(!t.labels.rotation){let e=0;c.selectAll(".tick").filter(function(n,r){let i=this.getBoundingClientRect();return i.bottom>e&&0!==r||(e=i.top-t.labels.padding,!1)}).remove()}if(s&&t.plotLines.length>0){let t=J("plotLine"),e=(0,i.Ys)(s.current);e.selectAll(`.${t}`).remove();let r=e.selectAll(`.${t}`).data(a).join("g").attr("class",t).style("transform",t=>t.transform);r.append("path").attr("d",t=>{let e=Number(o(t.value)),r=[[0,e],[n,e]];return(0,i.jvg)()(r)}).attr("stroke",t=>t.color).attr("stroke-width",t=>t.width).attr("stroke-dasharray",t=>G(t.dashStyle,t.width)).attr("opacity",t=>t.opacity),r.each((t,e,n)=>{let r=(0,i.Ys)(n[e]);"before"===t.layerPlacement?r.lower():r.raise()})}return c}),h.select(".domain").attr("d",()=>{let t=[[0,0],[0,u]];return(0,i.jvg)()(t)}).style("stroke",t=>t.lineColor||""),t.selectAll(".tick").each((t,e,n)=>{let r=(0,i.Ys)(n[e]);(0,W.rS)(r.attr("transform")).y===u&&r.select("line").style("stroke","none")}),h.append("text").attr("class",J("title")).attr("text-anchor","middle").attr("font-size",t=>t.title.style.fontSize).attr("transform",t=>{let e=Math.min((0,U.lD)({text:t.title.text,style:t.title.style,width:u}).length,t.title.maxRowCount),{x:n,y:r}=function(t){let e;let{axis:n,axisHeight:r,rowCount:i}=t;if(i<1)return{x:0,y:0};let a=-(n.title.height-n.title.height/i+n.title.margin+n.labels.margin+n.labels.width);switch(n.title.align){case"left":e=r-n.title.width/2;break;case"right":e=n.title.width/2;break;case"center":e=r/2}return{x:a,y:e}}({axis:t,axisHeight:u,rowCount:e}),i="left"===t.position?-90:90;return`translate(${n}, ${r}) rotate(${i})`}).selectAll("tspan").data(t=>X({axis:t,textMaxWidth:u})).join("tspan").attr("x",0).attr("y",t=>t.y).text(t=>t.text).each((t,e,n)=>{e===n.length-1&&(0,U.OB)(n[e],u)})},[e,n,u,l,o]),r.createElement("g",{ref:c,className:J("container")})};function tt(t,e){let{size:n,color:r}=e,i=t.selectAll(".domain").data([null]).enter().insert("path",".tick").attr("class","domain").attr("d",`M0,0V0H${n}`);r&&i.style("stroke",r)}function te(t){let{scale:e,ticks:{labelFormat:n=t=>String(t),labelsPaddings:r=0,labelsMargin:a=0,labelsMaxWidth:l=1/0,labelsStyle:o,labelsLineHeight:s,items:u,count:c,maxTickCount:h,rotation:d=0,tickColor:f},domain:p}=t,g="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,m=function({scale:t,offset:e}){var n,r,i;return"bandwidth"in t&&"function"==typeof t.bandwidth?(n=t.copy(),r=e,r=Math.max(0,n.bandwidth()-2*r)/2,n.round()&&(r=Math.round(r)),t=>Number(n(t))+r):(i=t.copy(),t=>Number(i(t)))}({scale:e,offset:g}),y=B({scale:e,count:c,maxCount:h}),v=(0,U.qV)({labels:y,style:o}).maxHeight;return function(t){var e,c,h;let b=null===(e=t.node())||void 0===e?void 0:e.getBoundingClientRect(),x=((null==b?void 0:b.x)||0)+p.size,_=-(null!==(h=null===(c=null==u?void 0:u[0])||void 0===c?void 0:c[0])&&void 0!==h?h:0),w=`translate(0, ${v+a-_}px)`;if(d){let t=v*P(d)+a-_,e=F(d)*v;Math.abs(d)%360==90&&(e+=(d>0?-1:1)*v/2),w=`translate(${-e}px, ${t}px) rotate(${d}deg)`}let M=(0,i.ETc)();null==u||u.forEach(([t,e])=>{M.moveTo(0,t),M.lineTo(0,e)}),t.selectAll(".tick").data(y).order().join(t=>{let e=t.append("g").attr("class","tick");return e.append("path").attr("d",M.toString()).attr("stroke",null!=f?f:"currentColor"),e.append("text").text(n).attr("fill","currentColor").attr("text-anchor",()=>d?d>0?"start":"end":"middle").style("transform",w).style("alignment-baseline","after-edge"),e}).attr("transform",function(t){return`translate(${m(t)+g}, ${_})`}),t.select(".tick").filter(t=>0===m(t)).select("line").remove();let k=t.selectAll(".tick text");if(d){let t=l*P(d)+s*F(d);k.each(function(){(0,U.fK)((0,i.Ys)(this),t)})}else{let e=0;t.selectAll(".tick").filter(function(){let t=this.getBoundingClientRect();return t.left<e||(e=t.right+r,!1)}).remove(),k.each(function(t,e,n){if(e===n.length-1){let t=n[e-1],a=(0,i.Ys)(this),l=this.getBoundingClientRect(),o=null==t?void 0:t.getBoundingClientRect(),s=Math.max(0,l.right-x);if(s){let t=x-((null==o?void 0:o.right)||0)-r,e=l.width/2-s;a.attr("text-anchor","end").attr("transform",`translate(${e},0)`),(0,U.fK)(a,t)}}})}let{size:A,color:E}=p;t.call(tt,{size:A,color:E}).style("font-size",(null==o?void 0:o.fontSize)||"")}}let tn=(0,$.G)("d3-axis"),tr=r.memo(function(t){let{axis:e,width:n,height:a,scale:l,split:o}=t,s=r.useRef(null);return r.useEffect(()=>{if(!s.current)return;let t=[];e.grid.enabled&&(t=Array(o.plots.length||1).fill(null).map((t,e)=>{var n,r;let i=(null===(n=o.plots[e])||void 0===n?void 0:n.top)||0;return[-i,-(i+((null===(r=o.plots[e])||void 0===r?void 0:r.height)||a))]}));let r=te({scale:l,ticks:{items:t,labelFormat:function({axis:t,scale:e}){let n=q(e),r=(0,W.uq)(t,n);return e=>t.labels.enabled?(0,W.A3)({axis:t,value:e,step:r}):""}({axis:e,scale:l}),labelsPaddings:e.labels.padding,labelsMargin:e.labels.margin,labelsStyle:e.labels.style,labelsMaxWidth:e.labels.maxWidth,labelsLineHeight:e.labels.lineHeight,count:V({axis:e,range:n}),maxTickCount:K({axis:e,width:n}),rotation:e.labels.rotation},domain:{size:n,color:e.lineColor}}),u=(0,i.Ys)(s.current);if(u.selectAll("*").remove(),u.call(r).attr("class",tn()),e.title.text){let t=X({axis:e,textMaxWidth:n});u.append("text").attr("class",tn("title")).attr("transform",()=>{let{x:r,y:i}=function(t){let e;let{axis:n,width:r,rowCount:i}=t;if(i<1)return{x:0,y:0};let a=n.title.height/i+n.title.margin+n.labels.height+n.labels.margin;switch(n.title.align){case"left":e=n.title.width/2;break;case"right":e=r-n.title.width/2;break;case"center":e=r/2}return{x:e,y:a}}({axis:e,width:n,rowCount:t.length});return`translate(${r}, ${i})`}).attr("font-size",e.title.style.fontSize).attr("text-anchor","middle").selectAll("tspan").data(t).join("tspan").attr("x",0).attr("y",t=>t.y).text(t=>t.text).each((t,r,i)=>{r===e.title.maxRowCount-1&&(0,U.OB)(i[r],n)})}},[e,n,a,l,o]),r.createElement("g",{ref:s})}),ti={fontSize:"12px"},ta={height:12,width:200};var tl=n(25632);let to=t=>{let e=Object.values(y.Ko);return e[t%e.length]},ts=Math.sqrt(3),tu={draw:(t,e)=>{let n=.6824*Math.sqrt(e),r=n/2,i=n*ts/2;t.moveTo(0,n),t.lineTo(i,-r),t.lineTo(-i,-r),t.closePath()}},tc=t=>{switch(t){case y.Ko.Diamond:return i.syu;case y.Ko.Circle:return i.JFv;case y.Ko.Square:return i.m_s;case y.Ko.Triangle:return i.vgc;case y.Ko.TriangleDown:return tu;default:return i.JFv}};function th(t,e){let{x:n=0,y:r=0,width:i,height:a,interpolator:l}=e,o=document.createElement("canvas");o.width=256,o.height=1;let s=o.getContext("2d");if(!s)throw Error("Couldn't get canvas context");for(let t=0;t<256;++t)s.fillStyle=l(t/255),s.fillRect(t,0,1,a);return t.append("image").attr("preserveAspectRatio","none").attr("height",a).attr("width",i).attr("x",n).attr("y",r).attr("xlink:href",o.toDataURL())}function td(t){return(0,i.w6H)(t).map(e=>e/t)}n(11065);let tf=(0,$.G)("d3-legend"),tp=t=>{let{align:e,offsetWidth:n=0,width:r,contentWidth:i}=t;return"left"===e?{top:0,left:n}:"right"===e?{top:0,left:n+r-i}:{top:0,left:n+r/2-i/2}},tg=t=>{let{container:e,offset:n,maxPage:r,legend:i,transform:a,onArrowClick:l}=t,o=e.append("g").attr("class",tf("pagination")),s=0;o.append("text").text("▲").attr("class",function(){return tf("pagination-arrow",{inactive:0===n})}).style("font-size",i.itemStyle.fontSize).each(function(){s+=this.getComputedTextLength()}).on("click",function(){n-1>=0&&l(n-1)}),o.append("text").text(`${n+1}/${r}`).attr("class",tf("pagination-counter")).attr("x",s).style("font-size",i.itemStyle.fontSize).each(function(){s+=this.getComputedTextLength()}),o.append("text").text("▼").attr("class",function(){return tf("pagination-arrow",{inactive:n===r-1})}).attr("x",s).style("font-size",i.itemStyle.fontSize).on("click",function(){n+1<r&&l(n+1)}),o.attr("transform",a)},tm=(0,i.jvg)().x(t=>t.x).y(t=>t.y),ty=t=>{let{boundsWidth:e,chartSeries:n,legend:a,items:l,config:o,onItemClick:s,onUpdate:u}=t,c=r.useRef(null),[h,d]=r.useState(0);return r.useEffect(()=>{d(0)},[e]),r.useEffect(()=>{var t,n,r,f,p;if(!c.current)return;let g=(0,i.Ys)(c.current);g.selectAll("*").remove();let m=0;if("discrete"===a.type){let n=null===(t=o.pagination)||void 0===t?void 0:t.limit;if(("number"==typeof n?l.slice(h*n,h*n+n):l).forEach((t,n)=>{var r;let l=g.append("g").attr("class",tf("line")),o=l.selectAll("legend-history").data(t).enter().append("g").attr("class",tf("item")).on("click",function(t,e){s({name:e.name,metaKey:t.metaKey}),null==u||u()}),c=e=>t.slice(0,e).reduce((t,e)=>t+e.symbol.width+e.symbol.padding+e.textWidth+a.itemDistance,0);(function(t){let{selection:e,legend:n}=t,r=e.data(),a=t=>r.slice(0,t).reduce((t,e)=>t+e.symbol.width+e.symbol.padding+e.textWidth+n.itemDistance,0);e.each(function(t,e){let r=(0,i.Ys)(this),l=a(e),o=tf("item-symbol",{shape:t.symbol.shape,unselected:!t.visible}),s=t.visible?t.color:"";switch(t.symbol.shape){case"path":{let e=n.lineHeight/2,i=[{x:l,y:e},{x:l+t.symbol.width,y:e}];r.append("path").attr("d",tm(i)).attr("fill","none").attr("stroke-width",t.symbol.strokeWidth).attr("class",o).style("stroke",s),t.dashStyle&&r.attr("stroke-dasharray",G(t.dashStyle,t.symbol.strokeWidth));break}case"rect":{let e=(n.lineHeight-t.symbol.height)/2;r.append("rect").attr("x",l).attr("y",e).attr("width",t.symbol.width).attr("height",t.symbol.height).attr("rx",t.symbol.radius).attr("class",o).style("fill",s);break}case"symbol":{let e=n.lineHeight/2;r.append("svg:path").attr("d",()=>{let e=tc(t.symbol.symbolType);return(0,i.NAG)(e,t.symbol.width*t.symbol.width)()}).attr("transform",()=>"translate("+l+","+e+")").attr("class",o).style("fill",s)}}})})({selection:o,legend:a}),o.append("text").attr("x",function(t,e){return c(e)+t.symbol.width+t.symbol.padding}).attr("height",a.lineHeight).attr("class",function(t){return tf("item-text",{selected:t.visible,unselected:!t.visible})}).text(function(t){return"name"in t&&t.name}).style("font-size",a.itemStyle.fontSize);let h=(null===(r=l.node())||void 0===r?void 0:r.getBoundingClientRect().width)||0,{left:d}=tp({align:a.align,width:e,offsetWidth:0,contentWidth:h}),f=a.lineHeight*n;l.attr("transform",`translate(${[d,f].join(",")})`)}),m=e,o.pagination){let t=`translate(${[0,a.lineHeight*o.pagination.limit+a.lineHeight/2].join(",")})`;tg({container:g,offset:h,maxPage:o.pagination.maxPage,legend:a,transform:t,onArrowClick:d})}}else{let t=null!==(n=a.colorScale.domain)&&void 0!==n?n:[],e=ta.height;g.call(th,{y:a.title.height+a.title.margin,height:e,width:a.width,interpolator:function(t){let{values:e,colors:n,stops:r}=t,a=Math.min(...e),l=Math.max(...e),o=null!=r?r:td(n.length),s=(0,i.BYU)(o,n);return t=>s((t-a)/(l-a))}({values:[0,1],colors:a.colorScale.colors,stops:a.colorScale.stops})});let r=te({scale:(0,i.BYU)(t,[0,a.width]),ticks:{items:[[0,-e]],labelsMargin:a.ticks.labelsMargin,labelsLineHeight:a.ticks.labelsLineHeight,maxTickCount:4,tickColor:"#fff",labelFormat:t=>(0,tl.uf)(t,{unit:"auto"})},domain:{size:a.width,color:"transparent"}}),l=a.title.height+a.title.margin+e;g.append("g").attr("transform",`translate(0, ${l})`).call(r),m=a.width}if(a.title.enable){let{maxWidth:t}=(0,U.qV)({labels:[a.title.text],style:a.title.style}),e=0;switch(a.title.align){case"center":e=a.width/2-t/2;break;case"right":e=a.width-t;break;default:e=0}g.append("g").attr("class",tf("title")).append("text").attr("dx",e).attr("font-weight",null!==(r=a.title.style.fontWeight)&&void 0!==r?r:null).attr("font-size",null!==(f=a.title.style.fontSize)&&void 0!==f?f:null).attr("fill",null!==(p=a.title.style.fontColor)&&void 0!==p?p:null).style("alignment-baseline","before-edge").text(a.title.text)}let{left:y}=tp({align:a.align,width:e,offsetWidth:o.offset.left,contentWidth:m});g.attr("transform",`translate(${[y,o.offset.top].join(",")})`)},[e,n,s,u,a,l,o,h]),r.createElement("g",{className:tf(),ref:c,width:e,height:a.height})};n(21200);let tv=(0,$.G)("plot-title"),tb=t=>{let{title:e}=t;if(!e)return null;let{x:n,y:i,text:a,style:l,height:o}=e;return r.createElement("text",{className:tv(),dx:n,dy:i,dominantBaseline:"middle",textAnchor:"middle",style:Object.assign({lineHeight:`${o}px`},l)},r.createElement("tspan",null,a))};n(84556);let tx=(0,$.G)("d3-title"),t_=t=>{let{chartWidth:e,text:n,height:i,style:a}=t;return r.createElement("text",{className:tx(),dx:e/2,dy:i/2,dominantBaseline:"middle",textAnchor:"middle",style:Object.assign({lineHeight:`${i}px`},a)},r.createElement("tspan",null,n))};var tw=n(14026),tM=n(56009);let tk=({dispatcher:t,tooltip:e})=>{let[{hovered:n,pointerPosition:i},a]=r.useState({});return r.useEffect(()=>((null==e?void 0:e.enabled)&&t.on("hover-shape.tooltip",(t,e)=>{a({hovered:t,pointerPosition:e})}),()=>{(null==e?void 0:e.enabled)&&t.on("hover-shape.tooltip",null)}),[t,e]),{hovered:n,pointerPosition:i}};var tA=n(614);n(45890);let tE=(0,$.G)("tooltip"),tS=t=>{let{tooltip:e,xAxis:n,yAxis:i,svgContainer:a,dispatcher:l,tooltipPinned:o,onOutsideClick:s}=t,{hovered:u,pointerPosition:c}=tk({dispatcher:l,tooltip:e}),h=(null==a?void 0:a.getBoundingClientRect())||{left:0,top:0},d=((null==c?void 0:c[0])||0)+h.left,f=((null==c?void 0:c[1])||0)+h.top,{anchor:p}=(0,tw._)({left:d,top:f});return r.useEffect(()=>{window.dispatchEvent(new CustomEvent("scroll"))},[d,f]),(null==u?void 0:u.length)?r.createElement(tM.G,{anchorElement:p,className:tE({pinned:o}),disableTransition:!0,floatingStyles:o?void 0:{pointerEvents:"none"},offset:{mainAxis:20},onOpenChange:o?(t,e)=>{null!=a&&a.contains(null==e?void 0:e.target)||null==s||s()}:void 0,open:!0,placement:["right","left","top","bottom"]},r.createElement("div",{className:tE("content")},r.createElement(tA.d,{hovered:u,xAxis:n,yAxis:i,renderer:e.renderer}))):null};var tC=n(23493),tT=n.n(tC);let tL="object"==typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0);var tN=n(7739),tD=n.n(tN);function t$(t,e,n){var r,a,l,o;let s=(0,i.DYV)(n,t=>t.x),u=(0,i.YFb)(t=>t.x).center(s,t);if(-1===u)return[];let c=s[u].x,h=(0,i.DYV)(n.filter(t=>t.x===c),t=>t.y0),d=-1;if(e<(null===(r=h[0])||void 0===r?void 0:r.y0))d=0;else if(e>(null===(a=h[h.length-1])||void 0===a?void 0:a.y1))d=h.length-1;else if(-1===(d=h.findIndex(t=>e>t.y0&&e<t.y1))){let t=(0,i.DYV)(h.map((t,e)=>({index:e,y:t.y1+(t.y0-t.y1)/2})),t=>t.y),n=(0,i.YFb)(t=>t.y).center(t,e);d=null!==(o=null===(l=t[n])||void 0===l?void 0:l.index)&&void 0!==o?o:-1}return h.map((t,e)=>({data:t.data,series:t.series,closest:e===d}))}function tR(t){return p()(t,"series.type")||p()(t,"point.series.type")}function tO(t){let{position:e,shapesData:n,boundsHeight:r,boundsWidth:a}=t,[l,o]=e,s=[];return Object.entries(tD()(n,tR)).forEach(([t,e])=>{var n,u;switch(t){case"bar-x":{let t=e.map(t=>({data:t.data,series:t.series,x:t.x+t.width/2,y0:t.y,y1:t.y+t.height}));s.push(...t$(l,o,t));break}case"waterfall":{let t=e.map(t=>({data:t.data,series:t.series,x:t.x+t.width/2,y0:t.y,y1:t.y+t.height}));s.push(...t$(l,o,t));break}case"area":{let t=e.reduce((t,e)=>(Array.prototype.push.apply(t,e.points.map(t=>({data:t.data,series:t.series,x:t.x,y0:t.y0,y1:t.y}))),t),[]);s.push(...t$(l,o,t));break}case"line":{let t=e.reduce((t,e)=>(t.push(...e.points.map(t=>({data:t.data,series:t.series,x:t.x,y0:t.y,y1:t.y}))),t),[]);s.push(...t$(l,o,t));break}case"bar-y":{let t=(0,i.DYV)(e,t=>t.y),r=(0,i.YFb)(t=>t.y).center(t,o),a=[],u=-1;if(-1!==r){let o=t[r].y,s=(a=(0,i.DYV)(e.filter(t=>t.y===o),t=>t.x))[a.length-1];u=l<(null===(n=a[0])||void 0===n?void 0:n.x)?0:s&&l>s.x+s.width?a.length-1:a.findIndex(t=>l>t.x&&l<t.x+t.width)}s.push(...a.map((t,e)=>({data:t.data,series:t.series,closest:e===u})));break}case"scatter":{let t=i.oc6.from(e,t=>t.point.x,t=>t.point.y),n=e[t.find(l,o)];n&&s.push({data:n.point.data,series:n.point.series,closest:!0});break}case"pie":{let t=e.map(t=>t.segments).flat().find(t=>{let{center:e}=t.data.pie,n=l-e[0],r=o-e[1],i=Math.atan2(r,n)+.5*Math.PI;return(i=i<0?2*Math.PI+i:i)>=t.startAngle&&i<=t.endAngle&&Math.sqrt(n*n+r*r)<t.data.radius});t&&s.push({data:t.data.series.data,series:t.data.series,closest:!0});break}case"treemap":{let t=null===(u=e[0])||void 0===u?void 0:u.leaves.find(t=>l>=t.x0&&l<=t.x1&&o>=t.y0&&o<=t.y1);t&&s.push({data:t.data,series:e[0].series,closest:!0});break}case"sankey":{let[t]=e,n=t.links.find(t=>{var e;return function(t){let{path:e,point:n,width:r,height:i,strokeWidth:a}=t,l=document.createElement("canvas");l.width=r,l.height=i;let o=l.getContext("2d");if(o){o.lineWidth=a;let t=new Path2D(e);return o.stroke(t),o.isPointInPath(t,...n)||o.isPointInStroke(t,...n)}return null}({path:null!==(e=t.path)&&void 0!==e?e:"",strokeWidth:t.strokeWidth,point:[l,o],width:a,height:r})});n&&s.push({data:n.source,target:n.target,series:t.series,closest:!0})}}}),s}function tI(t){let e=r.useRef();return r.useEffect(()=>{e.current=t},[t]),e.current}let tz=t=>{let{chart:e,preparedTitle:n}=t,r=p()(e,"margin.top",0);return(null==n?void 0:n.height)&&(r+=n.height),r},tH=t=>{let{chart:e}=t;return p()(e,"margin.right",0)},tY=t=>{let{chart:e,preparedTitle:n}=t,r=tz({chart:e,preparedTitle:n}),i=p()(e,"margin.bottom",0),a=p()(e,"margin.left",0);return{margin:{top:r,right:tH({chart:e}),bottom:i,left:a}}},tj=({title:t})=>{let e=p()(t,"text"),n={fontSize:p()(t,"style.fontSize","15px"),fontWeight:p()(t,"style.fontWeight")},r=e?(0,W.eO)({text:e,style:n})+16:0;return e?{text:e,style:n,height:r}:void 0},tP=t=>{let{tooltip:e}=t;return Object.assign(Object.assign({},e),{enabled:p()(e,"enabled",!0)})},tF=t=>{let{data:{chart:e,title:n,tooltip:i}}=t;return r.useMemo(()=>{let t=tj({title:n}),r=tP({tooltip:i});return{chart:tY({chart:e,preparedTitle:t}),title:t,tooltip:r}},[e,n,i])};var tW=n(66678),tU=n.n(tW),tV=n(82492),tq=n.n(tV);let tB=t=>{let{chartWidth:e,chartMargin:n,preparedYAxis:r}=t;return e-n.right-n.left-function(t){let{preparedAxis:e}=t,n=0,r=0;return null==e||e.forEach(t=>{let e=tK(t);"right"===t.position?r=Math.max(r,e):n=Math.max(n,e)}),n+r}({preparedAxis:r})};function tK(t){let e=0;return(null==t?void 0:t.title.text)&&(e+=t.title.height+t.title.margin),(null==t?void 0:t.labels.enabled)&&(e+=t.labels.margin+t.labels.width),e}let tZ=t=>{var e,n,r,i,a,l,o;let{legend:s,series:u}=t,c=!!("boolean"==typeof(null==s?void 0:s.enabled)?null==s?void 0:s.enabled:u.length>1),h=tU()(ti),d=p()(s,"itemStyle"),f=tq()(h,d),g=(0,W.eO)({text:"Tmp",style:f}),m=p()(s,"type","discrete"),y=!!(null===(e=null==s?void 0:s.title)||void 0===e?void 0:e.text),v=y?p()(s,"title.margin",4):0,b=Object.assign({fontSize:"12px",fontWeight:"bold"},p()(s,"title.style")),x=y?p()(s,"title.text",""):"",_=y?(0,U.qV)({labels:[x],style:b}).maxHeight:0,w={labelsMargin:4,labelsLineHeight:12},M={colors:[],domain:[],stops:[]},k=0;c&&(k+=_+v,"continuous"===m?(k+=ta.height+(w.labelsLineHeight+w.labelsMargin),M.colors=null!==(r=null===(n=null==s?void 0:s.colorScale)||void 0===n?void 0:n.colors)&&void 0!==r?r:[],M.stops=null!==(a=null===(i=null==s?void 0:s.colorScale)||void 0===i?void 0:i.stops)&&void 0!==a?a:td(M.colors.length),M.domain=null!==(o=null===(l=null==s?void 0:s.colorScale)||void 0===l?void 0:l.domain)&&void 0!==o?o:function(t){let{series:e}=t,n=e.reduce((t,e)=>{switch(e.type){case"pie":t.push(...e.data.map(t=>t.value));break;case"bar-y":t.push(...e.data.map(t=>Number(t.x)));break;case"scatter":case"bar-x":case"waterfall":case"line":case"area":t.push(...e.data.map(t=>Number(t.y)));break;default:throw Error(`The method for calculation a domain for a continuous color scale for the "${e.type}" series is not defined`)}return t},[]);return[Math.min(...n),Math.max(...n)]}({series:u})):k+=g);let A=p()(s,"width",ta.width);return{align:p()(s,"align","center"),enabled:c,height:k,itemDistance:p()(s,"itemDistance",20),itemStyle:f,lineHeight:g,margin:p()(s,"margin",15),type:m,title:{enable:y,text:x,margin:v,style:b,height:_,align:p()(s,"title.align","left")},width:A,ticks:w,colorScale:M}},tX=t=>t.reduce((t,e)=>(p()(e,"legend.enabled",!0)&&t.push(Object.assign(Object.assign({},e),{symbol:e.legend.symbol})),t),[]),tG=t=>{let{maxLegendWidth:e,items:n,preparedLegend:r}=t,a=[[]],l=[0],o=0;return n.forEach(t=>{(0,i.Ys)(document.body).append("text").text(t.name).style("font-size",r.itemStyle.fontSize).each(function(){let n=tU()(t),i=this.getBoundingClientRect().width;n.textWidth=i,l.push(i);let s=l.reduce((t,e)=>t+e,0);if(a[o].push(n),e<s+a[o].reduce((t,{symbol:e})=>t+e.width+e.padding,0)+(a[o].length-1)*r.itemDistance){a[o].pop(),o+=1,l=[i];let t=o;a[t]=[],a[t].push(n)}}).remove()}),a},tJ=t=>{let e;let{chartWidth:n,chartHeight:r,chartMargin:i,series:a,preparedLegend:l,preparedYAxis:o}=t,s=tB({chartWidth:n,chartMargin:i,preparedYAxis:o}),u=(r-i.top-i.bottom-l.margin)/2,c=tG({maxLegendWidth:s,items:tX(a),preparedLegend:l});if("discrete"===l.type){let t=l.lineHeight*c.length;if(u<t){let n=Math.floor(u/l.lineHeight)-1,r=Math.ceil(c.length/n);e={limit:n,maxPage:r},t=u}l.height=t}let h=r-i.bottom-l.height;return{legendConfig:{offset:{left:i.left+tK(o[0]),top:h},pagination:e},legendItems:c}},tQ={"bar-x":{barMaxWidth:50,barPadding:.1,groupPadding:.2,states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},"bar-y":{barMaxWidth:50,barPadding:.1,groupPadding:.2,states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},pie:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},scatter:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},line:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},area:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},treemap:{states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}},waterfall:{barMaxWidth:50,barPadding:.1,states:{hover:{enabled:!0,brightness:.3},inactive:{enabled:!1,opacity:.5}}}},t0=t=>tq()({},tQ,t);var t1=n(71143),t2=n(83361);let t3=Object.assign(Object.assign({},t1.zZ),{enabled:!1}),t6=y.g6.Solid,t4=Object.assign(Object.assign({},t1.zZ),{enabled:!1}),t5=t=>{let{chartWidth:e,chartHeight:n,chartMargin:a,legend:l,preparedYAxis:o,series:{data:s,options:u}}=t,c=r.useMemo(()=>tZ({legend:l,series:s}),[l,s]),h=r.useMemo(()=>{let t=(0,W.Hn)(s),e=(0,i.PKp)(t,y.LD);return Array.from((0,i.ruo)(s,t=>t.type)).reduce((t,[n,r])=>(t.push(...function(t){let{type:e,series:n,seriesOptions:r,legend:a,colorScale:l}=t;switch(e){case"pie":return n.reduce((t,e)=>(t.push(...function(t){let{series:e,seriesOptions:n,legend:r}=t,a=e.data.map(t=>t.name),l=(0,i.PKp)(a,y.LD),o=(0,d.xA)(),s=p()(n,"pie.states.hover");return e.data.map((t,n)=>{var i,a,u,c,h;return{type:"pie",data:t,dataLabels:{enabled:p()(e,"dataLabels.enabled",!0),style:Object.assign({},t1.n1,null===(i=e.dataLabels)||void 0===i?void 0:i.style),padding:p()(e,"dataLabels.padding",t1.kv),allowOverlap:p()(e,"dataLabels.allowOverlap",!1),connectorPadding:p()(e,"dataLabels.connectorPadding",5),connectorShape:p()(e,"dataLabels.connectorShape","polyline"),distance:p()(e,"dataLabels.distance",25),connectorCurve:p()(e,"dataLabels.connectorCurve","basic"),html:p()(e,"dataLabels.html",!1)},label:t.label,value:t.value,visible:"boolean"!=typeof t.visible||t.visible,name:t.name,id:`Series ${n}`,color:t.color||l(t.name),legend:{enabled:p()(e,"legend.enabled",r.enabled),symbol:(0,t2.kw)(e)},center:e.center||["50%","50%"],borderColor:e.borderColor||"",borderRadius:null!==(a=e.borderRadius)&&void 0!==a?a:0,borderWidth:null!==(u=e.borderWidth)&&void 0!==u?u:1,radius:null!==(h=null!==(c=t.radius)&&void 0!==c?c:e.radius)&&void 0!==h?h:"100%",innerRadius:e.innerRadius||0,stackId:o,states:{hover:{halo:{enabled:p()(s,"halo.enabled",!0),opacity:p()(s,"halo.opacity",.25),size:p()(s,"halo.size",10)}}},renderCustomShape:e.renderCustomShape,opacity:p()(t,"opacity",null),cursor:p()(e,"cursor",null)}})}({series:e,seriesOptions:r,legend:a})),t),[]);case"bar-x":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t;return n.map(t=>{var n,a,l,o,s;let u=t.name||"",c=t.color||e(u);return{type:t.type,color:c,name:u,id:(0,d.xA)(),visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",i.enabled),symbol:(0,t2.kw)(t)},data:t.data,stacking:t.stacking,stackId:(0,t2.MS)(t),dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,inside:"boolean"==typeof(null===(a=t.dataLabels)||void 0===a?void 0:a.inside)&&(null===(l=t.dataLabels)||void 0===l?void 0:l.inside),style:Object.assign({},t1.n1,null===(o=t.dataLabels)||void 0===o?void 0:o.style),allowOverlap:(null===(s=t.dataLabels)||void 0===s?void 0:s.allowOverlap)||!1,padding:p()(t,"dataLabels.padding",t1.kv),html:p()(t,"dataLabels.html",!1)},cursor:p()(t,"cursor",null),yAxis:p()(t,"yAxis",0),borderRadius:p()(t,"borderRadius",p()(r,"bar-x.borderRadius",0))}},[])}({series:n,legend:a,colorScale:l,seriesOptions:r});case"bar-y":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t;return n.map(t=>{var n,a,l;let o=t.name||"",s=t.color||e(o);return{type:t.type,color:s,name:o,id:(0,d.xA)(),visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",i.enabled),symbol:(0,t2.kw)(t)},data:t.data,stacking:t.stacking,stackId:(0,t2.MS)(t),dataLabels:function(t){var e;let n=p()(t,"dataLabels.enabled",!1),r=Object.assign({},t1.n1,null===(e=t.dataLabels)||void 0===e?void 0:e.style),i=p()(t,"dataLabels.html",!1),a=n?t.data.map(t=>String(t.label||t.x)):[],{maxHeight:l=0,maxWidth:o=0}=(0,U.qV)({labels:a,style:r,html:i});return{enabled:n,inside:"percent"===t.stacking||p()(t,"dataLabels.inside",!1),style:r,maxHeight:l,maxWidth:o,html:i}}(t),cursor:p()(t,"cursor",null),borderRadius:null!==(l=null!==(n=t.borderRadius)&&void 0!==n?n:null===(a=null==r?void 0:r["bar-y"])||void 0===a?void 0:a.borderRadius)&&void 0!==l?l:0}},[])}({series:n,legend:a,colorScale:l,seriesOptions:r});case"scatter":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t;return n.map((t,n)=>{let a=(0,d.xA)(),l="name"in t&&t.name?t.name:"",o=t.symbolType||to(n);return{id:a,type:t.type,name:l,color:p()(t,"color",e(l)),visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",i.enabled),symbol:(0,t2.kw)(t,o)},data:t.data,marker:function(t,e,n){let r=p()(e,"scatter.states.hover"),i=Object.assign(Object.assign({},t1.zZ),{enabled:!0,symbol:t.symbolType||to(n)}),a={enabled:!0,radius:i.radius,borderWidth:1,borderColor:"#ffffff",halo:t1.OS};return{states:{normal:i,hover:tq()(a,null==r?void 0:r.marker)}}}(t,r,n),cursor:p()(t,"cursor",null),yAxis:p()(t,"yAxis",0)}},[])}({series:n,legend:a,colorScale:l});case"line":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t,a=p()(r,"line.lineWidth",1),l=p()(r,"line.dashStyle",t6);return n.map(t=>{var n,o;let s=(0,d.xA)(),u=t.name||"",c=t.color||e(u),h=p()(t,"dashStyle",l);return{type:t.type,color:c,lineWidth:p()(t,"lineWidth",a),name:u,id:s,visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",i.enabled),symbol:function(t,e){var n;let r=(null===(n=t.legend)||void 0===n?void 0:n.symbol)||{},i=p()(e,"line.lineWidth",1);return{shape:"path",width:(null==r?void 0:r.width)||16,padding:(null==r?void 0:r.padding)||t1.Dc,strokeWidth:p()(t,"lineWidth",i)}}(t,r)},data:t.data,dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,style:Object.assign({},t1.n1,null===(o=t.dataLabels)||void 0===o?void 0:o.style),padding:p()(t,"dataLabels.padding",t1.kv),allowOverlap:p()(t,"dataLabels.allowOverlap",!1),html:p()(t,"dataLabels.html",!1)},marker:function(t,e){var n;let r=p()(e,"line.states.hover"),i=Object.assign({},t4,null===(n=null==e?void 0:e.line)||void 0===n?void 0:n.marker,t.marker),a={enabled:!0,radius:i.radius,borderWidth:1,borderColor:"#ffffff",halo:t1.OS};return{states:{normal:i,hover:tq()(a,null==r?void 0:r.marker)}}}(t,r),dashStyle:h,linecap:function(t,e,n){let r=t===y.g6.Solid?y.uq.Round:y.uq.None,i=p()(n,"line.linecap",r);return p()(e,"linecap",i)}(h,t,r),opacity:p()(t,"opacity",null),cursor:p()(t,"cursor",null),yAxis:p()(t,"yAxis",0)}},[])}({series:n,seriesOptions:r,legend:a,colorScale:l});case"area":return function(t){let{colorScale:e,series:n,seriesOptions:r,legend:i}=t,a=p()(r,"area.lineWidth",1),l=p()(r,"area.opacity",.75);return n.map(t=>{var n,o;let s=(0,d.xA)(),u=t.name||"",c=t.color||e(u);return{type:t.type,color:c,opacity:p()(t,"opacity",l),lineWidth:p()(t,"lineWidth",a),name:u,id:s,visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",i.enabled),symbol:(0,t2.kw)(t)},data:t.data,stacking:t.stacking,stackId:(0,t2.MS)(t),dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,style:Object.assign({},t1.n1,null===(o=t.dataLabels)||void 0===o?void 0:o.style),padding:p()(t,"dataLabels.padding",t1.kv),allowOverlap:p()(t,"dataLabels.allowOverlap",!1),html:p()(t,"dataLabels.html",!1)},marker:function(t,e){var n;let r=p()(e,"area.states.hover"),i=Object.assign({},t3,null===(n=null==e?void 0:e.area)||void 0===n?void 0:n.marker,t.marker),a={enabled:!0,radius:i.radius,borderWidth:1,borderColor:"#ffffff",halo:t1.OS};return{states:{normal:i,hover:tq()(a,null==r?void 0:r.marker)}}}(t,r),cursor:p()(t,"cursor",null),yAxis:p()(t,"yAxis",0)}},[])}({series:n,seriesOptions:r,legend:a,colorScale:l});case"treemap":return function(t){let{colorScale:e,legend:n,series:r}=t;return r.map(t=>{var r;let i=(0,d.xA)(),a=t.name||"";return{color:t.color||e(a),data:t.data,dataLabels:{enabled:p()(t,"dataLabels.enabled",!0),style:Object.assign({},t1.n1,null===(r=t.dataLabels)||void 0===r?void 0:r.style),padding:p()(t,"dataLabels.padding",t1.kv),allowOverlap:p()(t,"dataLabels.allowOverlap",!1),html:p()(t,"dataLabels.html",!1),align:p()(t,"dataLabels.align","left")},id:i,type:t.type,name:a,visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",n.enabled),symbol:(0,t2.kw)(t)},levels:t.levels,layoutAlgorithm:p()(t,"layoutAlgorithm",y.MH.Binary),cursor:p()(t,"cursor",null)}})}({series:n,seriesOptions:r,legend:a,colorScale:l});case"waterfall":return function(t){let{colorScale:e,series:n,legend:r}=t,[,i,a]=y.LD;return n.map(t=>{var n,l,o;let s=t.name||"",u=t.color||e(s);return{type:t.type,color:u,positiveColor:a,negativeColor:i,name:s,id:(0,d.xA)(),visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",r.enabled),symbol:(0,t2.kw)(t)},data:t.data,dataLabels:{enabled:(null===(n=t.dataLabels)||void 0===n?void 0:n.enabled)||!1,style:Object.assign({},t1.n1,null===(l=t.dataLabels)||void 0===l?void 0:l.style),allowOverlap:(null===(o=t.dataLabels)||void 0===o?void 0:o.allowOverlap)||!1,padding:p()(t,"dataLabels.padding",t1.kv),html:p()(t,"dataLabels.html",!1)},cursor:p()(t,"cursor",null)}},[])}({series:n,legend:a,colorScale:l});case"sankey":return function(t){let{colorScale:e,legend:n,series:r}=t;return r.map(t=>{var r;let i=(0,d.xA)(),a=t.name||"";return{color:e(a),data:t.data.map(t=>{var n;return{name:t.name,color:null!==(n=t.color)&&void 0!==n?n:e(t.name),links:t.links}}),dataLabels:{enabled:p()(t,"dataLabels.enabled",!0),style:Object.assign({},t1.n1,null===(r=t.dataLabels)||void 0===r?void 0:r.style)},id:i,type:t.type,name:a,visible:p()(t,"visible",!0),legend:{enabled:p()(t,"legend.enabled",n.enabled),symbol:(0,t2.kw)(t)},cursor:p()(t,"cursor",null)}})}({series:n,seriesOptions:r,colorScale:l,legend:a});default:throw new k({message:`Series type "${e}" does not support data preparation for series that do not support the presence of axes`})}}({type:n,series:r,seriesOptions:u,legend:c,colorScale:e})),t),[])},[s,u,c]),f=r.useMemo(()=>t0(u),[u]),[g,m]=r.useState((0,t2.mJ)(h)),v=r.useMemo(()=>h.map(t=>t.legend.enabled?Object.assign(Object.assign({},t),{visible:g.includes(t.name)}):t),[h,g]),{legendConfig:b,legendItems:x}=r.useMemo(()=>tJ({chartHeight:n,chartMargin:a,chartWidth:e,series:v,preparedLegend:c,preparedYAxis:o}),[e,n,a,v,c,o]),_=r.useCallback(({name:t,metaKey:e})=>{let n=(0,t2.vg)(h),r=1===g.length&&g.includes(t);m(e&&g.includes(t)?g.filter(e=>e!==t):e&&!g.includes(t)?g.concat(t):r&&1===n.length?[]:r?n:[t])},[h,g]);return r.useEffect(()=>{m((0,t2.mJ)(h))},[h]),{legendItems:x,legendConfig:b,preparedLegend:c,preparedSeries:v,preparedSeriesOptions:f,handleLegendItemClick:_}},t8=t=>{let{hasAxisRelatedSeries:e,preparedLegend:n,preparedXAxis:r}=t,i=0;return n.enabled&&(i+=n.height+n.margin),e&&(r.title.text&&(i+=r.title.height+r.title.margin),r.labels.enabled&&(i+=r.labels.margin+r.labels.height)),i},t7=t=>{let{margin:e,width:n,height:i,preparedLegend:a,preparedXAxis:l,preparedYAxis:o,preparedSeries:s}=t;return r.useMemo(()=>{let t=s.some(W.Xq),r=tB({chartWidth:n,chartMargin:e,preparedYAxis:o}),u=t8({hasAxisRelatedSeries:t,preparedLegend:a,preparedXAxis:l});return{boundsWidth:r,boundsHeight:i-e.top-e.bottom-u}},[e,n,i,a,l,o,s])},t9=t=>{var e;let{split:n,boundsHeight:r,chartWidth:i}=t,a=null!==(e=j({value:null==n?void 0:n.gap,base:r}))&&void 0!==e?e:0,l=function(t){let{split:e,boundsHeight:n,gap:r}=t,i=(null==e?void 0:e.plots)||[];return i.length>1?(n-r*(i.length-1))/i.length:n}({split:n,boundsHeight:r,gap:a});return{plots:((null==n?void 0:n.plots)||[]).map((t,e)=>{let n=function(t){let{title:e,plotIndex:n,plotHeight:r,chartWidth:i,gap:a}=t,l=(null==e?void 0:e.text)||"",o={fontSize:p()(e,"style.fontSize","15px"),fontWeight:p()(e,"style.fontWeight")},s=l?(0,W.eO)({text:l,style:o})+16:0;return{text:l,x:i/2,y:n*(r+a)+s/2,style:o,height:s}}({title:t.title,plotIndex:e,gap:a,plotHeight:l,chartWidth:i});return{top:e*(l+a)+n.height,height:l-n.height,title:n}}),gap:a}},et=t=>t.every(t=>"number"==typeof t||null===t),ee=t=>{let{axisDirection:e,categories:n,series:r}=t,i=new Set;return r.forEach(t=>{(0,W.GJ)(t)&&t.data.forEach(t=>{i.add((0,W.s0)({axisDirection:e,categories:n,data:t}))})}),n.filter(t=>i.has(t))};function en(t,e,n){let r=p()(t,"type",w),a=p()(t,"min"),l=p()(t,"categories"),o=p()(t,"timestamps");switch(r){case"linear":case"logarithmic":{let l=(0,W.fO)(e),o=[n,n*t.maxPadding];if(et(l)){let[t,n]=(0,i.Wem)(l),s=n;return e.some(t=>W.ul.includes(t.type))&&(s=Math.max(s,0)),("logarithmic"===r?i.p2C:i.BYU)().domain(["number"==typeof a?a:t,s]).range(o).nice()}break}case"category":if(l){let t=ee({axisDirection:"y",categories:l,series:e});return(0,i.tiA)().domain(t).range([n,0])}break;case"datetime":{let r=[n,n*t.maxPadding];if(o){let[t,e]=(0,i.Wem)(o);return(0,i.KYF)().domain([t,e]).range(r).nice()}{let t=(0,W.fO)(e);if(et(t)){let[e,n]=(0,i.Wem)(t);return(0,i.KYF)().domain([e,n]).range(r).nice()}}}}throw Error("Failed to create yScale")}function er(t,e,n){let r;let a=p()(t,"min"),l=(0,W.az)(e),o=p()(t,"type",w),s=p()(t,"categories"),u=p()(t,"timestamps"),c=n*p()(t,"maxPadding",0)+(r=0,e.forEach(t=>{if("bar-y"===t.type&&!p()(t,"dataLabels.inside")){let e=p()(t,"dataLabels.maxWidth",0);r=Math.max(r,e)}}),r),h=[0,n-c];switch(o){case"linear":case"logarithmic":{let t=(0,W.mL)(e);if(et(t)){let[e,n]=(0,i.Wem)(t);return("logarithmic"===o?i.p2C:i.BYU)().domain(["number"==typeof a?a:e,"number"==typeof l?Math.max(l,n):n]).range(h).nice()}break}case"category":if(s){let t=ee({axisDirection:"x",categories:s,series:e}),r=(0,i.tiA)().domain(t).range([0,n]);return r.step()/2<c&&r.range(h),r}break;case"datetime":if(u){let[t,e]=(0,i.Wem)(u);return(0,i.KYF)().domain([t,e]).range(h).nice()}{let t=(0,W.mL)(e);if(et(t)){let[e,n]=(0,i.Wem)(t);return(0,i.KYF)().domain([e,n]).range(h).nice()}}}throw Error("Failed to create xScale")}let ei=t=>{let{boundsWidth:e,boundsHeight:n,series:r,xAxis:i,yAxis:a,split:l}=t,o=(0,W.eo)(r);return{xScale:er(i,o=0===o.length?r:o,e),yScale:a.map((t,e)=>{let i=r.filter(t=>p()(t,"yAxis",0)===e),a=(0,W.eo)(i),o=Z({boundsHeight:n,split:l});return en(t,a.length?a:i,o)})}},ea=t=>{let{boundsWidth:e,boundsHeight:n,series:i,xAxis:a,yAxis:l,split:o}=t;return r.useMemo(()=>{let t,r;return i.some(W.Xq)&&({xScale:t,yScale:r}=ei({boundsWidth:e,boundsHeight:n,series:i,xAxis:a,yAxis:l,split:o})),{xScale:t,yScale:r}},[e,n,i,a,l,o])};var el=n(89734),eo=n.n(el);function es(t){switch(t.textAnchor){case"start":default:return t.x;case"middle":return t.x-t.size.width/2;case"end":return t.x-t.size.width}}function eu(t,e,n=0){return!!(function(t,e,n=0){let r=es(t),i=r+t.size.width,a=es(e);return Math.max(0,Math.min(i,a+e.size.width)-Math.max(r,a)+n)}(t,e,n)&&function(t,e,n=0){let r=t.y-t.size.height,i=t.y,a=e.y-e.size.height;return Math.max(0,Math.min(i,e.y)-Math.max(r,a)+n)}(t,e,n))}function ec(t){let e=[];return eo()(t,t=>t.y,es).forEach(t=>{e.some(e=>eu(t,e))||e.push(t)}),e}var eh=n(5813);let ed=t=>{let{htmlLayout:e,preparedData:n}=t,i=r.useMemo(()=>Array.isArray(n)?n.reduce((t,e)=>(t.push(...e.htmlElements),t),[]):n.htmlElements,[n]);return e?r.createElement(eh.h,{container:e},i.map((t,e)=>r.createElement("div",{key:e,dangerouslySetInnerHTML:{__html:t.content},style:{position:"absolute",left:t.x,top:t.y}}))):null},ef=(0,$.G)("d3-marker"),ep=ef("halo"),eg=ef("symbol");function em(t){let e=t.attr("class",ef("wrapper")).attr("visibility",ey).attr("transform",t=>`translate(${t.point.x},${t.point.y})`);return e.append("path").attr("class",ep).attr("d",t=>{let e=t.point.series;return ex(e.marker.states.normal.symbol,p()(t.point.data,"radius",e.marker.states.hover.radius)+e.marker.states.hover.halo.size)}).attr("fill",t=>t.point.series.color).attr("opacity",t=>t.point.series.marker.states.hover.halo.opacity).attr("z-index",-1).attr("visibility",ev),e.append("path").attr("class",eg).call(eb,"normal").attr("fill",t=>t.point.series.color),e}function ey(t){let e=t.point.series.marker.states;return(t.hovered?e.hover.enabled&&t.hovered:e.normal.enabled||p()(t.point.data,"marker.states.normal.enabled",!1))?"":"hidden"}function ev(t){return t.point.series.marker.states.hover.halo.enabled&&t.hovered?"":"hidden"}function eb(t,e){t.attr("d",t=>{let n=t.point.series;return ex(n.marker.states.normal.symbol,p()(t.point.data,"radius",n.marker.states[e].radius)+n.marker.states[e].borderWidth)}).attr("stroke-width",t=>t.point.series.marker.states[e].borderWidth).attr("stroke",t=>t.point.series.marker.states[e].borderColor)}function ex(t=y.Ko.Circle,e){let n=tc(t);return(0,i.NAG)(n,Math.pow(e,2)*Math.PI)()}function e_(t){return t.select(`.${ep}`)}function ew(t){return t.select(`.${eg}`)}function eM(t){let{point:e,xAxis:n,xScale:r}=t;if("category"===n.type){let t=p()(n,"categories",[]);return(r((0,W.s0)({axisDirection:"x",categories:t,data:e}))||0)+r.step()/2}return r(e.x)}function ek(t){let{point:e,yAxis:n,yScale:r}=t;if("category"===n.type){let t=p()(n,"categories",[]);return(r((0,W.s0)({axisDirection:"y",categories:t,data:e}))||0)+r.step()/2}return r(e.y)}function eA(t){return t.id||-1}function eE(t){let{element:e,datum:n,state:r,active:a}=t,l=(0,i.Ys)(e);if(n.active!==a){n.active=a;let t=n.active?null:null==r?void 0:r.opacity;l.attr("opacity",t||null)}return n}function eS(t){let{x:e,y:n,width:r,height:a,borderRadius:l=0}=t,o="number"==typeof l?[,,,,].fill(l):l,[s=0,u=0,c=0,h=0]=null!=o?o:[],d=(0,i.ETc)(),f=-Math.PI/2,p=Math.PI/2;return d.moveTo(e+s,n),d.lineTo(e+r-u,n),d.arc(e+r-u,n+u,u,f,f+p),f+=p,d.lineTo(e+r,n+a-c),d.arc(e+r-c,n+a-c,c,f,f+p),f+=p,d.lineTo(e+h,n+a),d.arc(e+h,n+a-h,h,f,f+p),f+=p,d.lineTo(e,n+s),d.arc(e+s,n+s,s,f,f+p),d.closePath(),d}let eC=(0,$.G)("d3-area"),eT=t=>{let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null);return r.useEffect(()=>{var t;if(!s.current)return()=>{};let r=(0,i.Ys)(s.current),l=p()(a,"area.states.hover"),u=p()(a,"area.states.inactive"),c=(0,i.jvg)().x(t=>t.x).y(t=>t.y);r.selectAll("*").remove();let h=r.selectAll("shape").data(n).join("g").attr("class",eC("series")).attr("cursor",t=>t.series.cursor);h.append("path").attr("class",eC("line")).attr("d",t=>c(t.points)).attr("fill","none").attr("stroke",t=>t.color).attr("stroke-width",t=>t.width).attr("stroke-linejoin","round").attr("stroke-linecap","round");let d=(0,i.SOn)().x(t=>t.x).y0(t=>t.y0).y1(t=>t.y);h.append("path").attr("class",eC("region")).attr("d",t=>d(t.points)).attr("fill",t=>t.color).attr("opacity",t=>t.opacity);let f=n.reduce((t,e)=>t.concat(e.labels),[]);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(f=ec(f));let g=r.selectAll("text").data(f).join("text").text(t=>t.text).attr("class",eC("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null),m=n.reduce((t,e)=>t.concat(e.markers),[]),y=r.selectAll("marker").data(m).join("g").call(em),v=null==l?void 0:l.enabled,b=null==u?void 0:u.enabled;function x(t){o.current=t;let e=(null==t?void 0:t.filter(t=>"area"===t.series.type))||[],n=e.map(t=>t.data),r=e.map(t=>{var e;return null===(e=t.series)||void 0===e?void 0:e.id});h.datum((t,e,n)=>{var a;let o=(0,i.Ys)(n[e]),s=!!(v&&r.includes(t.id));if(t.hovered!==s){t.hovered=s;let e=t.color||"";t.hovered&&(e=(null===(a=(0,i.$_Y)(e))||void 0===a?void 0:a.brighter(null==l?void 0:l.brightness).toString())||e),o.selectAll(`.${eC("line")}`).attr("stroke",e),o.selectAll(`.${eC("region")}`).attr("fill",e)}return eE({element:n[e],state:u,active:!!(!b||!r.length||r.includes(t.id)),datum:t})}),g.datum((t,e,n)=>eE({element:n[e],state:u,active:!!(!b||!r.length||r.includes(t.series.id)),datum:t})),y.datum((t,e,a)=>{let l=(0,i.Ys)(a[e]),o=!!(v&&n.includes(t.point.data));if(t.hovered!==o&&(t.hovered=o,l.attr("visibility",ey(t)),e_(l).attr("visibility",ev),ew(l).call(eb,o?"hover":"normal")),t.point.series.marker.states.normal.enabled){let n=!!(!b||!r.length||r.includes(t.point.series.id));eE({element:a[e],state:u,active:n,datum:t})}return t})}return null!==o.current&&x(o.current),e.on("hover-shape.area",x),()=>{e.on("hover-shape.area",null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:eC()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))},eL=t=>{let{series:e,xAxis:n,xScale:r,yAxis:a,yScale:l,boundsHeight:o}=t,[s,u]=r.range(),c=u/(1-n.maxPadding);return Array.from((0,i.ruo)(e,t=>t.stackId)).reduce((t,[s,u])=>{let h=function(t,e,n){let r=e.categories||[],a=t.reduce((t,i)=>(i.data.forEach(i=>{let a=String("category"===e.type?(0,W.s0)({axisDirection:"x",categories:r,data:i}):i.x);t.has(a)||t.set(a,eM({point:i,xAxis:e,xScale:n}))}),t),new Map);return"category"===e.type?r.reduce((t,e)=>{let n=a.get(e);return"number"==typeof n&&t.push([e,n]),t},[]):(0,i.DYV)(Array.from(a),([t,e])=>e)}(u,n,r),d=new Map;h.forEach(([t])=>{d.set(t,0)});let f=u.reduce((t,e)=>{let r=e.yAxis,i=a[r],o=l[r],s=ek({point:{y:0},yAxis:i,yScale:o}),u=e.data.reduce((t,e)=>{let r=String("category"===n.type?(0,W.s0)({axisDirection:"x",categories:n.categories||[],data:e}):e.x);return t.set(r,e)},new Map),f=h.reduce((t,[n,r])=>{let a=d.get(n)||0,l=u.get(n)||{x:n,y:0},c=ek({point:l,yAxis:i,yScale:o})-a;return d.set(n,s-c),t.push({y0:s-a,x:r,y:c,data:l,series:e}),t},[]),p=[],g=[];if(e.dataLabels.enabled){let t=f.map(t=>(function(t,e,n){let r=String(t.data.label||t.data.y),i=e.dataLabels.style,a=(0,U.qV)({labels:[r],style:i,html:e.dataLabels.html}),l={text:r,x:t.x,y:t.y-e.dataLabels.padding,style:i,size:{width:a.maxWidth,height:a.maxHeight},textAnchor:"middle",series:e,active:!0},o=es(l);if(o<0)l.x=l.x+Math.abs(o);else{let t=o+l.size.width;t>n&&(l.x=l.x-(t-n))}return l})(t,e,c));if(e.dataLabels.html){let n=t.map(t=>{var n;let r=null!==(n=t.style)&&void 0!==n?n:e.dataLabels.style,i=(0,U.qV)({labels:[t.text],style:r,html:!0});return{x:t.x-t.size.width/2,y:t.y,content:t.text,size:{width:i.maxWidth,height:i.maxHeight}}});g.push(...n)}else p=t}let m=[];return(e.marker.states.normal.enabled||e.marker.states.hover.enabled)&&(m=f.map(t=>({point:t,active:!0,hovered:!1}))),t.push({points:f,markers:m,labels:p,color:e.color,opacity:e.opacity,width:e.lineWidth,series:e,hovered:!1,active:!0,id:e.id,htmlElements:g}),t},[]);return e.some(t=>"percent"===t.stacking)&&h.forEach(([t],e)=>{let n=d.get(t)||0,r=0,i=o/n;f.forEach(t=>{let n=t.points[e];if(n){let t=(n.y0-n.y)*i;n.y0=o-t-r,n.y=n.y0+t,r+=t}})}),t.concat(f)},[])};function eN(t){if(!t.series.dataLabels.enabled)return;let e=String(t.data.label||t.data.y),n=t.series.dataLabels.style,r=t.series.dataLabels.html,{maxHeight:i,maxWidth:a}=(0,U.qV)({labels:[e],style:n,html:r}),l=Math.max(i,t.y-t.series.dataLabels.padding);t.series.dataLabels.inside&&(l=t.y+t.height/2);let o=t.x+t.width/2;return{text:e,x:r?o-a/2:o,y:r?l-i:l,style:n,size:{width:a,height:i},textAnchor:"middle",series:t.series}}let eD=t=>{let{series:e,seriesOptions:n,xAxis:r,xScale:a,yScale:l,boundsHeight:o}=t,s=p()(r,"categories",[]),u=p()(n,"bar-x.barMaxWidth"),c=p()(n,"bar-x.barPadding"),h=p()(n,"bar-x.groupPadding"),d=p()(n,"bar-x.dataSorting"),f=(null==d?void 0:d.direction)==="desc"?i.$1i:i.j2p,g=(()=>{switch(null==d?void 0:d.key){case"y":return"data.y";case"name":return"series.name";default:return}})(),m={};e.forEach(t=>{t.data.forEach(e=>{let n="category"===r.type?(0,W.s0)({axisDirection:"x",categories:s,data:e}):e.x;if(n){m[n]||(m[n]={});let r=m[n];r[t.stackId]||(r[t.stackId]=[]),r[t.stackId].push({data:e,series:t})}})});let y=1/0;if("category"===r.type)y=a.bandwidth();else{let t=e.reduce((t,e)=>(e.data.forEach(e=>t.push(Number(e.x))),t),[]);t.sort().forEach((e,n)=>{if(n>0&&e!==t[n-1]){let r=a(e)-a(t[n-1]);r<y&&(y=r)}})}let v=(0,i.Fp7)(Object.values(m),t=>Object.values(t).length)||1,b=Math.max(y*h,1),x=y-b,_=Math.max(y*c,1),w=Math.max(1,Math.min(x/v-_,u)),M=[];return Object.entries(m).forEach(([t,n])=>{let s=Object.values(n),u=w*s.length+_*(s.length-1);s.forEach((n,s)=>{let c=0,h=[],d=g?(0,i.DYV)(n,(t,e)=>f(p()(t,g),p()(e,g))):n;if(d.forEach((e,n)=>{let i=l[e.series.yAxis],o=("category"===r.type?(a(t)||0)+a.bandwidth()/2:a(Number(t)))-u/2+(w+_)*s,f=e.data.y,g=i(f),m=i(0),y=f>0?m-g:g-m,v={x:o,y:f>0?g-c:i(0),width:w,height:y,opacity:p()(e.data,"opacity",null),data:e.data,series:e.series,htmlElements:[],isLastStackItem:n===d.length-1},b=eN(v);e.series.dataLabels.html&&b?v.htmlElements.push({x:b.x,y:b.y,content:b.text,size:b.size}):v.label=eN(v),h.push(v),c+=y+1}),e.some(t=>"percent"===t.stacking)){let t=0,e=o/(c-h.length);h.forEach(n=>{n.height=n.height*e,n.y=o-n.height-t,t+=n.height+1})}M.push(...h)})}),M},e$=(0,$.G)("bar-x"),eR=t=>{let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null);return r.useEffect(()=>{var t;if(!s.current)return()=>{};let r=(0,i.Ys)(s.current),l=p()(a,"bar-x.states.hover"),u=p()(a,"bar-x.states.inactive");r.selectAll("*").remove();let c=r.selectAll("allRects").data(n).join("path").attr("d",t=>{let e=t.isLastStackItem?Math.min(t.height,t.width/2,t.series.borderRadius):0;return eS({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:[e,e,0,0]}).toString()}).attr("class",e$("segment")).attr("x",t=>t.x).attr("y",t=>t.y).attr("height",t=>t.height).attr("width",t=>t.width).attr("fill",t=>t.data.color||t.series.color).attr("opacity",t=>t.opacity).attr("cursor",t=>t.series.cursor),h=n.map(t=>t.label).filter(Boolean);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(h=ec(h));let d=r.selectAll("text").data(h).join("text").text(t=>t.text).attr("class",e$("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null);function f(t){o.current=t;let e=null==l?void 0:l.enabled,n=null==u?void 0:u.enabled;if(!t){e&&c.attr("fill",t=>t.data.color||t.series.color),n&&(c.attr("opacity",null),d.attr("opacity",null));return}if(e){let e=t.map(t=>t.data.x);c.attr("fill",t=>{var n;let r=t.data.color||t.series.color;return e.includes(t.data.x)&&(null===(n=(0,i.$_Y)(r))||void 0===n?void 0:n.brighter(null==l?void 0:l.brightness).toString())||r})}if(n){let e=t.map(t=>t.series.id);c.attr("opacity",t=>e.includes(t.series.id)?null:(null==u?void 0:u.opacity)||null),d.attr("opacity",t=>e.includes(t.series.id)?null:(null==u?void 0:u.opacity)||null)}}return null!==o.current&&f(o.current),e.on("hover-shape.bar-x",f),()=>{e.on("hover-shape.bar-x",null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:e$()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))},eO=t=>{let{series:e,seriesOptions:n,yAxis:r,xScale:a,yScale:[l]}=t,o=a(a.domain()[1]),s=p()(n,"bar-y.barMaxWidth"),u=p()(n,"bar-y.barPadding"),c=p()(n,"bar-y.groupPadding"),h=p()(n,"bar-y.dataSorting"),d=(null==h?void 0:h.direction)==="desc"?i.$1i:i.j2p,f=(()=>{switch(null==h?void 0:h.key){case"x":return"data.x";case"name":return"series.name";default:return}})(),g=function(t,e){let n={};return t.forEach(t=>{t.data.forEach(r=>{let i=e[p()(t,"yAxis",0)],a=p()(i,"categories",[]),l="category"===i.type?(0,W.s0)({axisDirection:"y",categories:a,data:r}):r.y;l&&(n[l]||(n[l]={}),n[l][t.stackId]||(n[l][t.stackId]=[]),n[l][t.stackId].push({data:r,series:t}))})}),n}(e,r),m=function(t,e,n){let r=1/0;if("category"===e[0].type)r=n.bandwidth();else{let e=t.reduce((t,e)=>(e.data.forEach(e=>t.push(Number(e.y))),t),[]);e.sort().forEach((t,i)=>{if(i>0&&t!==e[i-1]){let a=n(t)-n(e[i-1]);a<r&&(r=a)}})}return r}(e,r,l),y=(0,i.Fp7)(Object.values(g),t=>Object.values(t).length)||1,v=Math.max(m*u,1),b=Math.max(1,Math.min((m-Math.max(m*c,1))/y-v,s)),x=[];return Object.entries(g).forEach(([t,n])=>{let s=Object.values(n),u=b*s.length+v*(s.length-1);s.forEach((n,s)=>{let c=a(0),h=c,g=[],y=f?(0,i.DYV)(n,(t,e)=>d(p()(t,f),p()(e,f))):n;if(y.forEach(({data:e,series:n},i)=>{let o=("category"===r[0].type?(l(t)||0)+m/2:l(Number(t)))-u/2+(b+v)*s,d=Number(e.x),f=d>0?a(d)-c:c-a(d),x={x:d>0?h:h-f,y:o,width:f,height:b,color:e.color||n.color,opacity:p()(e,"opacity",null),data:e,series:n,htmlElements:[],isLastStackItem:i===y.length-1};g.push(x),h+=f+1}),e.some(t=>"percent"===t.stacking)){let t=0,e=o/(h-g.length);g.forEach(n=>{n.width=n.width*e,n.x=t,t+=n.width})}x.push(...g)})}),x.forEach(t=>{!function(t){let e=t.series.dataLabels;if(!e.enabled)return;let n=t.data,r=String(n.label||n.x),{maxHeight:i,maxWidth:a}=(0,U.qV)({labels:[r],style:e.style,html:e.html}),l=e.inside?t.x+t.width/2:t.x+t.width+7,o=t.y+t.height/2;e.html?t.htmlElements.push({x:l,y:o-i/2,content:r,size:{width:a,height:i}}):t.label={x:l,y:o+i/2,text:r,textAnchor:e.inside?"middle":"right",style:e.style,series:t.series,size:{width:a,height:i}}}(t)}),x},eI=(0,$.G)("bar-y"),ez=t=>{let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null);return r.useEffect(()=>{if(!s.current)return()=>{};let t=(0,i.Ys)(s.current);t.selectAll("*").remove();let r=t.selectAll("rect").data(n).join("path").attr("d",t=>{let e=t.isLastStackItem?Math.min(t.height,t.width/2,t.series.borderRadius):0;return eS({x:t.x,y:t.y,width:t.width,height:t.height,borderRadius:[0,e,e,0]}).toString()}).attr("class",eI("segment")).attr("x",t=>t.x).attr("y",t=>t.y).attr("height",t=>t.height).attr("width",t=>t.width).attr("fill",t=>t.color).attr("opacity",t=>t.data.opacity||null).attr("cursor",t=>t.series.cursor),l=n.reduce((t,e)=>(e.label&&t.push(e.label),t),[]),u=t.selectAll("text").data(l).join("text").text(t=>t.text).attr("class",eI("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null),c=p()(a,"bar-y.states.hover"),h=p()(a,"bar-y.states.inactive");function d(t){if(o.current=t,null==c?void 0:c.enabled){let e=null==t?void 0:t.reduce((t,e)=>(t.add(e.data.y),t),new Set);r.attr("fill",t=>{var n;let r=t.color;return(null==e?void 0:e.has(t.data.y))&&(null===(n=(0,i.$_Y)(r))||void 0===n?void 0:n.brighter(c.brightness).toString())||r})}if(null==h?void 0:h.enabled){let e=null==t?void 0:t.map(t=>t.series.id),n=t=>(null==e?void 0:e.length)&&!e.includes(t.series.id)&&h.opacity||null;r.attr("opacity",n),u.attr("opacity",n)}}return null!==o.current&&d(o.current),e.on("hover-shape.bar-y",d),()=>{e.on("hover-shape.bar-y",null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:eI()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))},eH=(0,$.G)("d3-line"),eY=t=>{let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null);return r.useEffect(()=>{var t;if(!s.current)return()=>{};let r=(0,i.Ys)(s.current),l=p()(a,"line.states.hover"),u=p()(a,"line.states.inactive"),c=(0,i.jvg)().x(t=>t.x).y(t=>t.y);r.selectAll("*").remove();let h=r.selectAll("path").data(n).join("path").attr("d",t=>c(t.points)).attr("fill","none").attr("stroke",t=>t.color).attr("stroke-width",t=>t.width).attr("stroke-linejoin",t=>t.linecap).attr("stroke-linecap",t=>t.linecap).attr("stroke-dasharray",t=>G(t.dashStyle,t.width)).attr("opacity",t=>t.opacity).attr("cursor",t=>t.series.cursor),d=n.reduce((t,e)=>t.concat(e.labels),[]);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(d=ec(d));let f=r.selectAll("text").data(d).join("text").text(t=>t.text).attr("class",eH("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null),g=n.reduce((t,e)=>t.concat(e.markers),[]),m=r.selectAll("marker").data(g).join("g").call(em),y=null==l?void 0:l.enabled,v=null==u?void 0:u.enabled;function b(t){o.current=t;let e=(null==t?void 0:t.filter(t=>"line"===t.series.type))||[],n=e.map(t=>t.data),r=e.map(t=>{var e;return null===(e=t.series)||void 0===e?void 0:e.id});h.datum((t,e,n)=>{let a=(0,i.Ys)(n[e]),o=!!(y&&r.includes(t.id));return t.hovered!==o&&(t.hovered=o,a.attr("stroke",t=>{var e;let n=t.color||"";return t.hovered&&(null===(e=(0,i.$_Y)(n))||void 0===e?void 0:e.brighter(null==l?void 0:l.brightness).toString())||n})),eE({element:n[e],state:u,active:!!(!v||!r.length||r.includes(t.id)),datum:t})}),f.datum((t,e,n)=>eE({element:n[e],state:u,active:!!(!v||!r.length||r.includes(t.series.id)),datum:t})),m.datum((t,e,a)=>{let l=(0,i.Ys)(a[e]),o=!!(y&&n.includes(t.point.data));if(t.hovered!==o&&(t.hovered=o,l.attr("visibility",ey(t)),e_(l).attr("visibility",ev),ew(l).call(eb,o?"hover":"normal")),t.point.series.marker.states.normal.enabled){let n=!!(!v||!r.length||r.includes(t.point.series.id));eE({element:a[e],state:u,active:n,datum:t})}return t})}return null!==o.current&&b(o.current),e.on("hover-shape.line",b),()=>{e.on("hover-shape.line",null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:eH()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))},ej=t=>{let{series:e,xAxis:n,yAxis:r,xScale:i,yScale:a,split:l}=t,[o,s]=i.range(),u=s/(1-n.maxPadding);return e.reduce((t,e)=>{var o;let s=r[e.yAxis],c=(null===(o=l.plots[s.plotIndex])||void 0===o?void 0:o.top)||0,h=a[e.yAxis],d=e.data.map(t=>({x:eM({point:t,xAxis:n,xScale:i}),y:c+ek({point:t,yAxis:s,yScale:h}),active:!0,data:t,series:e})),f=[],p=[];e.dataLabels.enabled&&(e.dataLabels.html?f.push(...d.map(t=>(function(t,e,n){let r=String(t.data.label||t.data.y),i=(0,U.qV)({labels:[r],html:!0});return{x:Math.min(n-i.maxWidth,Math.max(0,t.x)),y:Math.max(0,t.y-e.dataLabels.padding-i.maxHeight),content:r,size:{width:i.maxWidth,height:i.maxHeight}}})(t,e,u))):p=d.map(t=>(function(t,e,n){let r=String(t.data.label||t.data.y),i=e.dataLabels.style,a=(0,U.qV)({labels:[r],style:i}),l={text:r,x:t.x,y:t.y-e.dataLabels.padding,style:i,size:{width:a.maxWidth,height:a.maxHeight},textAnchor:"middle",series:e,active:!0},o=es(l);if(o<0)l.x=l.x+Math.abs(o);else{let t=o+l.size.width;t>n&&(l.x=l.x-n-t)}return l})(t,e,u)));let g=[];(e.marker.states.normal.enabled||e.marker.states.hover.enabled)&&(g=d.map(t=>({point:t,active:!0,hovered:!1})));let m={points:d,markers:g,labels:p,color:e.color,width:e.lineWidth,series:e,hovered:!1,active:!0,id:e.id,dashStyle:e.dashStyle,linecap:e.linecap,opacity:e.opacity,htmlElements:f};return t.push(m),t},[])},eP=(0,$.G)("d3-pie");function eF(t){return t.data.pie.halo.enabled&&t.data.hovered?"":"hidden"}function eW(t){let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null);r.useEffect(()=>{if(!o.current)return()=>{};let t=(0,i.Ys)(o.current);t.selectAll("*").remove();let r=`.${eP("segment")}`,l=`.${eP("connector")}`,s=t.selectAll("pie").data(n).join("g").attr("id",t=>t.id).attr("class",eP("item")).attr("transform",t=>{let[e,n]=t.center;return`translate(${e}, ${n})`}).style("stroke-width",t=>t.borderWidth).attr("cursor",t=>t.series.cursor);s.selectAll("halo").data(t=>t.halo.enabled?t.segments:[]).join("path").attr("d",t=>(0,i.Nb1)().innerRadius(t.data.pie.innerRadius).outerRadius(t.data.radius+t.data.pie.halo.size).cornerRadius(t.data.pie.borderRadius)(t)).attr("class",eP("halo")).attr("fill",t=>t.data.color).attr("opacity",t=>t.data.pie.halo.opacity).attr("z-index",-1).attr("visibility",eF),s.selectAll(r).data(t=>t.segments).join("path").attr("d",t=>(0,i.Nb1)().innerRadius(t.data.pie.innerRadius).outerRadius(t.data.radius).cornerRadius(t.data.pie.borderRadius)(t)).attr("class",eP("segment")).style("stroke",t=>t.data.series.borderColor).attr("fill",t=>t.data.color).attr("opacity",t=>t.data.opacity),s.selectAll("text").data(t=>t.labels).join("text").text(t=>t.text).attr("class",eP("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null).call(U.LV,t=>t.size.width>t.maxWidth?t.maxWidth:1/0),s.selectAll(l).data(t=>t.connectors).enter().append("path").attr("class",eP("connector")).attr("d",t=>t.path).attr("stroke",t=>t.color).attr("stroke-width",1).attr("stroke-linejoin","round").attr("stroke-linecap","round").style("fill","none"),s.each(function(t,e,n){var r,i;let a=null===(i=(r=t.series).renderCustomShape)||void 0===i?void 0:i.call(r,{series:{innerRadius:t.innerRadius}});a&&n[e].append(a)});let u="hover-shape.pie",c=p()(a,"pie.states.hover"),h=p()(a,"pie.states.inactive");return e.on(u,t=>{var e,n;let a=null===(n=null===(e=null==t?void 0:t[0])||void 0===e?void 0:e.series)||void 0===n?void 0:n.id,o=null==c?void 0:c.enabled,u=null==h?void 0:h.enabled;s.datum((t,e,n)=>{let s=(0,i.Ys)(n[e]),d=s.selectAll(`.${eP("halo")}`);s.selectAll(r).datum((t,e,n)=>{let r=!!(o&&t.data.series.id===a);if(t.data.hovered!==r){t.data.hovered=r,(0,i.Ys)(n[e]).attr("fill",()=>{var e;let n=t.data.color;return t.data.hovered&&(null===(e=(0,i.$_Y)(n))||void 0===e?void 0:e.brighter(null==c?void 0:c.brightness).toString())||n});let a=d.nodes()[e];(0,i.Ys)(a).attr("visibility",eF)}return eE({element:n[e],state:h,active:!!(!u||!a||a===t.data.series.id),datum:t.data}),t});let f=s.selectAll("tspan"),p=s.selectAll(l);f.merge(p).datum((t,e,n)=>eE({element:n[e],state:h,active:!!(!u||!a||a===t.series.id),datum:t}))})}),()=>{e.on(u,null)}},[e,n,a]);let s=n.map(t=>t.htmlLabels).flat();return r.createElement(r.Fragment,null,r.createElement("g",{ref:o,className:eP(),style:{zIndex:9}}),r.createElement(ed,{preparedData:{htmlElements:s},htmlLayout:l}))}let eU=(0,i.ve8)().value(t=>t.value).sort(null),eV=2*Math.PI,eq=(t,e,n)=>{var r,i;let a=.5*t,l=.5*e;if(!n)return[a,l];let[o,s]=n;return[null!==(r=j({value:o,base:t}))&&void 0!==r?r:a,null!==(i=j({value:s,base:e}))&&void 0!==i?i:l]},eB=(0,$.G)("sankey"),eK=t=>{let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null);return r.useEffect(()=>{if(!s.current)return()=>{};let t=(0,i.Ys)(s.current);t.selectAll("*").remove(),t.append("g").selectAll().data(n.nodes).join("rect").attr("x",t=>t.x0).attr("y",t=>t.y0).attr("height",t=>t.y1-t.y0).attr("width",t=>t.x1-t.x0).attr("fill",t=>t.color),t.append("g").attr("fill","none").selectAll().data(n.links).join("g").append("path").attr("stroke-opacity",t=>t.opacity).attr("d",t=>t.path).attr("stroke",t=>t.color).attr("stroke-width",t=>t.strokeWidth),t.append("g").selectAll().data(n.labels).join("text").text(t=>t.text).attr("class",eB("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("dy","0.35em").attr("text-anchor",t=>t.textAnchor).attr("fill",t=>{var e;return null!==(e=t.style.fontColor)&&void 0!==e?e:null});let r="hover-shape.sankey";function a(t){o.current=t}return null!==o.current&&a(o.current),e.on(r,a),()=>{e.on(r,null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:eB()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))};function eZ(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function eX(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function eG(t,e){return t.sourceLinks.length?t.depth:e-1}function eJ(t){return function(){return t}}function eQ(t,e){return e1(t.source,e.source)||t.index-e.index}function e0(t,e){return e1(t.target,e.target)||t.index-e.index}function e1(t,e){return t.y0-e.y0}function e2(t){return t.value}function e3(t){return t.index}function e6(t){return t.nodes}function e4(t){return t.links}function e5(t,e){let n=t.get(e);if(!n)throw Error("missing: "+e);return n}function e8({nodes:t}){for(let e of t){let t=e.y0,n=t;for(let n of e.sourceLinks)n.y0=t+n.width/2,t+=n.width;for(let t of e.targetLinks)t.y1=n+t.width/2,n+=t.width}}var e7=Math.PI,e9=2*e7,nt=e9-1e-6;function ne(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function nn(){return new ne}ne.prototype=nn.prototype={constructor:ne,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,l=this._y1,o=n-t,s=r-e,u=a-t,c=l-e,h=u*u+c*c;if(i<0)throw Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6){if(Math.abs(c*o-s*u)>1e-6&&i){var d=n-a,f=r-l,p=o*o+s*s,g=Math.sqrt(p),m=Math.sqrt(h),y=i*Math.tan((e7-Math.acos((p+h-(d*d+f*f))/(2*g*m)))/2),v=y/m,b=y/g;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*u)+","+(e+v*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*f)+","+(this._x1=t+b*o)+","+(this._y1=e+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n,a=!!a;var l=n*Math.cos(r),o=n*Math.sin(r),s=t+l,u=e+o,c=1^a,h=a?r-i:i-r;if(n<0)throw Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+u:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+s+","+u),n&&(h<0&&(h=h%e9+e9),h>nt?this._+="A"+n+","+n+",0,1,"+c+","+(t-l)+","+(e-o)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=e7)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var nr=Array.prototype.slice;function ni(t){return function(){return t}}function na(t){return t[0]}function nl(t){return t[1]}function no(t){return t.source}function ns(t){return t.target}function nu(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function nc(t){return[t.source.x1,t.y0]}function nh(t){return[t.target.x0,t.y1]}let nd=t=>t.filter(t=>"number"==typeof t.x&&"number"==typeof t.y),nf=t=>{let{series:e,xAxis:n,xScale:r,yAxis:i,yScale:a}=t;return e.reduce((t,e)=>{let l=p()(e,"yAxis",0),o=i[l],s=a[l];return("category"===n.type||"category"===o.type?e.data:nd(e.data)).forEach(i=>{t.push({point:{data:i,series:e,x:eM({point:i,xAxis:n,xScale:r}),y:ek({point:i,yAxis:o,yScale:s}),opacity:p()(i,"opacity",null)},hovered:!1,active:!0,htmlElements:[]})}),t},[])},np=(0,$.G)("d3-scatter");function ng(t){let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null);return r.useEffect(()=>{if(!s.current)return()=>{};let t=(0,i.Ys)(s.current),r=p()(a,"scatter.states.hover"),l=p()(a,"scatter.states.inactive");t.selectAll("*").remove();let u=t.selectAll("path").data(n,eA).join("g").call(em).attr("fill",t=>t.point.data.color||t.point.series.color||"").attr("opacity",t=>t.point.opacity).attr("cursor",t=>t.point.series.cursor),c=null==r?void 0:r.enabled,h=null==l?void 0:l.enabled;function d(t){var e;o.current=t;let n=null==t?void 0:t.find(t=>"scatter"===t.series.type),r=null==n?void 0:n.data,a=null===(e=null==n?void 0:n.series)||void 0===e?void 0:e.id;u.datum((t,e,n)=>{let o=(0,i.Ys)(n[e]),s=!!(c&&t.point.data===r);if(t.hovered!==s&&(t.hovered=s,o.attr("z-index",s?999:null),e_(o).attr("visibility",ev),ew(o).call(eb,s?"hover":"normal")),s&&o.raise(),t.point.series.marker.states.normal.enabled){let r=!!(!h||!a||a===t.point.series.id);eE({element:n[e],state:l,active:r,datum:t})}return t})}return null!==o.current&&d(o.current),e.on("hover-shape.scatter",d),()=>{e.on("hover-shape.scatter",null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:np()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))}let nm=(0,$.G)("d3-treemap"),ny=t=>{let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null);return r.useEffect(()=>{if(!s.current)return()=>{};let t=(0,i.Ys)(s.current);t.selectAll("*").remove();let{labelData:r,leaves:l,series:u}=n,c=t.selectAll("g").data(l).join("g").attr("transform",t=>`translate(${t.x0},${t.y0})`).attr("cursor",u.cursor).append("rect").attr("id",t=>t.id||t.name).attr("fill",t=>{var e;if(t.data.color)return t.data.color;let n=null===(e=u.levels)||void 0===e?void 0:e.find(e=>e.index===t.depth);return(null==n?void 0:n.color)||u.color}).attr("width",t=>t.x1-t.x0).attr("height",t=>t.y1-t.y0),h=t.selectAll("tspan").data(r).join("text").text(t=>t.text).attr("class",nm("label")).attr("x",t=>t.x).attr("y",t=>t.y).style("font-size",()=>u.dataLabels.style.fontSize).style("font-weight",()=>{var t;return(null===(t=u.dataLabels.style)||void 0===t?void 0:t.fontWeight)||null}).style("fill",()=>{var t;return(null===(t=u.dataLabels.style)||void 0===t?void 0:t.fontColor)||null}).call(U.LV,t=>t.width),d="hover-shape.treemap",f=p()(a,"treemap.states.hover"),g=p()(a,"treemap.states.inactive");function m(t){var e;o.current=t;let n=null==f?void 0:f.enabled,r=null==g?void 0:g.enabled,a=null===(e=null==t?void 0:t[0])||void 0===e?void 0:e.data;c.datum((t,e,l)=>{let o=(0,i.Ys)(l[e]),s=!!(n&&a===t.data),c=!!(r&&a&&!s);return o.attr("fill",e=>{var n,r;let a=null===(n=u.levels)||void 0===n?void 0:n.find(t=>t.index===e.depth),l=(null==a?void 0:a.color)||t.data.color||u.color;return s&&(null===(r=(0,i.$_Y)(l))||void 0===r?void 0:r.brighter(null==f?void 0:f.brightness).toString())||l}).attr("opacity",()=>c&&(null==g?void 0:g.opacity)||null),t}),h.datum((t,e,l)=>{let o=(0,i.Ys)(l[e]),s=!!(n&&a===t.nodeData),u=!!(r&&a&&!s);return o.attr("opacity",()=>u&&(null==g?void 0:g.opacity)||null),t})}return null!==o.current&&m(o.current),e.on(d,m),()=>{e.on(d,null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:nm()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))},nv=t=>{let{series:e,seriesOptions:n,xAxis:r,xScale:i,yAxis:[a],yScale:[l]}=t,o=l(l.domain()[0]),s=p()(n,"waterfall.barMaxWidth"),u=p()(n,"waterfall.barPadding"),c=e.reduce((t,e)=>(t.push(...e.data.map(t=>({data:t,series:e}))),t),[]),h=eo()(c,t=>t.data.x),d=function(t){let{series:e,xAxis:n,xScale:r}=t;if("category"===n.type)return r.bandwidth();let i=e.reduce((t,e)=>(e.data.forEach(e=>t.push(Number(e.x))),t),[]),a=1/0;return i.sort().forEach((t,e)=>{if(e>0&&t!==i[e-1]){let n=r(t)-r(i[e-1]);n<a&&(a=n)}}),a}({series:e,xAxis:r,xScale:i}),f=Math.max(1,Math.min(d-Math.max(d*u,1),s)),g=ek({point:{y:0},yScale:l,yAxis:a}),m=0,y=[];return h.forEach((t,e)=>{if("number"!=typeof t.data.y&&!t.data.total)return;t.data.total||(m+=Number(t.data.y));let n=y[y.length-1],s=eM({point:t.data,xAxis:r,xScale:i}),u=Number(t.data.total?m:t.data.y),c=g-ek({point:{y:Math.abs(u)},yScale:l,yAxis:a}),h={x:s-f/2,y:!n||t.data.total?ek({point:{y:u>0?u:0},yScale:l,yAxis:a}):0>Number(n.data.y)?Number(t.data.y)>0?n.y+n.height-c:n.y+n.height:0>Number(t.data.y)?n.y:n.y-c,width:f,height:c,opacity:p()(t.data,"opacity",null),data:t.data,series:t.series,subTotal:m,htmlElements:[]};h.label=function(t,e){let n;if(!t.series.dataLabels.enabled)return;let r=String(t.data.label||t.subTotal),i=t.series.dataLabels.style,{maxHeight:a,maxWidth:l}=(0,U.qV)({labels:[r],style:i});return n=Number(t.data.y)>0||t.data.total?Math.max(a,t.y-t.series.dataLabels.padding):Math.min(e-t.series.dataLabels.padding,t.y+t.height+t.series.dataLabels.padding+a),{text:r,x:t.x+t.width/2,y:n,style:i,size:{width:l,height:a},textAnchor:"middle",series:t.series}}(h,o),y.push(h)}),y};var nb=n(83558);let nx=(0,$.G)("d3-waterfall"),n_=t=>{let{dispatcher:e,preparedData:n,seriesOptions:a,htmlLayout:l}=t,o=r.useRef(null),s=r.useRef(null),u=`.${nx("connector")}`;return r.useEffect(()=>{var t;if(!s.current)return()=>{};let r=(0,i.Ys)(s.current),l=p()(a,"waterfall.states.hover"),c=p()(a,"waterfall.states.inactive");r.selectAll("*").remove();let h=r.selectAll("allRects").data(n).join("rect").attr("class",nx("segment")).attr("x",t=>t.x).attr("y",t=>t.y).attr("height",t=>t.height).attr("width",t=>t.width).attr("fill",t=>(0,nb.t)(t.data,t.series)).attr("opacity",t=>t.opacity).attr("cursor",t=>t.series.cursor),d=n.map(t=>t.label).filter(Boolean);(null===(t=n[0])||void 0===t?void 0:t.series.dataLabels.allowOverlap)||(d=ec(d));let f=r.selectAll("text").data(d).join("text").text(t=>t.text).attr("class",nx("label")).attr("x",t=>t.x).attr("y",t=>t.y).attr("text-anchor",t=>t.textAnchor).style("font-size",t=>t.style.fontSize).style("font-weight",t=>t.style.fontWeight||null).style("fill",t=>t.style.fontColor||null);function g(t){o.current=t;let e=null==l?void 0:l.enabled,n=null==c?void 0:c.enabled;if(!t){e&&h.attr("fill",t=>(0,nb.t)(t.data,t.series)),n&&(h.attr("opacity",null),f.attr("opacity",null));return}if(e){let e=t.map(t=>t.data.x);h.attr("fill",t=>{var n;let r=(0,nb.t)(t.data,t.series);if(e.includes(t.data.x)){let t=null==l?void 0:l.brightness;return(null===(n=(0,i.$_Y)(r))||void 0===n?void 0:n.brighter(t).toString())||r}return r})}if(n){let e=t.map(t=>t.series.id);h.attr("opacity",t=>e.includes(t.series.id)?null:(null==c?void 0:c.opacity)||null),f.attr("opacity",t=>e.includes(t.series.id)?null:(null==c?void 0:c.opacity)||null)}}return r.selectAll(u).data(n).join("path").attr("class",nx("connector")).attr("d",(t,e)=>{let r=(0,i.jvg)(),a=n[e-1];if(!a)return null;let l=[];return Number(a.data.y)>0?l.push([a.x,a.y]):l.push([a.x,a.y+a.height]),Number(t.data.y)>0&&!t.data.total?l.push([t.x+t.width,t.y+t.height]):l.push([t.x+t.width,t.y]),r(l)}).attr("stroke-width",1).attr("stroke-dasharray",()=>G(y.g6.Dash,1)),null!==o.current&&g(o.current),e.on("hover-shape.waterfall",g),()=>{e.on("hover-shape.waterfall",null)}},[e,n,a]),r.createElement(r.Fragment,null,r.createElement("g",{ref:s,className:nx()}),r.createElement(ed,{preparedData:n,htmlLayout:l}))};n(86832);let nw=t=>{let{boundsWidth:e,boundsHeight:n,dispatcher:a,series:l,seriesOptions:o,xAxis:s,xScale:u,yAxis:c,yScale:h,split:d,htmlLayout:f}=t,p=r.useMemo(()=>{let t=(0,W.eo)(l),p=(0,i.ruo)(t,t=>t.type),g=[];return{shapes:Array.from(p).reduce((t,l)=>{let[p,m]=l;switch(p){case"bar-x":if(u&&h){let e=eD({series:m,seriesOptions:o,xAxis:s,xScale:u,yAxis:c,yScale:h,boundsHeight:n});t.push(r.createElement(eR,{key:"bar-x",dispatcher:a,seriesOptions:o,preparedData:e,htmlLayout:f})),g.push(...e)}break;case"bar-y":if(u&&h){let e=eO({series:m,seriesOptions:o,xAxis:s,xScale:u,yAxis:c,yScale:h});t.push(r.createElement(ez,{key:"bar-y",dispatcher:a,seriesOptions:o,preparedData:e,htmlLayout:f})),g.push(...e)}break;case"waterfall":if(u&&h){let e=nv({series:m,seriesOptions:o,xAxis:s,xScale:u,yAxis:c,yScale:h});t.push(r.createElement(n_,{key:"waterfall",dispatcher:a,seriesOptions:o,preparedData:e,htmlLayout:f})),g.push(...e)}break;case"line":if(u&&h){let e=ej({series:m,xAxis:s,xScale:u,yAxis:c,yScale:h,split:d});t.push(r.createElement(eY,{key:"line",dispatcher:a,seriesOptions:o,preparedData:e,htmlLayout:f})),g.push(...e)}break;case"area":if(u&&h){let e=eL({series:m,xAxis:s,xScale:u,yAxis:c,yScale:h,boundsHeight:n});t.push(r.createElement(eT,{key:"area",dispatcher:a,seriesOptions:o,preparedData:e,htmlLayout:f})),g.push(...e)}break;case"scatter":if(u&&h){let e=nf({series:m,xAxis:s,xScale:u,yAxis:c,yScale:h});t.push(r.createElement(ng,{key:"scatter",dispatcher:a,preparedData:e,seriesOptions:o,htmlLayout:f})),g.push(...e)}break;case"pie":{let l=function(t){let{series:e,boundsWidth:n,boundsHeight:r}=t,a=Math.min(n,r)/2,l=(0,i.ruo)(e,t=>t.stackId),o=(t,e)=>{var i;let l=e[0],{center:o,borderWidth:s,borderColor:u,borderRadius:c,innerRadius:h,dataLabels:d}=l,f={id:t,center:eq(n,r,o),innerRadius:0,segments:[],labels:[],htmlLabels:[],connectors:[],borderColor:u,borderWidth:s,borderRadius:c,series:e[0],connectorCurve:d.connectorCurve,halo:{enabled:l.states.hover.halo.enabled,opacity:l.states.hover.halo.opacity,size:l.states.hover.halo.size}},{maxHeight:p}=(0,U.qV)({labels:["Some Label"],style:d.style}),g=0,m=e.map(t=>{var e;let n=a;d.enabled&&(n-=d.distance+d.connectorPadding+p);let r=null!==(e=j({value:t.radius,base:n}))&&void 0!==e?e:n;return g=Math.max(g,r),{value:t.value,color:t.color,opacity:t.opacity,series:t,hovered:!1,active:!0,pie:f,radius:r}});return f.segments=eU(m),f.innerRadius=null!==(i=j({value:h,base:g}))&&void 0!==i?i:0,f},s=t=>{let{data:e,series:r}=t,{dataLabels:a}=r[0],l=[],o=[],s=[];if(!a.enabled)return{labels:l,htmlLabels:o,connectors:s};let u=(0,i.jvg)(),c=function(t){switch(t.connectorCurve){case"basic":return i.$0Z;case"linear":return i.c_6}}(e);c&&(u=u.curve(c));let{style:h,connectorPadding:d,distance:f}=a,{maxHeight:p}=(0,U.qV)({labels:["Some Label"],style:h}),g=(0,i.Nb1)().innerRadius(t=>t.data.radius).outerRadius(t=>t.data.radius),m=(0,i.Nb1)().innerRadius(t=>t.data.radius+f/2).outerRadius(t=>t.data.radius+f/2),y=(0,i.Nb1)().innerRadius(t=>t.data.radius+f).outerRadius(t=>t.data.radius+f),v=(0,i.Nb1)().innerRadius(t=>t.data.radius+f+d).outerRadius(t=>t.data.radius+f+d);return r.forEach((t,r)=>{let i=l[l.length-1],c=String(t.data.label||t.data.value),d=a.html,f=(0,U.qV)({labels:[c],style:h,html:d}),b=f.maxWidth,x=e.segments[r],_=t=>{let[e,r]=v.centroid(Object.assign(Object.assign({},x),{startAngle:t,endAngle:t}));return d?(e=e<0?e-b:e,r-=f.maxHeight):r=r<0?r-p:r,[e=Math.max(-n/2,e),r]},w=Math.max((null==i?void 0:i.angle)||0,x.startAngle+(x.endAngle-x.startAngle)/2),[M,k]=_(w),A={text:c,x:M,y:k,style:h,size:{width:b,height:p},maxWidth:b,textAnchor:w<Math.PI?"start":"end",series:{id:t.id},active:!0,segment:x.data,angle:w},E=!1;if(i&&(E=eu(i,A,a.padding))){let t=!0,e=Math.PI/180;for(;t;){let n=A.angle+e;if(n>eV&&n%eV>l[0].angle)t=!1;else{A.angle=n;let[e,r]=_(n);A.x=e,A.y=r,eu(i,A,a.padding)||(t=!1,E=!1)}}}if(a.allowOverlap||!E){let t=es(A);if(Math.abs(t)>n/2)A.maxWidth=A.size.width-(Math.abs(t)-n/2);else{let e=t+A.size.width;e>n/2&&(A.maxWidth=A.size.width-(e-n/2))}d?o.push({x:e.center[0]+A.x,y:Math.max(0,e.center[1]+A.y),content:A.text,size:A.size}):l.push(A);let r={path:u((t=>{let e=g.centroid(x),n=y.centroid(Object.assign(Object.assign({},x),{startAngle:t,endAngle:t}));return"straight-line"===a.connectorShape?[e,n]:[e,m.centroid(x),n]})(w)),color:x.data.color};s.push(r)}}),{labels:l,htmlLabels:o,connectors:s}};return Array.from(l).map(([t,e])=>{let n=o(t,e),i=s({data:n,series:e}),a=Math.max(...n.segments.map(t=>t.data.radius)),l=Math.min(n.center[1]-a,...i.labels.map(t=>t.y+n.center[1]),...i.htmlLabels.map(t=>t.y)),u=Math.max(n.center[1]+a,...i.labels.map(t=>t.y+n.center[1]+t.size.height),...i.htmlLabels.map(t=>t.y+t.size.height)),c=Math.floor(l-n.halo.size);c>0&&(n.segments.forEach(t=>{t.data.radius+=c/2}),n.center[1]-=c/2);let h=Math.floor(r-u-n.halo.size);h>0&&(n.segments.forEach(t=>{t.data.radius+=h/2}),n.center[1]+=h/2);let{labels:d,htmlLabels:f,connectors:p}=s({data:n,series:e});return n.labels=d,n.htmlLabels=f,n.connectors=p,n})}({series:m,boundsWidth:e,boundsHeight:n});t.push(r.createElement(eW,{key:"pie",dispatcher:a,preparedData:l,seriesOptions:o,htmlLayout:f})),g.push(...l);break}case"treemap":{let l=function(t){var e;let{series:n,width:r,height:a}=t,l=n.data.reduce((t,e)=>{let r=Object.assign({},e);return r.parentId||(r.parentId=n.id),t.push(r),t},[{name:n.name,id:n.id}]),o=(0,i.QP8)().id(t=>t.id?t.id:Array.isArray(t.name)?t.name.join():t.name).parentId(t=>t.parentId)(l).sum(t=>t.value||0),s=(0,i.pNI)();switch(n.layoutAlgorithm){case y.MH.Binary:s.tile(i.wLP);break;case y.MH.Dice:s.tile(i.LQd);break;case y.MH.Slice:s.tile(i.Kmr);break;case y.MH.SliceDice:s.tile(i.E_0);break;case y.MH.Squarify:s.tile(i.o$p)}let u=s.size([r,a]).paddingInner(t=>{var e,r;let i=null===(e=n.levels)||void 0===e?void 0:e.find(e=>e.index===t.depth+1);return null!==(r=null==i?void 0:i.padding)&&void 0!==r?r:1})(o).leaves(),c=[],h=[];if(null===(e=n.dataLabels)||void 0===e?void 0:e.enabled){let{html:t,padding:e,align:r}=n.dataLabels,i=function(t){let{data:e,html:n,padding:r,align:i}=t;return e.reduce((t,e)=>((Array.isArray(e.data.name)?e.data.name:[e.data.name]).forEach((a,l)=>{var o;let{maxHeight:s,maxWidth:u}=null!==(o=(0,U.qV)({labels:[a],html:n}))&&void 0!==o?o:{},c=e.x0+r,h=e.x1-r,d=Math.max(0,h-c),f=c,p=l*s+e.y0+r;switch(i){case"left":f=c;break;case"center":f=Math.max(c,c+(d-u)/2);break;case"right":f=Math.max(c,h-u)}let g=n?{content:a,x:f,y:p,size:{width:d,height:s}}:{text:a,x:f,y:p,width:d,nodeData:e.data};t.push(g)}),t),[])}({html:t,padding:e,align:r,data:u});t?h.push(...i):c=i}return{labelData:c,leaves:u,series:n,htmlElements:h}}({series:m[0],width:e,height:n});t.push(r.createElement(ny,{key:"treemap",dispatcher:a,preparedData:l,seriesOptions:o,htmlLayout:f})),g.push(l);break}case"sankey":{let i=function(t){let{series:e,width:n,height:r}=t,{nodes:i,links:a}=(function(){let t,e,n=0,r=0,i=1,a=1,l=24,o=8,s,u=e3,c=eG,h=e6,d=e4,f=6;function p(){let p={nodes:h.apply(null,arguments),links:d.apply(null,arguments)};return function({nodes:t,links:n}){for(let[e,n]of t.entries())n.index=e,n.sourceLinks=[],n.targetLinks=[];let r=new Map(t.map((e,n)=>[u(e,n,t),e]));for(let[t,e]of n.entries()){e.index=t;let{source:n,target:i}=e;"object"!=typeof n&&(n=e.source=e5(r,n)),"object"!=typeof i&&(i=e.target=e5(r,i)),n.sourceLinks.push(e),i.targetLinks.push(e)}if(null!=e)for(let{sourceLinks:n,targetLinks:r}of t)n.sort(e),r.sort(e)}(p),function({nodes:t}){for(let e of t)e.value=void 0===e.fixedValue?Math.max(eZ(e.sourceLinks,e2),eZ(e.targetLinks,e2)):e.fixedValue}(p),function({nodes:t}){let e=t.length,n=new Set(t),r=new Set,i=0;for(;n.size;){for(let t of n)for(let{target:e}of(t.depth=i,t.sourceLinks))r.add(e);if(++i>e)throw Error("circular link");n=r,r=new Set}}(p),function({nodes:t}){let e=t.length,n=new Set(t),r=new Set,i=0;for(;n.size;){for(let t of n)for(let{source:e}of(t.height=i,t.targetLinks))r.add(e);if(++i>e)throw Error("circular link");n=r,r=new Set}}(p),function(u){let h=function({nodes:e}){let r=eX(e,t=>t.depth)+1,a=(i-n-l)/(r-1),o=Array(r);for(let t of e){let e=Math.max(0,Math.min(r-1,Math.floor(c.call(null,t,r))));t.layer=e,t.x0=n+e*a,t.x1=t.x0+l,o[e]?o[e].push(t):o[e]=[t]}if(t)for(let e of o)e.sort(t);return o}(u);s=Math.min(o,(a-r)/(eX(h,t=>t.length)-1)),function(t){let n=function(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(t,t=>(a-r-(t.length-1)*s)/eZ(t,e2));for(let i of t){let t=r;for(let e of i)for(let r of(e.y0=t,e.y1=t+e.value*n,t=e.y1+s,e.sourceLinks))r.width=r.value*n;t=(a-t+s)/(i.length+1);for(let e=0;e<i.length;++e){let n=i[e];n.y0+=t*(e+1),n.y1+=t*(e+1)}(function(t){if(void 0===e)for(let{sourceLinks:e,targetLinks:n}of t)e.sort(e0),n.sort(eQ)})(i)}}(h);for(let e=0;e<f;++e){let n=Math.pow(.99,e),r=Math.max(1-n,(e+1)/f);(function(e,n,r){for(let i=e.length,a=i-2;a>=0;--a){let i=e[a];for(let t of i){let e=0,r=0;for(let{target:n,value:i}of t.sourceLinks){let a=i*(n.layer-t.layer);e+=function(t,e){let n=e.y0-(e.targetLinks.length-1)*s/2;for(let{source:r,width:i}of e.targetLinks){if(r===t)break;n+=i+s}for(let{target:r,width:i}of t.sourceLinks){if(r===e)break;n-=i}return n}(t,n)*a,r+=a}if(!(r>0))continue;let i=(e/r-t.y0)*n;t.y0+=i,t.y1+=i,v(t)}void 0===t&&i.sort(e1),g(i,r)}})(h,n,r),function(e,n,r){for(let i=1,a=e.length;i<a;++i){let a=e[i];for(let t of a){let e=0,r=0;for(let{source:n,value:i}of t.targetLinks){let a=i*(t.layer-n.layer);e+=function(t,e){let n=t.y0-(t.sourceLinks.length-1)*s/2;for(let{target:r,width:i}of t.sourceLinks){if(r===e)break;n+=i+s}for(let{source:r,width:i}of e.targetLinks){if(r===t)break;n-=i}return n}(n,t)*a,r+=a}if(!(r>0))continue;let i=(e/r-t.y0)*n;t.y0+=i,t.y1+=i,v(t)}void 0===t&&a.sort(e1),g(a,r)}}(h,n,r)}}(p),e8(p),p}function g(t,e){let n=t.length>>1,i=t[n];y(t,i.y0-s,n-1,e),m(t,i.y1+s,n+1,e),y(t,a,t.length-1,e),m(t,r,0,e)}function m(t,e,n,r){for(;n<t.length;++n){let i=t[n],a=(e-i.y0)*r;a>1e-6&&(i.y0+=a,i.y1+=a),e=i.y1+s}}function y(t,e,n,r){for(;n>=0;--n){let i=t[n],a=(i.y1-e)*r;a>1e-6&&(i.y0-=a,i.y1-=a),e=i.y0-s}}function v({sourceLinks:t,targetLinks:n}){if(void 0===e){for(let{source:{sourceLinks:t}}of n)t.sort(e0);for(let{target:{targetLinks:e}}of t)e.sort(eQ)}}return p.update=function(t){return e8(t),t},p.nodeId=function(t){return arguments.length?(u="function"==typeof t?t:eJ(t),p):u},p.nodeAlign=function(t){return arguments.length?(c="function"==typeof t?t:eJ(t),p):c},p.nodeSort=function(e){return arguments.length?(t=e,p):t},p.nodeWidth=function(t){return arguments.length?(l=+t,p):l},p.nodePadding=function(t){return arguments.length?(o=s=+t,p):o},p.nodes=function(t){return arguments.length?(h="function"==typeof t?t:eJ(t),p):h},p.links=function(t){return arguments.length?(d="function"==typeof t?t:eJ(t),p):d},p.linkSort=function(t){return arguments.length?(e=t,p):e},p.size=function(t){return arguments.length?(n=r=0,i=+t[0],a=+t[1],p):[i-n,a-r]},p.extent=function(t){return arguments.length?(n=+t[0][0],i=+t[1][0],r=+t[0][1],a=+t[1][1],p):[[n,r],[i,a]]},p.iterations=function(t){return arguments.length?(f=+t,p):f},p})().nodeId(t=>t.name).nodeSort(t=>t.index).nodeWidth(15).nodePadding(10).extent([[1,5],[n-1,r-5]])({nodes:e.data,links:e.data.reduce((t,n)=>(n.links.forEach(r=>{let i=e.data.find(t=>t.name===r.name);i&&t.push({source:n,target:i,value:r.value})}),t),[])}),l=i.map(t=>{var n,r,i,a,l,o;return{x0:null!==(n=t.x0)&&void 0!==n?n:0,x1:null!==(r=t.x1)&&void 0!==r?r:0,y0:null!==(i=t.y0)&&void 0!==i?i:0,y1:null!==(a=t.y1)&&void 0!==a?a:0,color:null!==(l=t.color)&&void 0!==l?l:"",data:e.data[null!==(o=t.index)&&void 0!==o?o:0]}}),o=a.map(t=>{var e,n;return{opacity:.75,color:null!==(e=t.source.color)&&void 0!==e?e:"",path:(function(t){var e=no,n=ns,r=na,i=nl,a=null;function l(){var l,o=nr.call(arguments),s=e.apply(this,o),u=n.apply(this,o);if(a||(a=l=nn()),t(a,+r.apply(this,(o[0]=s,o)),+i.apply(this,o),+r.apply(this,(o[0]=u,o)),+i.apply(this,o)),l)return a=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(r="function"==typeof t?t:ni(+t),l):r},l.y=function(t){return arguments.length?(i="function"==typeof t?t:ni(+t),l):i},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l})(nu).source(nc).target(nh)(t),strokeWidth:Math.max(1,null!==(n=t.width)&&void 0!==n?n:0),source:t.source,target:t.target,value:t.value}}),s=[];if(e.dataLabels.enabled){let t=i.map(t=>{var r,i,a,l;let o=null!==(r=t.x0)&&void 0!==r?r:0,s=null!==(i=t.x1)&&void 0!==i?i:0,u=null!==(a=t.y0)&&void 0!==a?a:0,c=null!==(l=t.y1)&&void 0!==l?l:0;return{text:t.name,x:o<n/2?s+6:o-6,y:(c+u)/2,textAnchor:o<n/2?"start":"end",style:e.dataLabels.style}});s.push(...t)}return{series:e,nodes:l,links:o,htmlElements:[],labels:s}}({series:m[0],width:e,height:n});t.push(r.createElement(eK,{key:"sankey",dispatcher:a,preparedData:i,seriesOptions:o,htmlLayout:f})),g.push(i);break}default:throw new k({message:`The display method is not defined for a series with type "${p}"`})}return t},[]),shapesData:g}},[e,n,a,l,o,s,u,c,h]);return{shapes:p.shapes,shapesData:p.shapesData}},nM=({xAxis:t,series:e,width:n})=>{var r;let i=p()(t,"title.text",""),a=Object.assign(Object.assign({},x.style),p()(t,"title.style")),l=p()(t,"title.maxRowCount",x.maxRowCount),o=(0,U.lD)({text:i,style:a,width:n}).slice(0,l),s=(0,U.qV)({labels:[i],style:a}),u={fontSize:p()(t,"labels.style.fontSize",y.Jb)},c={type:p()(t,"type","linear"),labels:{enabled:p()(t,"labels.enabled",!0),margin:p()(t,"labels.margin",v.margin),padding:p()(t,"labels.padding",v.padding),dateFormat:p()(t,"labels.dateFormat"),numberFormat:p()(t,"labels.numberFormat"),rotation:p()(t,"labels.rotation",0),style:u,width:0,height:0,lineHeight:(0,W.eO)({text:"Tmp",style:u}),maxWidth:p()(t,"labels.maxWidth",v.maxWidth)},lineColor:p()(t,"lineColor"),categories:p()(t,"categories"),timestamps:p()(t,"timestamps"),title:{text:i,style:a,margin:p()(t,"title.margin",x.margin),height:s.maxHeight*o.length,width:s.maxWidth,align:p()(t,"title.align",x.align),maxRowCount:p()(t,"title.maxRowCount",x.maxRowCount)},min:function(t,e){let n=null==t?void 0:t.min;return void 0===n&&(null==e?void 0:e.some(t=>W.A0.includes(t.type)))?e.reduce((t,e)=>Math.min(t,e.data.reduce((t,e)=>Math.min(t,p()(e,"x",0)),0)),0):n}(t,e),maxPadding:p()(t,"maxPadding",.01),grid:{enabled:p()(t,"grid.enabled",!0)},ticks:{pixelInterval:p()(t,"ticks.pixelInterval")},position:"bottom",plotIndex:0,plotLines:[]},{height:h,rotation:d}=function({axis:t,series:e,width:n,autoRotation:r=!0}){let i=B({scale:er(t,e,n),count:V({axis:t,range:n}),maxCount:K({width:n,axis:t})}),a=(0,W.uq)(t,i),l=i.map(e=>(0,W.A3)({axis:t,value:e,step:a})),o=(0,U.ki)({width:n,labels:l,padding:t.labels.padding,style:t.labels.style}),s=t.labels.rotation||(o&&r?-45:0),u=s?(0,U.qV)({labels:l,style:t.labels.style,rotation:s}).maxHeight:t.labels.lineHeight;return{height:Math.min(s?P(s)*t.labels.maxWidth:u,u),rotation:s}}({axis:c,series:e,width:n,autoRotation:null===(r=null==t?void 0:t.labels)||void 0===r?void 0:r.autoRotation});return c.labels.height=h,c.labels.rotation=d,c},nk=t=>{let{axis:e,series:n}=t;if(!e.labels.enabled)return 0;let r=q(en(e,n,1)),i=(0,W.uq)(e,r),a=r.map(t=>(0,W.A3)({axis:e,value:t,step:i}));return(0,U.qV)({labels:a,style:e.labels.style,rotation:e.labels.rotation}).maxWidth},nA=({series:t,yAxis:e,height:n})=>{let r=[];return(e||[{}]).map(e=>{let i=p()(e,"plotIndex",0),a=!r[i];a&&(r[i]=[]),r[i].push(e);let l=p()(e,"labels.enabled",!0),o={fontSize:p()(e,"labels.style.fontSize",y.Jb)},s=p()(e,"title.text",""),u=Object.assign(Object.assign({},_.style),p()(e,"title.style")),c=p()(e,"title.maxRowCount",_.maxRowCount),h=(0,U.lD)({text:s,style:u,width:n}).slice(0,c),d=(0,U.qV)({labels:[s],style:u}),f={type:p()(e,"type",w),labels:{enabled:l,margin:l?p()(e,"labels.margin",v.margin):0,padding:l?p()(e,"labels.padding",v.padding):0,dateFormat:p()(e,"labels.dateFormat"),numberFormat:p()(e,"labels.numberFormat"),style:o,rotation:p()(e,"labels.rotation",0),width:0,height:0,lineHeight:(0,W.eO)({text:"TmpLabel",style:o}),maxWidth:p()(e,"labels.maxWidth",v.maxWidth)},lineColor:p()(e,"lineColor"),categories:p()(e,"categories"),timestamps:p()(e,"timestamps"),title:{text:s,margin:p()(e,"title.margin",_.margin),style:u,width:d.maxWidth,height:d.maxHeight*h.length,align:p()(e,"title.align",_.align),maxRowCount:c},min:function(t,e){let n=null==t?void 0:t.min;return void 0===n&&(null==e?void 0:e.some(t=>W.ul.includes(t.type)))?e.reduce((t,e)=>"waterfall"===e.type?Math.min(t,e.data.reduce((t,n)=>Math.min(t,(0,nb.Y)(n,e)||0),0)):Math.min(t,e.data.reduce((t,e)=>Math.min(t,p()(e,"y",0)),0)),0):n}(e,t),maxPadding:p()(e,"maxPadding",.05),grid:{enabled:p()(e,"grid.enabled",a)},ticks:{pixelInterval:p()(e,"ticks.pixelInterval")},position:p()(e,"position",a?"left":"right"),plotIndex:p()(e,"plotIndex",0),plotLines:p()(e,"plotLines",[]).map(t=>({value:p()(t,"value",0),color:p()(t,"color","var(--g-color-base-brand)"),width:p()(t,"width",1),dashStyle:p()(t,"dashStyle",y.g6.Solid),opacity:p()(t,"opacity",1),layerPlacement:p()(t,"layerPlacement","before")}))};return l&&(f.labels.width=nk({axis:f,series:t})),f})};n(30360);let nE=(0,$.G)("d3"),nS=t=>{var e,n,a,l;let{width:o,height:s,data:u}=t,c=r.useRef(null),h=r.useRef(null),f=r.useRef(null),p=r.useMemo(()=>O(),[]),{boundsHeight:g,boundsOffsetLeft:m,boundsOffsetTop:y,boundsWidth:v,handleLegendItemClick:b,legendConfig:x,legendItems:_,preparedSeries:w,preparedSplit:M,preparedLegend:k,prevHeight:A,prevWidth:E,shapes:S,shapesData:C,title:T,tooltip:L,xAxis:N,xScale:D,yAxis:$,yScale:I}=function(t){let{width:e,height:n,data:i,dispatcher:a,htmlLayout:l}=t,o=tI(e),s=tI(n),{chart:u,title:c,tooltip:h}=tF({data:i}),d=r.useMemo(()=>nM({xAxis:i.xAxis,width:e,series:i.series.data}),[i,e]),f=r.useMemo(()=>nA({series:i.series.data,yAxis:i.yAxis,height:n}),[i,n]),{legendItems:p,legendConfig:g,preparedSeries:m,preparedSeriesOptions:y,preparedLegend:v,handleLegendItemClick:b}=t5({chartWidth:e,chartHeight:n,chartMargin:u.margin,series:i.series,legend:i.legend,preparedYAxis:f}),{boundsWidth:x,boundsHeight:_}=t7({width:e,height:n,margin:u.margin,preparedLegend:v,preparedXAxis:d,preparedYAxis:f,preparedSeries:m}),w=t9({split:i.split,boundsHeight:_,chartWidth:e}),{xScale:M,yScale:k}=ea({boundsWidth:x,boundsHeight:_,series:m,xAxis:d,yAxis:f,split:w}),{shapes:A,shapesData:E}=nw({boundsWidth:x,boundsHeight:_,dispatcher:a,series:m,seriesOptions:y,xAxis:d,xScale:M,yAxis:f,yScale:k,split:w,htmlLayout:l}),S=u.margin.top;return{boundsHeight:_,boundsOffsetLeft:u.margin.left+tK(f[0]),boundsOffsetTop:S,boundsWidth:x,handleLegendItemClick:b,legendConfig:g,legendItems:p,preparedLegend:v,preparedSeries:m,preparedSplit:w,prevHeight:s,prevWidth:o,shapes:A,shapesData:E,title:c,tooltip:h,xAxis:d,xScale:M,yAxis:f,yScale:k}}(Object.assign(Object.assign({},t),{dispatcher:p,htmlLayout:h.current})),{tooltipPinned:z,togglePinTooltip:H,unpinTooltip:Y}=function(t){var e,n;let{dispatcher:i,tooltip:a}=t,[l,o]=r.useState(!1),s=null==a?void 0:a.enabled,u=null===(e=null==a?void 0:a.pin)||void 0===e?void 0:e.enabled,c=null===(n=null==a?void 0:a.pin)||void 0===n?void 0:n.modifierKey,h=r.useCallback((t,e)=>{let n=t;if(t&&c)switch(c){case"altKey":n=e.altKey;break;case"metaKey":n=(0,d.dz)()?e.metaKey:e.ctrlKey}o(n)},[c]),f=r.useCallback(()=>{o(!1),i.call(R.HOVER_SHAPE,{},void 0)},[i]);return{tooltipPinned:l,togglePinTooltip:s&&u?h:void 0,unpinTooltip:s&&u?f:void 0}}({dispatcher:p,tooltip:L}),{handleChartClick:j,handleMouseLeave:P,throttledHandleMouseMove:F,throttledHandleTouchMove:W}=function(t){let{boundsHeight:e,boundsOffsetLeft:n,boundsOffsetTop:a,boundsWidth:l,dispatcher:o,shapesData:s,svgContainer:u,togglePinTooltip:c,tooltipPinned:h,unpinTooltip:d,xAxis:f,yAxis:p}=t,g=r.useCallback((t,n)=>t<0||t>l||n<0||n>e,[e,l]),m=([t,r],i)=>{if(h)return;let u=t-n,c=r-a;if(g(u,c)){o.call(R.HOVER_SHAPE,{},void 0),o.call(R.POINTERMOVE_CHART,{},void 0,i);return}let d=tO({position:[u,c],shapesData:s,boundsHeight:e,boundsWidth:l});o.call(R.HOVER_SHAPE,i.target,d,[t,r]),o.call(R.POINTERMOVE_CHART,{},{hovered:d,xAxis:f,yAxis:p[0]},i)},y=tL?void 0:tT()(t=>{let[e,n]=(0,i.cx$)(t,u);m([e,n],t)},50);return{handleChartClick:t=>{let[r,m]=(0,i.cx$)(t,u),y=r-n,v=m-a;if(g(y,v))return;let b=tO({position:[y,v],shapesData:s,boundsHeight:e,boundsWidth:l}),x=null==b?void 0:b.find(t=>t.closest);if(!x){h&&(null==d||d());return}o.call(R.CLICK_CHART,void 0,{point:x.data,series:x.series},t);let _=!h;_||(o.call(R.HOVER_SHAPE,t.target,b,[r,m]),o.call(R.POINTERMOVE_CHART,{},{hovered:b,xAxis:f,yAxis:p[0]},t)),null==c||c(_,t)},handleMouseLeave:t=>{h||(null==y||y.cancel(),o.call(R.HOVER_SHAPE,{},void 0),o.call(R.POINTERMOVE_CHART,{},void 0,t))},throttledHandleMouseMove:y,throttledHandleTouchMove:tL?tT()(t=>{let e=t.touches[0],[n,r]=(0,i.cx$)(e,u);m([n,r],t)},50):void 0}}({boundsHeight:g,boundsOffsetLeft:m,boundsOffsetTop:y,boundsWidth:v,dispatcher:p,shapesData:C,svgContainer:c.current,togglePinTooltip:H,tooltipPinned:z,unpinTooltip:Y,xAxis:N,yAxis:$}),U=null===(n=null===(e=u.chart)||void 0===e?void 0:e.events)||void 0===n?void 0:n.click,V=null===(l=null===(a=u.chart)||void 0===a?void 0:a.events)||void 0===l?void 0:l.pointermove;return r.useEffect(()=>(U&&p.on(R.CLICK_CHART,U),V&&p.on(R.POINTERMOVE_CHART,(...t)=>{let[e,n]=t;V(e,n)}),()=>{p.on(R.CLICK_CHART,null),p.on(R.POINTERMOVE_CHART,null)}),[p,U,V]),r.useEffect(()=>{(E!==o||A!==s)&&z&&(null==Y||Y())},[E,o,A,s,z,Y]),r.createElement(r.Fragment,null,r.createElement("svg",{ref:c,className:nE(),width:o,height:s,onMouseMove:F,onMouseLeave:P,onTouchStart:W,onTouchMove:W,onClick:j},T&&r.createElement(t_,Object.assign({},T,{chartWidth:o})),r.createElement("g",{transform:`translate(0, ${y})`},M.plots.map((t,e)=>r.createElement(tb,{key:`plot-${e}`,title:t.title}))),r.createElement("g",{width:v,height:g,transform:`translate(${[m,y].join(",")})`,ref:f},D&&(null==I?void 0:I.length)&&r.createElement(r.Fragment,null,r.createElement(Q,{axes:$,width:v,height:g,scale:I,split:M,plotRef:f}),r.createElement("g",{transform:`translate(0, ${g})`},r.createElement(tr,{axis:N,width:v,height:g,scale:D,split:M}))),S),k.enabled&&r.createElement(ty,{chartSeries:w,boundsWidth:v,legend:k,items:_,config:x,onItemClick:b,onUpdate:Y})),r.createElement("div",{className:nE("html-layer"),ref:h,style:{transform:`translate(${m}px, ${y}px)`}}),r.createElement(tS,{dispatcher:p,tooltip:L,svgContainer:c.current,xAxis:N,yAxis:$[0],onOutsideClick:Y,tooltipPinned:z}))},nC=r.forwardRef(function(t,e){let{data:n,lang:a,onResize:o}=t,s=r.useRef(),u=r.useRef(null),h=r.useRef(),[f,p]=r.useState();s.current!==n&&(D(n),s.current=n);let g=r.useCallback(()=>{var t;let e=null===(t=u.current)||void 0===t?void 0:t.parentElement;if(e){let{width:t,height:n}=e.getBoundingClientRect();p({width:t,height:n})}},[]),m=r.useMemo(()=>{var t;return null===(t=h.current)||void 0===t||t.cancel(),h.current=l()(g,200),h.current},[g]);return r.useImperativeHandle(e,()=>({reflow(){m()}}),[m]),r.useEffect(()=>{m()},[m]),r.useEffect(()=>{let t=(0,i.Ys)(window),e=`resize.${(0,d.xA)()}`;return t.on(e,m),()=>{t.on(e,null)}},[m]),r.useEffect(()=>{"function"==typeof o&&o({dimensions:f})},[f,o]),r.useEffect(()=>{a&&c.lang!==a&&c.setLang(a)},[a]),r.createElement("div",{ref:u,style:{width:(null==f?void 0:f.width)||"100%",height:(null==f?void 0:f.height)||"100%",position:"relative"}},(null==f?void 0:f.height)&&(null==f?void 0:f.width)&&r.createElement(nS,{height:null==f?void 0:f.height,width:null==f?void 0:f.width,data:n}))})},58036:function(t,e,n){"use strict";var r,i,a,l,o,s,u,c;n.d(e,{JJ:function(){return h},Jb:function(){return f},Ko:function(){return i},LD:function(){return d},MH:function(){return l},g6:function(){return r},uq:function(){return a}});let h={Area:"area",BarX:"bar-x",BarY:"bar-y",Line:"line",Pie:"pie",Scatter:"scatter",Treemap:"treemap",Waterfall:"waterfall",Sankey:"sankey"};(o=r||(r={})).Dash="Dash",o.DashDot="DashDot",o.Dot="Dot",o.LongDash="LongDash",o.LongDashDot="LongDashDot",o.LongDashDotDot="LongDashDotDot",o.ShortDash="ShortDash",o.ShortDashDot="ShortDashDot",o.ShortDashDotDot="ShortDashDotDot",o.ShortDot="ShortDot",o.Solid="Solid",(s=i||(i={})).Circle="circle",s.Diamond="diamond",s.Square="square",s.Triangle="triangle",s.TriangleDown="triangle-down",(u=a||(a={})).Butt="butt",u.Round="round",u.Square="square",u.None="none",(c=l||(l={})).Binary="binary",c.Dice="dice",c.Slice="slice",c.SliceDice="slice-dice",c.Squarify="squarify";let d=["#4DA2F1","#FF3D64","#8AD554","#FFC636","#FFB9DD","#84D1EE","#FF91A1","#54A520","#DB9100","#BA74B3","#1F68A9","#ED65A9","#0FA08D","#FF7E00","#E8B0A4","#52A6C5","#BE2443","#70C1AF","#FFB46C","#DCA3D7"],f="11px"},71143:function(t,e,n){"use strict";n.d(e,{Dc:function(){return i},OS:function(){return o},Pl:function(){return r},kv:function(){return a},n1:function(){return l},zZ:function(){return s}});let r=8,i=5,a=5,l={fontSize:"11px",fontWeight:"bold",fontColor:"var(--d3-data-labels)"},o={enabled:!0,opacity:.25,size:6},s={radius:4,borderColor:"",borderWidth:0,symbol:"circle"}},83361:function(t,e,n){"use strict";n.d(e,{MS:function(){return d},kw:function(){return c},mJ:function(){return s},vg:function(){return u}});var r=n(88306),i=n.n(r),a=n(58036),l=n(31873),o=n(71143);let s=t=>t.reduce((t,e)=>(e.legend.enabled&&e.visible&&t.push(e.name),t),[]),u=t=>t.map(t=>t.name);function c(t,e){var n;let r=(null===(n=t.legend)||void 0===n?void 0:n.symbol)||{};return{shape:"symbol",symbolType:e||a.Ko.Circle,width:(null==r?void 0:r.width)||o.Pl,padding:(null==r?void 0:r.padding)||o.Dc}}let h=i()(l.xA);function d(t){let e=t.stackId;return e||(e=t.stacking?h():(0,l.xA)()),e}},25632:function(t,e,n){"use strict";n.d(e,{uf:function(){return f},Rz:function(){return h}});let r=new(n(73168)).mb;r.setLang("ru");var i,a=JSON.parse('{"units":{"value_short-bytes":"B","value_short-kilobytes":"KB","value_short-megabytes":"MB","value_short-milliseconds":"ms","value_short-seconds":"s","value_short-minutes":"m","value_short-empty":"","value_short-k":"K","value_short-m":"M","value_short-b":"B","value_short-t":"T","value_space-delimiter":" ","value_number-delimiter":""}}');let l=(i="units",Object.entries({ru:JSON.parse('{"units":{"value_short-bytes":"Б","value_short-kilobytes":"КБ","value_short-megabytes":"МБ","value_short-milliseconds":"мс","value_short-seconds":"с","value_short-minutes":"м","value_short-empty":"","value_short-k":"K","value_short-m":"M","value_short-b":"B","value_short-t":"T","value_space-delimiter":" ","value_number-delimiter":""}}'),en:a}).forEach(([t,e])=>r.registerKeysets(t,e)),r.i18n.bind(r,i));function o(t,e,n){let r=1;for(;Math.abs(t/Math.pow(e,r))>=1&&r<10&&l(n[r]);)r++;return r-1}let s=({exponent:t,unitsI18nKeys:e,unitDelimiterI18nKey:n})=>function(i,a={}){let{precision:s,unitRate:u,showRankDelimiter:c=!0,lang:h}=a,d=r.lang;h&&r.setLang(h);let f="number"==typeof u?u:o(i,t,e),p=i/Math.pow(t,f);"number"==typeof s?p=Number(p.toFixed(s)):"auto"===s&&p%1!=0&&(p=Number(p.toFixed(Math.abs(p)>1?2:4))),p=new Intl.NumberFormat(null!=h?h:d,{minimumFractionDigits:"number"==typeof s?s:0,maximumFractionDigits:20,useGrouping:c}).format(p);let g=l(e[f]),m=l(n);return r.setLang(d),`${p}${m}${g}`};s({exponent:1024,unitDelimiterI18nKey:"value_space-delimiter",unitsI18nKeys:["value_short-bytes","value_short-kilobytes","value_short-megabytes"]}),s({exponent:1e3,unitDelimiterI18nKey:"value_space-delimiter",unitsI18nKeys:["value_short-milliseconds","value_short-seconds","value_short-minutes"]});let u=["value_short-empty","value_short-k","value_short-m","value_short-b","value_short-t"],c=s({exponent:1e3,unitDelimiterI18nKey:"value_number-delimiter",unitsI18nKeys:u}),h=t=>o(t,1e3,u),d={default:0,auto:void 0,k:1,m:2,b:3,t:4},f=(t,e={})=>{if(Number.isNaN(t)||Number.isNaN(Number(t)))return new Intl.NumberFormat("en").format(Number(t));let{format:n="number",multiplier:r=1,prefix:i="",postfix:a="",unit:l,unitRate:o,labelMode:s}=e,u=r,h="";"percent"===n&&(u=100,h="%"),"percent"===s&&(h="%");let f=c(Number(t)*u,Object.assign(Object.assign({},e),{unitRate:null!=o?o:d[null!=l?l:"default"]}));return`${i}${f}${h}${a}`}},50482:function(t,e,n){"use strict";n.d(e,{A0:function(){return m},ul:function(){return g},A3:function(){return C},uq:function(){return D},s0:function(){return N},az:function(){return M},mL:function(){return w},fO:function(){return k},eO:function(){return T},eo:function(){return E},Hn:function(){return A},Xq:function(){return y},GJ:function(){return x},rS:function(){return S}});var r=n(13283),i=n(87226),a=n(27361),l=n.n(a),o=n(14293),s=n.n(o),u=n(58036),c=n(83361),h=n(25632);let d={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},f={millisecond:"DD.MM.YY HH:mm:ss.SSS",second:"DD.MM.YY HH:mm:ss",minute:"DD.MM.YY HH:mm",hour:"DD.MM.YY HH:mm",day:"DD.MM.YY",week:"DD.MM.YY",month:"MMM 'YY",year:"YYYY"},p=["pie","treemap","sankey"],g=["bar-x","area","waterfall"],m=["bar-y"];function y(t){return!p.includes(t.type)}function v(t){return y(t)}function b(t){return y(t)}function x(t){return y(t)}function _(t,e="x",n="y"){let r=[];return Array.from((0,i.ruo)(t,c.MS)).forEach(([t,i])=>{let a={};i.forEach(t=>{let r=new Map;t.data.forEach(t=>{let i=String(t[e]),a=0;n in t&&"number"==typeof t[n]&&(a=t[n]),r.has(i)&&(a=Math.max(a,r.get(i))),r.set(i,a)}),Array.from(r).forEach(([t,e])=>{a[t]=(a[t]||0)+e})}),r.push(...Object.values(a))}),r}let w=t=>Array.from((0,i.ruo)(t,t=>t.type)).reduce((t,[e,n])=>("bar-y"===e?t.push(..._(n,"y","x")):n.filter(v).forEach(e=>{t.push(...e.data.map(t=>t.x))}),t),[]);function M(t){if(t.some(t=>"bar-y"===t.type))return 0}let k=t=>Array.from((0,i.ruo)(t,t=>t.type)).reduce((t,[e,n])=>{switch(e){case"area":case"bar-x":t.push(..._(n));break;case"waterfall":{let e=0;n.forEach(n=>{n.data.forEach(n=>{e+=Number(n.y)||0,t.push(e)})});break}default:n.filter(b).forEach(e=>{t.push(...e.data.map(t=>t.y))})}return t},[]),A=t=>t.reduce((t,e)=>("name"in e&&"string"==typeof e.name&&t.push(e.name),t),[]),E=t=>t.filter(t=>t.visible),S=t=>{var e;if(!t)return{};let[n,r]=((null===(e=t.match(/\((.*?)\)/))||void 0===e?void 0:e[1])||"").split(",");return{x:Number.isNaN(Number(n))?void 0:Number(n),y:Number.isNaN(Number(r))?void 0:Number(r)}},C=t=>{let{axis:e,value:n,step:i}=t;switch(e.type){case"category":return n;case"datetime":{let t=e.labels.dateFormat||function(t){if(t){let e=function(t){let e=Object.keys(d),n=e.findIndex(e=>t<d[e]);return -1===n?"year":e[n-1]}(t);if(e in f)return f[e]}return f.day}(i);return(0,r.CQ)({input:n}).format(t)}default:{let t=Object.assign({unitRate:n&&i?(0,h.Rz)(i):void 0},e.labels.numberFormat);return(0,h.uf)(n,t)}}},T=t=>{var e;let{text:n,style:r}=t,a=(0,i.Ys)(document.body).append("svg"),o=a.append("text").text(n),s=l()(r,"fontSize",u.Jb);s&&o.style("font-size",s).style("alignment-baseline","after-edge");let c=(null===(e=o.node())||void 0===e?void 0:e.getBoundingClientRect().height)||0;return a.remove(),c},L=t=>{let e;let{axisDirection:n,categories:r,data:i}=t,a=l()(i,n);if("category"in i&&i.category&&(e=i.category),"string"==typeof a&&(e=a),"number"==typeof a&&(e=r[a]),s()(e))throw Error("It seems you are trying to get non-existing category value");return e},N=t=>{let{axisDirection:e,categories:n,data:r}=t;return L({axisDirection:e,categories:n,data:r})};function D(t,e){if("category"!==t.type)return e[1]-e[0]}},83558:function(t,e,n){"use strict";function r(t,e){return t.color?t.color:t.total?e.color:Number(t.y)>0?e.positiveColor:e.negativeColor}function i(t,e){let n=e.data.indexOf(t);return -1===n?null:e.data.reduce((t,e,r)=>r<=n?t+(e.total?0:Number(e.y)):t,0)}n.d(e,{Y:function(){return i},t:function(){return r}})},36590:function(t,e,n){"use strict";n.d(e,{LV:function(){return l},OB:function(){return i},fK:function(){return a},ki:function(){return o},lD:function(){return u},qV:function(){return s}});var r=n(23838);function i(t,e){var n,r,i;if(!t)return;let a=t.closest("svg");if(!a)return;let l=t.closest("text"),o=(null===(n=Array.from((null==l?void 0:l.transform.baseVal)||[]).find(t=>t.angle))||void 0===n?void 0:n.angle)||0,s=a.createSVGTransform();s.setRotate(-o,0,0),null==l||l.transform.baseVal.appendItem(s);let u=t.textContent||"",c=(null===(r=t.getBoundingClientRect())||void 0===r?void 0:r.width)||0;for(;c>e&&u.length>1;)u=u.slice(0,-1),t.textContent=u+"…",c=(null===(i=t.getBoundingClientRect())||void 0===i?void 0:i.width)||0;null==l||l.transform.baseVal.removeItem((null==l?void 0:l.transform.baseVal.length)-1)}function a(t,e){let n=t.text();t.text(null).append("title").text(n),i(t.append("tspan").text(n).style("alignment-baseline","inherit").node(),e)}function l(t,e){t.each(function(t){let n="function"==typeof e?e(t):e;a((0,r.Z)(this),n)})}function o({width:t,labels:e,padding:n=0,style:i}){let a=(t-n*(e.length-1))/e.length,l=(0,r.Z)(document.body).append("text").style("font-size",(null==i?void 0:i.fontSize)||""),o=e.some(t=>{var e,n;return((null===(n=null===(e=l.text(t).node())||void 0===e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.width)||0)>a});return l.remove(),o}function s({labels:t,style:e,rotation:n,html:i}){var a,l,o;let s;if(!t.filter(Boolean).length)return{maxHeight:0,maxWidth:0};let u=(0,r.Z)(document.body).append("div"),c={maxHeight:0,maxWidth:0};if(i){s=u.append("div").style("position","absolute").node();let{height:e,width:n}=t.reduce((t,e)=>{var n,r;s&&(s.innerHTML=e);let i=null==s?void 0:s.getBoundingClientRect();return{width:Math.max(t.width,null!==(n=null==i?void 0:i.width)&&void 0!==n?n:0),height:Math.max(t.height,null!==(r=null==i?void 0:i.height)&&void 0!==r?r:0)}},{height:0,width:0});c.maxWidth=n,c.maxHeight=e}else{let r=u.append("svg"),i=function(t,{labels:e,style:n={},attrs:r={}}){let i=t.append("g").append("text");return i.style("font-size",n.fontSize||""),i.style("font-weight",n.fontWeight||""),Object.entries(r).forEach(([t,e])=>{i.attr(t,e)}),i.selectAll("tspan").data(e).enter().append("tspan").attr("x",0).attr("dy",0).text(t=>t),i}(r,{labels:t,style:e});n&&i.attr("text-anchor",n>0?"start":"end").style("transform",`rotate(${n}deg)`);let s=null===(a=r.select("g").node())||void 0===a?void 0:a.getBoundingClientRect();c.maxWidth=null!==(l=null==s?void 0:s.width)&&void 0!==l?l:0,c.maxHeight=null!==(o=null==s?void 0:s.height)&&void 0!==o?o:0}return u.remove(),c}function u(t){let{text:e,style:n,width:r}=t,i=s({labels:[e],style:n}).maxHeight;return Array.from(new Intl.Segmenter([],{granularity:"word"}).segment(e)).reduce((t,e)=>{t.length||t.push({text:"",y:t.length*i});let a=t[t.length-1];return e.isWordLike&&s({labels:[a.text+e.segment],style:n}).maxWidth>r&&(a={text:"",y:t.length*i},t.push(a)),a.text+=e.segment,t},[])}},16282:function(t,e,n){"use strict";n.d(e,{G:function(){return i}});var r=n(81504);(0,r.withNaming)({e:"__",m:"_"});let i=(0,r.withNaming)({n:"gcharts-",e:"__",m:"_"})},31873:function(t,e,n){"use strict";function r(){return`gravity-chart.${function(t,e){let n="";for(let t=5;t>0;--t)n+=e[Math.floor(Math.random()*e.length)];return n}(0,"0123456789abcdefghijklmnopqrstuvwxyz")}`}function i(){return"undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform)}n.d(e,{dz:function(){return i},xA:function(){return r}})},14026:function(t,e,n){"use strict";n.d(e,{J:function(){return a},_:function(){return l}});var r=n(67294);let i={top:0,right:0,bottom:0,left:0};function a(t={}){let{rect:e,contextElement:n}=t,a=r.useRef(i),l=r.useRef({contextElement:n,getBoundingClientRect(){let{top:t,right:e,bottom:n,left:r}=a.current;return{top:t,right:e,bottom:n,left:r,width:e-r,height:n-t}}});if(l.current.contextElement=n,e){let{top:t=0,left:n=0,right:r=n,bottom:i=t}=e;a.current={top:t,right:r,bottom:i,left:n}}else a.current=i;return l}function l(t){let e=r.useRef(t),[n,i]=r.useState({getBoundingClientRect(){let{top:t=0,left:n=0,right:r=n,bottom:i=t}=e.current;return{top:t,left:n,bottom:i,right:r,width:r-n,height:i-t}},contextElement:void 0}),a=r.useCallback(t=>{i({getBoundingClientRect(){let{top:t=0,left:n=0,right:r=n,bottom:i=t}=e.current;return{top:t,left:n,bottom:i,right:r,width:r-n,height:i-t}},contextElement:t??void 0})},[]),{top:l,left:o,bottom:s,right:u}=t;return r.useEffect(()=>{e.current={top:l,left:o,bottom:s,right:u}},[l,o,s,u]),{anchor:n,setContextElement:a}}},57983:function(){},30360:function(){},11065:function(){},21200:function(){},84556:function(){},45890:function(){},86832:function(){},74708:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(31663),i=n(91226);function a(t){var e=(0,r.Z)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===i.P&&e.documentElement.namespaceURI===i.P?e.createElement(t):e.createElementNS(n,t)}})(e)}},24421:function(t,e,n){"use strict";function r(t){return function(){return this.matches(t)}}function i(t){return function(e){return e.matches(t)}}n.d(e,{P:function(){return i},Z:function(){return r}})},31663:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(91226);function i(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.Z.hasOwnProperty(e)?{space:r.Z[e],local:t}:t}},91226:function(t,e,n){"use strict";n.d(e,{P:function(){return r}});var r="http://www.w3.org/1999/xhtml";e.Z={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},23838:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(1569);function i(t){return"string"==typeof t?new r.Y1([[document.querySelector(t)]],[document.documentElement]):new r.Y1([[t]],r.Jz)}},1569:function(t,e,n){"use strict";n.d(e,{Y1:function(){return z},ZP:function(){return Y},Jz:function(){return I}});var r=n(83010),i=n(19701),a=n(24421),l=Array.prototype.find;function o(){return this.firstElementChild}var s=Array.prototype.filter;function u(){return Array.from(this.children)}function c(t){return Array(t.length)}function h(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function d(t,e,n,r,i,a){for(var l,o=0,s=e.length,u=a.length;o<u;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):n[o]=new h(t,a[o]);for(;o<s;++o)(l=e[o])&&(i[o]=l)}function f(t,e,n,r,i,a,l){var o,s,u,c=new Map,d=e.length,f=a.length,p=Array(d);for(o=0;o<d;++o)(s=e[o])&&(p[o]=u=l.call(s,s.__data__,o,e)+"",c.has(u)?i[o]=s:c.set(u,s));for(o=0;o<f;++o)u=l.call(t,a[o],o,a)+"",(s=c.get(u))?(r[o]=s,s.__data__=a[o],c.delete(u)):n[o]=new h(t,a[o]);for(o=0;o<d;++o)(s=e[o])&&c.get(p[o])===s&&(i[o]=s)}function p(t){return t.__data__}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var m=n(31663),y=n(52627);function v(t){return t.trim().split(/^|\s+/)}function b(t){return t.classList||new x(t)}function x(t){this._node=t,this._names=v(t.getAttribute("class")||"")}function _(t,e){for(var n=b(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function w(t,e){for(var n=b(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function M(){this.textContent=""}function k(){this.innerHTML=""}function A(){this.nextSibling&&this.parentNode.appendChild(this)}function E(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}x.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var S=n(74708);function C(){return null}function T(){var t=this.parentNode;t&&t.removeChild(this)}function L(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function N(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function D(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)(n=e[r],t.type&&n.type!==t.type||n.name!==t.name)?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function $(t,e,n){return function(){var r,i=this.__on,a=function(t){e.call(this,t,this.__data__)};if(i){for(var l=0,o=i.length;l<o;++l)if((r=i[l]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),r.value=e;return}}this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}var R=n(89920);function O(t,e,n){var r=(0,R.Z)(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var I=[null];function z(t,e){this._groups=t,this._parents=e}function H(){return new z([[document.documentElement]],I)}z.prototype=H.prototype={constructor:z,select:function(t){"function"!=typeof t&&(t=(0,r.Z)(t));for(var e=this._groups,n=e.length,i=Array(n),a=0;a<n;++a)for(var l,o,s=e[a],u=s.length,c=i[a]=Array(u),h=0;h<u;++h)(l=s[h])&&(o=t.call(l,l.__data__,h,s))&&("__data__"in l&&(o.__data__=l.__data__),c[h]=o);return new z(i,this._parents)},selectAll:function(t){if("function"==typeof t){var e;e=t,t=function(){var t;return t=e.apply(this,arguments),null==t?[]:Array.isArray(t)?t:Array.from(t)}}else t=(0,i.Z)(t);for(var n=this._groups,r=n.length,a=[],l=[],o=0;o<r;++o)for(var s,u=n[o],c=u.length,h=0;h<c;++h)(s=u[h])&&(a.push(t.call(s,s.__data__,h,u)),l.push(s));return new z(a,l)},selectChild:function(t){var e;return this.select(null==t?o:(e="function"==typeof t?t:(0,a.P)(t),function(){return l.call(this.children,e)}))},selectChildren:function(t){var e;return this.selectAll(null==t?u:(e="function"==typeof t?t:(0,a.P)(t),function(){return s.call(this.children,e)}))},filter:function(t){"function"!=typeof t&&(t=(0,a.Z)(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var l,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&u.push(l);return new z(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,p);var n=e?f:d,r=this._parents,i=this._groups;"function"!=typeof t&&(_=t,t=function(){return _});for(var a=i.length,l=Array(a),o=Array(a),s=Array(a),u=0;u<a;++u){var c=r[u],h=i[u],g=h.length,m="object"==typeof(x=t.call(c,c&&c.__data__,u,r))&&"length"in x?x:Array.from(x),y=m.length,v=o[u]=Array(y),b=l[u]=Array(y);n(c,h,v,b,s[u]=Array(g),m,e);for(var x,_,w,M,k=0,A=0;k<y;++k)if(w=v[k]){for(k>=A&&(A=k+1);!(M=b[A])&&++A<y;);w._next=M||null}}return(l=new z(l,r))._enter=o,l._exit=s,l},enter:function(){return new z(this._enter||this._groups.map(c),this._parents)},exit:function(){return new z(this._exit||this._groups.map(c),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,l=Math.min(i,a),o=Array(i),s=0;s<l;++s)for(var u,c=n[s],h=r[s],d=c.length,f=o[s]=Array(d),p=0;p<d;++p)(u=c[p]||h[p])&&(f[p]=u);for(;s<i;++s)o[s]=n[s];return new z(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,l=i[a];--a>=0;)(r=i[a])&&(l&&4^r.compareDocumentPosition(l)&&l.parentNode.insertBefore(r,l),l=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=g);for(var n=this._groups,r=n.length,i=Array(r),a=0;a<r;++a){for(var l,o=n[a],s=o.length,u=i[a]=Array(s),c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new z(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var l=r[i];if(l)return l}return null},size:function(){let t=0;for(let e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],l=0,o=a.length;l<o;++l)(i=a[l])&&t.call(i,i.__data__,l,a);return this},attr:function(t,e){var n=(0,m.Z)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:y.Z,property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=v(t+"");if(arguments.length<2){for(var r=b(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?_:w)(this,t)}}:e?function(t){return function(){_(this,t)}}:function(t){return function(){w(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?M:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?k:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(A)},lower:function(){return this.each(E)},append:function(t){var e="function"==typeof t?t:(0,S.Z)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:(0,S.Z)(t),i=null==e?C:"function"==typeof e?e:(0,r.Z)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(T)},clone:function(t){return this.select(t?N:L)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),l=a.length;if(arguments.length<2){var o=this.node().__on;if(o){for(var s,u=0,c=o.length;u<c;++u)for(r=0,s=o[u];r<l;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value}return}for(r=0,o=e?$:D;r<l;++r)this.each(o(a[r],e,n));return this},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return O(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return O(this,t,e)}})(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,l=i.length;a<l;++a)(r=i[a])&&(yield r)}};var Y=H},52627:function(t,e,n){"use strict";n.d(e,{S:function(){return a},Z:function(){return i}});var r=n(89920);function i(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):a(this.node(),t)}function a(t,e){return t.style.getPropertyValue(e)||(0,r.Z)(t).getComputedStyle(t,null).getPropertyValue(e)}},83010:function(t,e,n){"use strict";function r(){}function i(t){return null==t?r:function(){return this.querySelector(t)}}n.d(e,{Z:function(){return i}})},19701:function(t,e,n){"use strict";function r(){return[]}function i(t){return null==t?r:function(){return this.querySelectorAll(t)}}n.d(e,{Z:function(){return i}})},89920:function(t,e,n){"use strict";function r(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}n.d(e,{Z:function(){return r}})},87226:function(t,e,n){"use strict";function r(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function a(t){let e,n,a;function o(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{let e=i+a>>>1;0>n(t[e],r)?i=e+1:a=e}while(i<a)}return i}return 2!==t.length?(e=r,n=(e,n)=>r(t(e),n),a=(e,n)=>t(e)-n):(e=t===r||t===i?t:l,n=t,a=t),{left:o,center:function(t,e,n=0,r=t.length){let i=o(t,e,n,r-1);return i>n&&a(t[i-1],e)>-a(t[i],e)?i-1:i},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{let e=i+a>>>1;0>=n(t[e],r)?i=e+1:a=e}while(i<a)}return i}}}function l(){return 0}function o(t,e){let n,r;if(void 0===e)for(let e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}n.d(e,{oc6:function(){return eT},Nb1:function(){return iV},SOn:function(){return iJ},j2p:function(){return r},y4O:function(){return M},Khx:function(){return w},YFb:function(){return a},$_Y:function(){return tD},$0Z:function(){return at},c_6:function(){return iK},$1i:function(){return i},WII:function(){return H},Wem:function(){return o},ruo:function(){return d},jvg:function(){return iG},Fp7:function(){return f},ETc:function(){return e8},ve8:function(){return i1},cx$:function(){return ik},w6H:function(){return p},tiA:function(){return function t(){var e,n,r=nt().unknown(void 0),i=r.domain,a=r.range,l=0,o=1,s=!1,u=0,c=0,h=.5;function d(){var t=i().length,r=o<l,d=r?o:l,f=r?l:o;e=(f-d)/Math.max(1,t-u+2*c),s&&(e=Math.floor(e)),d+=(f-d-e*(t-u))*h,n=e*(1-u),s&&(d=Math.round(d),n=Math.round(n));var g=p(t).map(function(t){return d+e*t});return a(r?g.reverse():g)}return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),d()):i()},r.range=function(t){return arguments.length?([l,o]=t,l=+l,o=+o,d()):[l,o]},r.rangeRound=function(t){return[l,o]=t,l=+l,o=+o,s=!0,d()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(t){return arguments.length?(s=!!t,d()):s},r.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),d()):u},r.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),d()):u},r.paddingOuter=function(t){return arguments.length?(c=+t,d()):c},r.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),d()):h},r.copy=function(){return t(i(),[l,o]).round(s).paddingInner(u).paddingOuter(c).align(h)},e7.apply(d(),arguments)}},BYU:function(){return function t(){var e,n=nv()(nf,nf);return n.copy=function(){return ny(n,t())},e7.apply(n,arguments),e=n.domain,n.ticks=function(t){var n=e();return na(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a,l=no(t,e,n);switch((r=nx(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nM(o)/3)))-nM(Math.abs(l))))||(r.precision=a),$(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Math.max(0,nM(Math.abs(Math.max(Math.abs(t),Math.abs(e)))-(i=Math.abs(i=l)))-nM(i))+1)||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Math.max(0,-nM(Math.abs(l))))||(r.precision=a-("%"===r.type)*2)}return D(r)}(r[0],r[r.length-1],null==t?10:t,n)},n.nice=function(t){null==t&&(t=10);var r,i,a=e(),l=0,o=a.length-1,s=a[l],u=a[o],c=10;for(u<s&&(i=s,s=u,u=i,i=l,l=o,o=i);c-- >0;){if((i=nl(s,u,t))===r)return a[l]=s,a[o]=u,e(a);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else if(i<0)s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i;else break;r=i}return n},n}},p2C:function(){return function t(){let e=(function(t){let e,n;let r=t(nL,nN),i=r.domain,a=10;function l(){var l,o;return e=(l=a)===Math.E?Math.log:10===l&&Math.log10||2===l&&Math.log2||(l=Math.log(l),t=>Math.log(t)/l),n=10===(o=a)?nR:o===Math.E?Math.exp:t=>Math.pow(o,t),i()[0]<0?(e=nO(e),n=nO(n),t(nD,n$)):t(nL,nN),r}return r.base=function(t){return arguments.length?(a=+t,l()):a},r.domain=function(t){return arguments.length?(i(t),l()):i()},r.ticks=t=>{let r,l;let o=i(),s=o[0],u=o[o.length-1],c=u<s;c&&([s,u]=[u,s]);let h=e(s),d=e(u),f=null==t?10:+t,p=[];if(!(a%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(r=1;r<a;++r)if(!((l=h<0?r/n(-h):r*n(h))<s)){if(l>u)break;p.push(l)}}else for(;h<=d;++h)for(r=a-1;r>=1;--r)if(!((l=h>0?r/n(-h):r*n(h))<s)){if(l>u)break;p.push(l)}2*p.length<f&&(p=na(s,u,f))}else p=na(h,d,Math.min(d-h,f)).map(n);return c?p.reverse():p},r.tickFormat=(t,i)=>{if(null==t&&(t=10),null==i&&(i=10===a?"s":","),"function"!=typeof i&&(a%1||null!=(i=nx(i)).precision||(i.trim=!0),i=D(i)),t===1/0)return i;let l=Math.max(1,a*t/r.ticks().length);return t=>{let r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=l?i(t):""}},r.nice=()=>i(nT(i(),{floor:t=>n(Math.floor(e(t))),ceil:t=>n(Math.ceil(e(t)))})),r})(nv()).domain([1,10]);return e.copy=()=>ny(e,t()).base(e.base()),e7.apply(e,arguments),e}},PKp:function(){return nt},KYF:function(){return iM},Ys:function(){return iA.Z},DYV:function(){return g},QP8:function(){return eU},NAG:function(){return i8},JFv:function(){return i2},syu:function(){return i3},m_s:function(){return i6},vgc:function(){return i5},pNI:function(){return eQ},wLP:function(){return e0},LQd:function(){return eK},Kmr:function(){return eZ},E_0:function(){return e1},o$p:function(){return eX}});class s extends Map{constructor(t,e=c){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(let[e,n]of t)this.set(e,n)}get(t){return super.get(u(this,t))}has(t){return super.has(u(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}}function u({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function c(t){return null!==t&&"object"==typeof t?t.valueOf():t}function h(t){return t}function d(t,...e){return function t(n,r){if(r>=e.length)return h(n);let i=new s,a=e[r++],l=-1;for(let t of n){let e=a(t,++l,n),r=i.get(e);r?r.push(t):i.set(e,[t])}for(let[e,n]of i)i.set(e,t(n,r));return h(i)}(t,0)}function f(t,e){let n;if(void 0===e)for(let e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function p(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=Array(i);++r<i;)a[r]=t+r*n;return a}function g(t,...e){if("function"!=typeof t[Symbol.iterator])throw TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){var i;let r=Uint32Array.from(t,(t,e)=>e);return e.length>1?(e=e.map(e=>t.map(e)),r.sort((t,n)=>{for(let r of e){let e=m(r[t],r[n]);if(e)return e}})):(n=t.map(n),r.sort((t,e)=>m(n[t],n[e]))),i=t,Array.from(r,t=>i[t])}return t.sort(function(t=r){if(t===r)return m;if("function"!=typeof t)throw TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}(n))}function m(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function y(t){return t}function v(t){return"translate("+t+",0)"}function b(t){return"translate(0,"+t+")"}function x(){return!this.__axis}function _(t,e){var n=[],r=null,i=null,a=6,l=6,o=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",h=1===t||3===t?v:b;function d(d){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):y:i,g=Math.max(a,0)+o,m=e.range(),v=+m[0]+s,b=+m[m.length-1]+s,_=(e.bandwidth?function(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}:function(t){return e=>+t(e)})(e.copy(),s),w=d.selection?d.selection():d,M=w.selectAll(".domain").data([null]),k=w.selectAll(".tick").data(f,e).order(),A=k.exit(),E=k.enter().append("g").attr("class","tick"),S=k.select("line"),C=k.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(E),S=S.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),C=C.merge(E.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==w&&(M=M.transition(d),k=k.transition(d),S=S.transition(d),C=C.transition(d),A=A.transition(d).attr("opacity",1e-6).attr("transform",function(t){return isFinite(t=_(t))?h(t+s):this.getAttribute("transform")}),E.attr("opacity",1e-6).attr("transform",function(t){var e=this.parentNode.__axis;return h((e&&isFinite(e=e(t))?e:_(t))+s)})),A.remove(),M.attr("d",4===t||2===t?l?"M"+u*l+","+v+"H"+s+"V"+b+"H"+u*l:"M"+s+","+v+"V"+b:l?"M"+v+","+u*l+"V"+s+"H"+b+"V"+u*l:"M"+v+","+s+"H"+b),k.attr("opacity",1).attr("transform",function(t){return h(_(t)+s)}),S.attr(c+"2",u*a),C.attr(c,u*g).text(p),w.filter(x).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each(function(){this.__axis=_})}return d.scale=function(t){return arguments.length?(e=t,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),d):n.slice()},d.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),d):r&&r.slice()},d.tickFormat=function(t){return arguments.length?(i=t,d):i},d.tickSize=function(t){return arguments.length?(a=l=+t,d):a},d.tickSizeInner=function(t){return arguments.length?(a=+t,d):a},d.tickSizeOuter=function(t){return arguments.length?(l=+t,d):l},d.tickPadding=function(t){return arguments.length?(o=+t,d):o},d.offset=function(t){return arguments.length?(s=+t,d):s},d}function w(t){return _(2,t)}function M(t){return _(4,t)}var k=n(1569),A={value:()=>{}};function E(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new S(r)}function S(t){this._=t}function C(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=A,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}S.prototype=E.prototype={constructor:S,on:function(t,e){var n,r=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((n=(t=i[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++a<l;)if(n=(t=i[a]).type)r[n]=C(r[n],t.name,e);else if(null==e)for(n in r)r[n]=C(r[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new S(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var T,L,N,D,$,R,O,I,z,H=E,Y=0,j=0,P=0,F=0,W=0,U=0,V="object"==typeof performance&&performance.now?performance:Date,q="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function B(){return W||(q(K),W=V.now()+U)}function K(){W=0}function Z(){this._call=this._time=this._next=null}function X(t,e,n){var r=new Z;return r.restart(t,e,n),r}function G(){W=(F=V.now())+U,Y=j=0;try{!function(){B(),++Y;for(var t,e=I;e;)(t=W-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Y}()}finally{Y=0,function(){for(var t,e,n=I,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:I=e);z=t,Q(r)}(),W=0}}function J(){var t=V.now(),e=t-F;e>1e3&&(U-=e,F=t)}function Q(t){!Y&&(j&&(j=clearTimeout(j)),t-W>24?(t<1/0&&(j=setTimeout(G,t-V.now()-U)),P&&(P=clearInterval(P))):(P||(F=V.now(),P=setInterval(J,1e3)),Y=1,q(G)))}function tt(t,e,n){var r=new Z;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}Z.prototype=X.prototype={constructor:Z,restart:function(t,e,n){if("function"!=typeof t)throw TypeError("callback is not a function");n=(null==n?B():+n)+(null==e?0:+e),this._next||z===this||(z?z._next=this:I=this,z=this),this._call=t,this._time=n,Q()},stop:function(){this._call&&(this._call=null,this._time=1/0,Q())}};var te=H("start","end","cancel","interrupt"),tn=[];function tr(t,e,n,r,i,a){var l=t.__transition;if(l){if(n in l)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(s){var u,c,h,d;if(1!==n.state)return o();for(u in i)if((d=i[u]).name===n.name){if(3===d.state)return tt(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(tt(function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(s))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(h=n.tween.length),c=-1;u<h;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=5,1),a=-1,l=r.length;++a<l;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=X(function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:te,tween:tn,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function ti(t,e){var n=tl(t,e);if(n.state>0)throw Error("too late; already scheduled");return n}function ta(t,e){var n=tl(t,e);if(n.state>3)throw Error("too late; already running");return n}function tl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw Error("transition not found");return n}function to(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ts=180/Math.PI,tu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function tc(t,e,n,r,i,a){var l,o,s;return(l=Math.sqrt(t*t+e*e))&&(t/=l,e/=l),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,s/=o),t*r<e*n&&(t=-t,e=-e,s=-s,l=-l),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*ts,skewX:Math.atan(s)*ts,scaleX:l,scaleY:o}}function th(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,l){var o,s,u,c,h=[],d=[];return a=t(a),l=t(l),!function(t,r,i,a,l,o){if(t!==i||r!==a){var s=l.push("translate(",null,e,null,n);o.push({i:s-4,x:to(t,i)},{i:s-2,x:to(r,a)})}else(i||a)&&l.push("translate("+i+e+a+n)}(a.translateX,a.translateY,l.translateX,l.translateY,h,d),(o=a.rotate)!==(s=l.rotate)?(o-s>180?s+=360:s-o>180&&(o+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:to(o,s)})):s&&h.push(i(h)+"rotate("+s+r),(u=a.skewX)!==(c=l.skewX)?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:to(u,c)}):c&&h.push(i(h)+"skewX("+c+r),!function(t,e,n,r,a,l){if(t!==n||e!==r){var o=a.push(i(a)+"scale(",null,",",null,")");l.push({i:o-4,x:to(t,n)},{i:o-2,x:to(e,r)})}else(1!==n||1!==r)&&a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,l.scaleX,l.scaleY,h,d),a=l=null,function(t){for(var e,n=-1,r=d.length;++n<r;)h[(e=d[n]).i]=e.x(t);return h.join("")}}}var td=th(function(t){let e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?tu:tc(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),tf=th(function(t){return null==t?tu:(T||(T=document.createElementNS("http://www.w3.org/2000/svg","g")),T.setAttribute("transform",t),t=T.transform.baseVal.consolidate())?tc((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):tu},", ",")",")"),tp=n(31663);function tg(t,e,n){var r=t._id;return t.each(function(){var t=ta(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return tl(t,r).value[e]}}function tm(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ty(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tv(){}var tb="\\s*([+-]?\\d+)\\s*",tx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tw=/^#([0-9a-f]{3,8})$/,tM=RegExp(`^rgb\\(${tb},${tb},${tb}\\)$`),tk=RegExp(`^rgb\\(${t_},${t_},${t_}\\)$`),tA=RegExp(`^rgba\\(${tb},${tb},${tb},${tx}\\)$`),tE=RegExp(`^rgba\\(${t_},${t_},${t_},${tx}\\)$`),tS=RegExp(`^hsl\\(${tx},${t_},${t_}\\)$`),tC=RegExp(`^hsla\\(${tx},${t_},${t_},${tx}\\)$`),tT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function tL(){return this.rgb().formatHex()}function tN(){return this.rgb().formatRgb()}function tD(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tw.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?t$(e):3===n?new tI(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?tR(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?tR(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=tM.exec(t))?new tI(e[1],e[2],e[3],1):(e=tk.exec(t))?new tI(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=tA.exec(t))?tR(e[1],e[2],e[3],e[4]):(e=tE.exec(t))?tR(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=tS.exec(t))?tF(e[1],e[2]/100,e[3]/100,1):(e=tC.exec(t))?tF(e[1],e[2]/100,e[3]/100,e[4]):tT.hasOwnProperty(t)?t$(tT[t]):"transparent"===t?new tI(NaN,NaN,NaN,0):null}function t$(t){return new tI(t>>16&255,t>>8&255,255&t,1)}function tR(t,e,n,r){return r<=0&&(t=e=n=NaN),new tI(t,e,n,r)}function tO(t,e,n,r){var i;return 1==arguments.length?((i=t)instanceof tv||(i=tD(i)),i)?new tI((i=i.rgb()).r,i.g,i.b,i.opacity):new tI:new tI(t,e,n,null==r?1:r)}function tI(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function tz(){return`#${tP(this.r)}${tP(this.g)}${tP(this.b)}`}function tH(){let t=tY(this.opacity);return`${1===t?"rgb(":"rgba("}${tj(this.r)}, ${tj(this.g)}, ${tj(this.b)}${1===t?")":`, ${t})`}`}function tY(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tj(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tP(t){return((t=tj(t))<16?"0":"")+t.toString(16)}function tF(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tU(t,e,n,r)}function tW(t){if(t instanceof tU)return new tU(t.h,t.s,t.l,t.opacity);if(t instanceof tv||(t=tD(t)),!t)return new tU;if(t instanceof tU)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),l=NaN,o=a-i,s=(a+i)/2;return o?(l=e===a?(n-r)/o+(n<r)*6:n===a?(r-e)/o+2:(e-n)/o+4,o/=s<.5?a+i:2-a-i,l*=60):o=s>0&&s<1?0:l,new tU(l,o,s,t.opacity)}function tU(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function tV(t){return(t=(t||0)%360)<0?t+360:t}function tq(t){return Math.max(0,Math.min(1,t||0))}function tB(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function tK(t,e,n,r,i){var a=t*t,l=a*t;return((1-3*t+3*a-l)*e+(4-6*a+3*l)*n+(1+3*t+3*a-3*l)*r+l*i)/6}tm(tv,tD,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tL,formatHex:tL,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tW(this).formatHsl()},formatRgb:tN,toString:tN}),tm(tI,tO,ty(tv,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new tI(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new tI(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tI(tj(this.r),tj(this.g),tj(this.b),tY(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tz,formatHex:tz,formatHex8:function(){return`#${tP(this.r)}${tP(this.g)}${tP(this.b)}${tP((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:tH,toString:tH})),tm(tU,function(t,e,n,r){return 1==arguments.length?tW(t):new tU(t,e,n,null==r?1:r)},ty(tv,{brighter(t){return t=null==t?1.4285714285714286:Math.pow(1.4285714285714286,t),new tU(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new tU(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tI(tB(t>=240?t-240:t+120,i,r),tB(t,i,r),tB(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tU(tV(this.h),tq(this.s),tq(this.l),tY(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=tY(this.opacity);return`${1===t?"hsl(":"hsla("}${tV(this.h)}, ${100*tq(this.s)}%, ${100*tq(this.l)}%${1===t?")":`, ${t})`}`}}));var tZ=t=>()=>t;function tX(t,e){var n=e-t;return n?function(e){return t+e*n}:tZ(isNaN(t)?e:t)}var tG=function t(e){var n,r=1==(n=+(n=e))?tX:function(t,e){var r,i,a;return e-t?(r=t,i=e,r=Math.pow(r,a=n),i=Math.pow(i,a)-r,a=1/a,function(t){return Math.pow(r+t*i,a)}):tZ(isNaN(t)?e:t)};function i(t,e){var n=r((t=tO(t)).r,(e=tO(e)).r),i=r(t.g,e.g),a=r(t.b,e.b),l=tX(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=a(e),t.opacity=l(e),t+""}}return i.gamma=t,i}(1);function tJ(t){return function(e){var n,r,i=e.length,a=Array(i),l=Array(i),o=Array(i);for(n=0;n<i;++n)r=tO(e[n]),a[n]=r.r||0,l[n]=r.g||0,o[n]=r.b||0;return a=t(a),l=t(l),o=t(o),r.opacity=1,function(t){return r.r=a(t),r.g=l(t),r.b=o(t),r+""}}}tJ(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],l=r>0?t[r-1]:2*i-a,o=r<e-1?t[r+2]:2*a-i;return tK((n-r/e)*e,l,i,a,o)}}),tJ(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],l=t[(r+1)%e],o=t[(r+2)%e];return tK((n-r/e)*e,i,a,l,o)}});var tQ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t0=RegExp(tQ.source,"g");function t1(t,e){var n,r,i,a,l,o=tQ.lastIndex=t0.lastIndex=0,s=-1,u=[],c=[];for(t+="",e+="";(i=tQ.exec(t))&&(a=t0.exec(e));)(l=a.index)>o&&(l=e.slice(o,l),u[s]?u[s]+=l:u[++s]=l),(i=i[0])===(a=a[0])?u[s]?u[s]+=a:u[++s]=a:(u[++s]=null,c.push({i:s,x:to(i,a)})),o=t0.lastIndex;return o<e.length&&(l=e.slice(o),u[s]?u[s]+=l:u[++s]=l),u.length<2?c[0]?(n=c[0].x,function(t){return n(t)+""}):(r=e,function(){return r}):(e=c.length,function(t){for(var n,r=0;r<e;++r)u[(n=c[r]).i]=n.x(t);return u.join("")})}function t2(t,e){var n;return("number"==typeof e?to:e instanceof tD?tG:(n=tD(e))?(e=n,tG):t1)(t,e)}var t3=n(24421),t6=n(83010),t4=n(19701),t5=k.ZP.prototype.constructor,t8=n(52627);function t7(t){return function(){this.style.removeProperty(t)}}var t9=0;function et(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}var ee=k.ZP.prototype;et.prototype=(function(t){return(0,k.ZP)().transition(t)}).prototype={constructor:et,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,t6.Z)(t));for(var r=this._groups,i=r.length,a=Array(i),l=0;l<i;++l)for(var o,s,u=r[l],c=u.length,h=a[l]=Array(c),d=0;d<c;++d)(o=u[d])&&(s=t.call(o,o.__data__,d,u))&&("__data__"in o&&(s.__data__=o.__data__),h[d]=s,tr(h[d],e,n,d,h,tl(o,n)));return new et(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=(0,t4.Z)(t));for(var r=this._groups,i=r.length,a=[],l=[],o=0;o<i;++o)for(var s,u=r[o],c=u.length,h=0;h<c;++h)if(s=u[h]){for(var d,f=t.call(s,s.__data__,h,u),p=tl(s,n),g=0,m=f.length;g<m;++g)(d=f[g])&&tr(d,e,n,g,f,p);a.push(f),l.push(s)}return new et(a,l,e,n)},selectChild:ee.selectChild,selectChildren:ee.selectChildren,filter:function(t){"function"!=typeof t&&(t=(0,t3.Z)(t));for(var e=this._groups,n=e.length,r=Array(n),i=0;i<n;++i)for(var a,l=e[i],o=l.length,s=r[i]=[],u=0;u<o;++u)(a=l[u])&&t.call(a,a.__data__,u,l)&&s.push(a);return new et(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),l=Array(r),o=0;o<a;++o)for(var s,u=e[o],c=n[o],h=u.length,d=l[o]=Array(h),f=0;f<h;++f)(s=u[f]||c[f])&&(d[f]=s);for(;o<r;++o)l[o]=e[o];return new et(l,this._parents,this._name,this._id)},selection:function(){return new t5(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++t9,r=this._groups,i=r.length,a=0;a<i;++a)for(var l,o=r[a],s=o.length,u=0;u<s;++u)if(l=o[u]){var c=tl(l,e);tr(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new et(r,this._parents,t,n)},call:ee.call,nodes:ee.nodes,node:ee.node,size:ee.size,empty:ee.empty,each:ee.each,on:function(t,e){var n,r,i,a=this._id;return arguments.length<2?tl(this.node(),a).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?ti:ta,function(){var l=i(this,a),o=l.on;o!==n&&(r=(n=o).copy()).on(t,e),l.on=r}))},attr:function(t,e){var n=(0,tp.Z)(t),r="transform"===n?tf:t2;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,a;return function(){var l,o,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(l=this.getAttributeNS(t.space,t.local))===(o=s+"")?null:l===r&&o===i?a:(i=o,a=e(r=l,s))}}:function(t,e,n){var r,i,a;return function(){var l,o,s=n(this);return null==s?void this.removeAttribute(t):(l=this.getAttribute(t))===(o=s+"")?null:l===r&&o===i?a:(i=o,a=e(r=l,s))}})(n,r,tg(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,a=n+"";return function(){var l=this.getAttributeNS(t.space,t.local);return l===a?null:l===r?i:i=e(r=l,n)}}:function(t,e,n){var r,i,a=n+"";return function(){var l=this.getAttribute(t);return l===a?null:l===r?i:i=e(r=l,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw Error();var r=(0,tp.Z)(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e){this.setAttribute(t,i.call(this,e))}),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r,i,a,l,o,s,u,c,h,d,f,p,g,m,y,v,b,x,_,w,M,k="transform"==(t+="")?td:t2;return null==e?this.styleTween(t,(r=t,function(){var t=(0,t8.S)(this,r),e=(this.style.removeProperty(r),(0,t8.S)(this,r));return t===e?null:t===i&&e===a?l:l=k(i=t,a=e)})).on("end.style."+t,t7(t)):"function"==typeof e?this.styleTween(t,(o=t,s=tg(this,"style."+t,e),function(){var t=(0,t8.S)(this,o),e=s(this),n=e+"";return null==e&&(this.style.removeProperty(o),n=e=(0,t8.S)(this,o)),t===n?null:t===u&&n===c?h:(c=n,h=k(u=t,e))})).each((d=this._id,b="end."+(v="style."+(f=t)),function(){var t=ta(this,d),e=t.on,n=null==t.value[v]?y||(y=t7(f)):void 0;(e!==p||m!==n)&&(g=(p=e).copy()).on(b,m=n),t.on=g})):this.styleTween(t,(x=t,M=e+"",function(){var t=(0,t8.S)(this,x);return t===M?null:t===_?w:w=k(_=t,e)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw Error();return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e){this.style.setProperty(t,a.call(this,e),n)}),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){var e,n;return this.tween("text","function"==typeof t?(e=tg(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw Error();return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){this.textContent=r.call(this,t)}),e}return r._value=t,r}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=tl(this.node(),n).tween,a=0,l=i.length;a<l;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=ta(this,t),a=i.tween;if(a!==n){r=n=a;for(var l=0,o=r.length;l<o;++l)if(r[l].name===e){(r=r.slice()).splice(l,1);break}}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw Error();return function(){var a=ta(this,t),l=a.tween;if(l!==r){i=(r=l).slice();for(var o={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=o;break}s===u&&i.push(o)}a.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ti(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){ti(this,t).delay=e}})(e,t)):tl(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){ta(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){ta(this,t).duration=e}})(e,t)):tl(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw Error();return function(){ta(this,t).ease=e}}(e,t)):tl(this.node(),e).ease},easeVarying:function(t){var e;if("function"!=typeof t)throw Error();return this.each((e=this._id,function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw Error();ta(this,e).ease=n}))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,l){var o={value:l},s={value:function(){0==--i&&a()}};n.each(function(){var n=ta(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(s)),n.on=e}),0===i&&a()})},[Symbol.iterator]:ee[Symbol.iterator]};var en={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};k.ZP.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,a=t.__transition,l=!0;if(a){for(i in e=null==e?null:e+"",a){if((n=a[i]).name!==e){l=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]}l&&delete t.__transition}}(this,t)})},k.ZP.prototype.transition=function(t){var e,n;t instanceof et?(e=t._id,t=t._name):(e=++t9,(n=en).time=B(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var l,o=r[a],s=o.length,u=0;u<s;++u)(l=o[u])&&tr(l,t,e,u,o,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw Error(`transition ${e} not found`);return n}(l,e));return new et(r,this._parents,t,e)};let{abs:er,max:ei,min:ea}=Math;function el(t){return{type:t}}function eo(t,e,n,r,i){let a,l,o,s;let u=e[0],c=r[0],h=0,d=0;c>u==c>-u?(a=u,u=e[++h]):(a=c,c=r[++d]);let f=0;if(h<t&&d<n)for(c>u==c>-u?(l=u+a,o=a-(l-u),u=e[++h]):(l=c+a,o=a-(l-c),c=r[++d]),a=l,0!==o&&(i[f++]=o);h<t&&d<n;)c>u==c>-u?(s=(l=a+u)-a,o=a-(l-s)+(u-s),u=e[++h]):(s=(l=a+c)-a,o=a-(l-s)+(c-s),c=r[++d]),a=l,0!==o&&(i[f++]=o);for(;h<t;)s=(l=a+u)-a,o=a-(l-s)+(u-s),u=e[++h],a=l,0!==o&&(i[f++]=o);for(;d<n;)s=(l=a+c)-a,o=a-(l-s)+(c-s),c=r[++d],a=l,0!==o&&(i[f++]=o);return(0!==a||0===f)&&(i[f++]=a),f}function es(t){return new Float64Array(t)}["w","e"].map(el),["n","s"].map(el),["n","w","e","s","nw","ne","sw","se"].map(el);let eu=es(4),ec=es(8),eh=es(12),ed=es(16),ef=es(4);function ep(t,e,n,r,i,a){let l=(e-a)*(n-i),o=(t-i)*(r-a),s=l-o,u=Math.abs(l+o);return Math.abs(s)>=33306690738754716e-32*u?s:-function(t,e,n,r,i,a,l){let o,s,u,c,h,d,f,p,g,m,y,v,b,x,_,w,M,k;let A=t-i,E=n-i,S=e-a,C=r-a;x=A*C,f=(d=134217729*A)-(d-A),p=A-f,g=(d=134217729*C)-(d-C),_=p*(m=C-g)-(x-f*g-p*g-f*m),w=S*E,f=(d=134217729*S)-(d-S),p=S-f,g=(d=134217729*E)-(d-E),y=_-(M=p*(m=E-g)-(w-f*g-p*g-f*m)),h=_-y,eu[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,eu[1]=b-(y+h)+(h-w),h=(k=v+y)-v,eu[2]=v-(k-h)+(y-h),eu[3]=k;let T=function(t,e){let n=e[0];for(let t=1;t<4;t++)n+=e[t];return n}(0,eu),L=22204460492503146e-32*l;if(T>=L||-T>=L||(h=t-A,o=t-(A+h)+(h-i),h=n-E,u=n-(E+h)+(h-i),h=e-S,s=e-(S+h)+(h-a),h=r-C,c=r-(C+h)+(h-a),0===o&&0===s&&0===u&&0===c)||(L=11093356479670487e-47*l+33306690738754706e-32*Math.abs(T),(T+=A*c+C*o-(S*u+E*s))>=L||-T>=L))return T;x=o*C,f=(d=134217729*o)-(d-o),p=o-f,g=(d=134217729*C)-(d-C),_=p*(m=C-g)-(x-f*g-p*g-f*m),w=s*E,f=(d=134217729*s)-(d-s),p=s-f,g=(d=134217729*E)-(d-E),y=_-(M=p*(m=E-g)-(w-f*g-p*g-f*m)),h=_-y,ef[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,ef[1]=b-(y+h)+(h-w),h=(k=v+y)-v,ef[2]=v-(k-h)+(y-h),ef[3]=k;let N=eo(4,eu,4,ef,ec);x=A*c,f=(d=134217729*A)-(d-A),p=A-f,g=(d=134217729*c)-(d-c),_=p*(m=c-g)-(x-f*g-p*g-f*m),w=S*u,f=(d=134217729*S)-(d-S),p=S-f,g=(d=134217729*u)-(d-u),y=_-(M=p*(m=u-g)-(w-f*g-p*g-f*m)),h=_-y,ef[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,ef[1]=b-(y+h)+(h-w),h=(k=v+y)-v,ef[2]=v-(k-h)+(y-h),ef[3]=k;let D=eo(N,ec,4,ef,eh);x=o*c,f=(d=134217729*o)-(d-o),p=o-f,g=(d=134217729*c)-(d-c),_=p*(m=c-g)-(x-f*g-p*g-f*m),w=s*u,f=(d=134217729*s)-(d-s),p=s-f,g=(d=134217729*u)-(d-u),y=_-(M=p*(m=u-g)-(w-f*g-p*g-f*m)),h=_-y,ef[0]=_-(y+h)+(h-M),h=(v=x+y)-x,y=(b=x-(v-h)+(y-h))-w,h=b-y,ef[1]=b-(y+h)+(h-w),h=(k=v+y)-v,ef[2]=v-(k-h)+(y-h),ef[3]=k;let $=eo(D,eh,4,ef,ed);return ed[$-1]}(t,e,n,r,i,a,u)}es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(8),es(8),es(8),es(4),es(8),es(8),es(8),es(12),es(192),es(192),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(8),es(8),es(8),es(8),es(8),es(8),es(8),es(8),es(8),es(4),es(4),es(4),es(8),es(16),es(16),es(16),es(32),es(32),es(48),es(64),es(1152),es(1152),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(4),es(24),es(24),es(24),es(24),es(24),es(24),es(24),es(24),es(24),es(24),es(1152),es(1152),es(1152),es(1152),es(1152),es(2304),es(2304),es(3456),es(5760),es(8),es(8),es(8),es(16),es(24),es(48),es(48),es(96),es(192),es(384),es(384),es(384),es(768),es(96),es(96),es(96),es(1152);let eg=new Uint32Array(512);class em{static from(t,e=ex,n=e_){let r=t.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){let r=t[a];i[2*a]=e(r),i[2*a+1]=n(r)}return new em(i)}constructor(t){let e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw Error("Expected coords to contain numbers.");this.coords=t;let n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){let t,e,n;let{coords:r,_hullPrev:i,_hullNext:a,_hullTri:l,_hullHash:o}=this,s=r.length>>1,u=1/0,c=1/0,h=-1/0,d=-1/0;for(let t=0;t<s;t++){let e=r[2*t],n=r[2*t+1];e<u&&(u=e),n<c&&(c=n),e>h&&(h=e),n>d&&(d=n),this._ids[t]=t}let f=(u+h)/2,p=(c+d)/2;for(let e=0,n=1/0;e<s;e++){let i=ey(f,p,r[2*e],r[2*e+1]);i<n&&(t=e,n=i)}let g=r[2*t],m=r[2*t+1];for(let n=0,i=1/0;n<s;n++){if(n===t)continue;let a=ey(g,m,r[2*n],r[2*n+1]);a<i&&a>0&&(e=n,i=a)}let y=r[2*e],v=r[2*e+1],b=1/0;for(let i=0;i<s;i++){if(i===t||i===e)continue;let a=function(t,e,n,r,i,a){let l=n-t,o=r-e,s=i-t,u=a-e,c=l*l+o*o,h=s*s+u*u,d=.5/(l*u-o*s),f=(u*c-o*h)*d,p=(l*h-s*c)*d;return f*f+p*p}(g,m,y,v,r[2*i],r[2*i+1]);a<b&&(n=i,b=a)}let x=r[2*n],_=r[2*n+1];if(b===1/0){for(let t=0;t<s;t++)this._dists[t]=r[2*t]-r[0]||r[2*t+1]-r[1];ev(this._ids,this._dists,0,s-1);let t=new Uint32Array(s),e=0;for(let n=0,r=-1/0;n<s;n++){let i=this._ids[n],a=this._dists[i];a>r&&(t[e++]=i,r=a)}this.hull=t.subarray(0,e),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(0>ep(g,m,y,v,x,_)){let t=e,r=y,i=v;e=n,y=x,v=_,n=t,x=r,_=i}let w=function(t,e,n,r,i,a){let l=n-t,o=r-e,s=i-t,u=a-e,c=l*l+o*o,h=s*s+u*u,d=.5/(l*u-o*s);return{x:t+(u*c-o*h)*d,y:e+(l*h-s*c)*d}}(g,m,y,v,x,_);this._cx=w.x,this._cy=w.y;for(let t=0;t<s;t++)this._dists[t]=ey(r[2*t],r[2*t+1],w.x,w.y);ev(this._ids,this._dists,0,s-1),this._hullStart=t;let M=3;a[t]=i[n]=e,a[e]=i[t]=n,a[n]=i[e]=t,l[t]=0,l[e]=1,l[n]=2,o.fill(-1),o[this._hashKey(g,m)]=t,o[this._hashKey(y,v)]=e,o[this._hashKey(x,_)]=n,this.trianglesLen=0,this._addTriangle(t,e,n,-1,-1,-1);for(let s=0,u,c;s<this._ids.length;s++){let h=this._ids[s],d=r[2*h],f=r[2*h+1];if(s>0&&2220446049250313e-31>=Math.abs(d-u)&&2220446049250313e-31>=Math.abs(f-c)||(u=d,c=f,h===t||h===e||h===n))continue;let p=0;for(let t=0,e=this._hashKey(d,f);t<this._hashSize&&(-1===(p=o[(e+t)%this._hashSize])||p===a[p]);t++);let g=p=i[p],m;for(;m=a[g],ep(d,f,r[2*g],r[2*g+1],r[2*m],r[2*m+1])>=0;)if((g=m)===p){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,h,a[g],-1,-1,l[g]);l[h]=this._legalize(y+2),l[g]=y,M++;let v=a[g];for(;m=a[v],0>ep(d,f,r[2*v],r[2*v+1],r[2*m],r[2*m+1]);)y=this._addTriangle(v,h,m,l[h],-1,l[v]),l[h]=this._legalize(y+2),a[v]=v,M--,v=m;if(g===p)for(;0>ep(d,f,r[2*(m=i[g])],r[2*m+1],r[2*g],r[2*g+1]);)y=this._addTriangle(m,h,g,-1,l[g],l[m]),this._legalize(y+2),l[m]=y,a[g]=g,M--,g=m;this._hullStart=i[h]=g,a[g]=i[v]=h,a[h]=v,o[this._hashKey(d,f)]=h,o[this._hashKey(r[2*g],r[2*g+1])]=g}this.hull=new Uint32Array(M);for(let t=0,e=this._hullStart;t<M;t++)this.hull[t]=e,e=a[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:e,_halfedges:n,coords:r}=this,i=0,a=0;for(;;){let l=n[t],o=t-t%3;if(a=o+(t+2)%3,-1===l){if(0===i)break;t=eg[--i];continue}let s=l-l%3,u=o+(t+1)%3,c=s+(l+2)%3,h=e[a],d=e[t],f=e[u],p=e[c];if(function(t,e,n,r,i,a,l,o){let s=t-l,u=e-o,c=n-l,h=r-o,d=i-l,f=a-o,p=c*c+h*h,g=d*d+f*f;return s*(h*g-p*f)-u*(c*g-p*d)+(s*s+u*u)*(c*f-h*d)<0}(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*f],r[2*f+1],r[2*p],r[2*p+1])){e[t]=p,e[l]=h;let r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(l,n[a]),this._link(a,c);let o=s+(l+1)%3;i<eg.length&&(eg[i++]=o)}else{if(0===i)break;t=eg[--i]}}return a}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,a){let l=this.trianglesLen;return this._triangles[l]=t,this._triangles[l+1]=e,this._triangles[l+2]=n,this._link(l,r),this._link(l+1,i),this._link(l+2,a),this.trianglesLen+=3,l}}function ey(t,e,n,r){let i=t-n,a=e-r;return i*i+a*a}function ev(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let r=t[i],a=e[r],l=i-1;for(;l>=n&&e[t[l]]>a;)t[l+1]=t[l--];t[l+1]=r}else{let i=n+r>>1,a=n+1,l=r;eb(t,i,a),e[t[n]]>e[t[r]]&&eb(t,n,r),e[t[a]]>e[t[r]]&&eb(t,a,r),e[t[n]]>e[t[a]]&&eb(t,n,a);let o=t[a],s=e[o];for(;;){do a++;while(e[t[a]]<s);do l--;while(e[t[l]]>s);if(l<a)break;eb(t,a,l)}t[n+1]=t[l],t[l]=o,r-a+1>=l-n?(ev(t,e,a,r),ev(t,e,n,l-1)):(ev(t,e,n,l-1),ev(t,e,a,r))}}function eb(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function ex(t){return t[0]}function e_(t){return t[1]}class ew{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){t=+t,e=+e;let r=t+(n=+n),i=e;if(n<0)throw Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class eM{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class ek{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e))||!((i=+i)>=(n=+n)))throw Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let t,e;let{delaunay:{points:n,hull:r,triangles:i},vectors:a}=this,l=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let a=0,o=0,s=i.length,u,c;a<s;a+=3,o+=2){let s=2*i[a],h=2*i[a+1],d=2*i[a+2],f=n[s],p=n[s+1],g=n[h],m=n[h+1],y=n[d],v=n[d+1],b=g-f,x=m-p,_=y-f,w=v-p,M=(b*w-x*_)*2;if(1e-9>Math.abs(M)){if(void 0===t){for(let i of(t=e=0,r))t+=n[2*i],e+=n[2*i+1];t/=r.length,e/=r.length}let i=1e9*Math.sign((t-f)*w-(e-p)*_);u=(f+y)/2-i*w,c=(p+v)/2+i*_}else{let t=1/M,e=b*b+x*x,n=_*_+w*w;u=f+(w*e-x*n)*t,c=p+(b*n-_*e)*t}l[o]=u,l[o+1]=c}let o=r[r.length-1],s,u=4*o,c,h=n[2*o],d,f=n[2*o+1];a.fill(0);for(let t=0;t<r.length;++t)o=r[t],s=u,c=h,d=f,u=4*o,h=n[2*o],f=n[2*o+1],a[s+2]=a[u]=d-f,a[s+3]=a[u+1]=h-c}render(t){let e=null==t?t=new ew:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:l}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){let r=n[e];if(r<e)continue;let i=2*Math.floor(e/3),l=2*Math.floor(r/3),o=a[i],s=a[i+1],u=a[l],c=a[l+1];this._renderSegment(o,s,u,c,t)}let o,s=i[i.length-1];for(let e=0;e<i.length;++e){o=s;let n=2*Math.floor(r[s=i[e]]/3),u=a[n],c=a[n+1],h=4*o,d=this._project(u,c,l[h+2],l[h+3]);d&&this._renderSegment(u,c,d[0],d[1],t)}return e&&e.value()}renderBounds(t){let e=null==t?t=new ew:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){let n=null==e?e=new ew:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)(r[t]!==r[t-2]||r[t+1]!==r[t-1])&&e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){let t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){let e=new eM;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let a;let l=this._regioncode(t,e),o=this._regioncode(n,r);0===l&&0===o?(i.moveTo(t,e),i.lineTo(n,r)):(a=this._clipSegment(t,e,n,r,l,o))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){let e=this._clip(t);if(e)for(let n of this.delaunay.neighbors(t)){let t=this._clip(n);if(t){t:for(let r=0,i=e.length;r<i;r+=2)for(let a=0,l=t.length;a<l;a+=2)if(e[r]===t[a]&&e[r+1]===t[a+1]&&e[(r+2)%i]===t[(a+l-2)%l]&&e[(r+3)%i]===t[(a+l-1)%l]){yield n;break t}}}}_cell(t){let{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[t];if(-1===a)return null;let l=[],o=a;do{let n=Math.floor(o/3);if(l.push(e[2*n],e[2*n+1]),i[o=o%3==2?o-2:o+1]!==t)break;o=r[o]}while(o!==a&&-1!==o);return l}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let e=this._cell(t);if(null===e)return null;let{vectors:n}=this,r=4*t;return this._simplify(n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e))}_clipFinite(t,e){let n=e.length,r=null,i,a,l=e[n-2],o=e[n-1],s,u=this._regioncode(l,o),c,h=0;for(let d=0;d<n;d+=2)if(i=l,a=o,l=e[d],o=e[d+1],s=u,u=this._regioncode(l,o),0===s&&0===u)c=h,h=0,r?r.push(l,o):r=[l,o];else{let e,n,d,f,p;if(0===s){if(null===(e=this._clipSegment(i,a,l,o,s,u)))continue;[n,d,f,p]=e}else{if(null===(e=this._clipSegment(l,o,i,a,u,s)))continue;[f,p,n,d]=e,c=h,h=this._edgecode(n,d),c&&h&&this._edge(t,c,h,r,r.length),r?r.push(n,d):r=[n,d]}c=h,h=this._edgecode(f,p),c&&h&&this._edge(t,c,h,r,r.length),r?r.push(f,p):r=[f,p]}if(r)c=h,h=this._edgecode(r[0],r[1]),c&&h&&this._edge(t,c,h,r,r.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(t,e,n,r,i,a){let l=i<a;for(l&&([t,e,n,r,i,a]=[n,r,t,e,a,i]);;){if(0===i&&0===a)return l?[n,r,t,e]:[t,e,n,r];if(i&a)return null;let o,s,u=i||a;8&u?(o=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&u?(o=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&u?(s=e+(r-e)*(this.xmax-t)/(n-t),o=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),o=this.xmin),i?(t=o,e=s,i=this._regioncode(t,e)):(n=o,r=s,a=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,a){let l=Array.from(e),o;if((o=this._project(l[0],l[1],n,r))&&l.unshift(o[0],o[1]),(o=this._project(l[l.length-2],l[l.length-1],i,a))&&l.push(o[0],o[1]),l=this._clipFinite(t,l))for(let e=0,n=l.length,r,i=this._edgecode(l[n-2],l[n-1]);e<n;e+=2)r=i,i=this._edgecode(l[e],l[e+1]),r&&i&&(e=this._edge(t,r,i,l,e),n=l.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(t,e,n,r,i){for(;e!==n;){let n,a;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,a=this.ymin}(r[i]!==n||r[i+1]!==a)&&this.contains(t,n,a)&&(r.splice(i,0,n,a),i+=2)}return i}_project(t,e,n,r){let i=1/0,a,l,o;if(r<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/r)<i&&(o=this.ymin,l=t+(i=a)*n)}else if(r>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/r)<i&&(o=this.ymax,l=t+(i=a)*n)}if(n>0){if(t>=this.xmax)return null;(a=(this.xmax-t)/n)<i&&(l=this.xmax,o=e+(i=a)*r)}else if(n<0){if(t<=this.xmin)return null;(a=(this.xmin-t)/n)<i&&(l=this.xmin,o=e+(i=a)*r)}return[l,o]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let e=0;e<t.length;e+=2){let n=(e+2)%t.length,r=(e+4)%t.length;(t[e]===t[n]&&t[n]===t[r]||t[e+1]===t[n+1]&&t[n+1]===t[r+1])&&(t.splice(n,2),e-=2)}t.length||(t=null)}return t}}let eA=2*Math.PI,eE=Math.pow;function eS(t){return t[0]}function eC(t){return t[1]}class eT{static from(t,e=eS,n=eC,r){return new eT("length"in t?function(t,e,n,r){let i=t.length,a=new Float64Array(2*i);for(let l=0;l<i;++l){let i=t[l];a[2*l]=e.call(r,i,l,t),a[2*l+1]=n.call(r,i,l,t)}return a}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(let a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new em(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){let{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){let r=2*e[t],i=2*e[t+1],a=2*e[t+2];if((n[a]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[a+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},(t,e)=>e).sort((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]);let t=this.collinear[0],i=this.collinear[this.collinear.length-1],a=[e[2*t],e[2*t+1],e[2*i],e[2*i+1]],l=1e-8*Math.hypot(a[3]-a[1],a[2]-a[0]);for(let t=0,i=e.length/2;t<i;++t){var n,r;let i=[(n=e[2*t])+Math.sin(n+(r=e[2*t+1]))*l,r+Math.cos(n-r)*l];e[2*t]=i[0],e[2*t+1]=i[1]}this._delaunator=new em(e)}else delete this.collinear;let i=this.halfedges=this._delaunator.halfedges,a=this.hull=this._delaunator.hull,l=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let t=0,e=i.length;t<e;++t){let e=l[t%3==2?t-2:t+1];(-1===i[t]||-1===o[e])&&(o[e]=t)}for(let t=0,e=a.length;t<e;++t)s[a[t]]=t;a.length<=2&&a.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=a[0],o[a[0]]=1,2===a.length&&(o[a[1]]=0,this.triangles[1]=a[1],this.triangles[2]=a[1]))}voronoi(t){return new ek(this,t)}*neighbors(t){let{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:l}=this;if(l){let e=l.indexOf(t);e>0&&(yield l[e-1]),e<l.length-1&&(yield l[e+1]);return}let o=e[t];if(-1===o)return;let s=o,u=-1;do{if(yield u=a[s],a[s=s%3==2?s-2:s+1]!==t)return;if(-1===(s=i[s])){let e=n[(r[t]+1)%n.length];e!==u&&(yield e);return}}while(s!==o)}find(t,e,n=0){let r;if((t=+t)!=t||(e=+e)!=e)return -1;let i=n;for(;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}_step(t,e,n){let{inedges:r,hull:i,_hullIndex:a,halfedges:l,triangles:o,points:s}=this;if(-1===r[t]||!s.length)return(t+1)%(s.length>>1);let u=t,c=eE(e-s[2*t],2)+eE(n-s[2*t+1],2),h=r[t],d=h;do{let r=o[d],h=eE(e-s[2*r],2)+eE(n-s[2*r+1],2);if(h<c&&(c=h,u=r),o[d=d%3==2?d-2:d+1]!==t)break;if(-1===(d=l[d])){if((d=i[(a[t]+1)%i.length])!==r&&eE(e-s[2*d],2)+eE(n-s[2*d+1],2)<c)return d;break}}while(d!==h);return u}render(t){let e=null==t?t=new ew:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,a=r.length;e<a;++e){let a=r[e];if(a<e)continue;let l=2*i[e],o=2*i[a];t.moveTo(n[l],n[l+1]),t.lineTo(n[o],n[o+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e){void 0!==e||t&&"function"==typeof t.moveTo||(e=t,t=null),e=void 0==e?2:+e;let n=null==t?t=new ew:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){let i=r[n],a=r[n+1];t.moveTo(i+e,a),t.arc(i,a,e,0,eA)}return n&&n.value()}renderHull(t){let e=null==t?t=new ew:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<a;++e){let i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){let t=new eM;return this.renderHull(t),t.value()}renderTriangle(t,e){let n=null==e?e=new ew:void 0,{points:r,triangles:i}=this,a=2*i[t*=3],l=2*i[t+1],o=2*i[t+2];return e.moveTo(r[a],r[a+1]),e.lineTo(r[l],r[l+1]),e.lineTo(r[o],r[o+1]),e.closePath(),n&&n.value()}*trianglePolygons(){let{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){let e=new eM;return this.renderTriangle(t,e),e.value()}}function eL(t){return null==t?null:eN(t)}function eN(t){if("function"!=typeof t)throw Error();return t}function eD(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function e$(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=eO)):void 0===e&&(e=eR);for(var n,r,i,a,l,o=new eH(t),s=[o];n=s.pop();)if((i=e(n.data))&&(l=(i=Array.from(i)).length))for(n.children=i,a=l-1;a>=0;--a)s.push(r=i[a]=new eH(i[a])),r.parent=n,r.depth=n.depth+1;return o.eachBefore(ez)}function eR(t){return t.children}function eO(t){return Array.isArray(t)?t[1]:null}function eI(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function ez(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function eH(t){this.data=t,this.depth=this.height=0,this.parent=null}eH.prototype=e$.prototype={constructor:eH,count:function(){return this.eachAfter(eD)},each:function(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,a=this,l=[a],o=[],s=-1;a=l.pop();)if(o.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)l.push(n[r]);for(;a=o.pop();)t.call(e,a,++s,this);return this},eachBefore:function(t,e){for(var n,r,i=this,a=[i],l=-1;i=a.pop();)if(t.call(e,i,++l,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return e$(this).eachBefore(eI)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,a=[i];do for(t=a.reverse(),a=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);while(a.length)}};var eY={depth:-1},ej={},eP={};function eF(t){return t.id}function eW(t){return t.parentId}function eU(){var t,e=eF,n=eW;function r(r){var i,a,l,o,s,u,c,h,d=Array.from(r),f=e,p=n,g=new Map;if(null!=t){let e=d.map((e,n)=>{var i;let a;return i=t(e,n,r),a=(i=`${i}`).length,eq(i,a-1)&&!eq(i,a-2)&&(i=i.slice(0,-1)),"/"===i[0]?i:`/${i}`}),n=e.map(eV),i=new Set(e).add("");for(let t of n)i.has(t)||(i.add(t),e.push(t),n.push(eV(t)),d.push(eP));f=(t,n)=>e[n],p=(t,e)=>n[e]}for(l=0,i=d.length;l<i;++l)a=d[l],u=d[l]=new eH(a),null!=(c=f(a,l,r))&&(c+="")&&(h=u.id=c,g.set(h,g.has(h)?ej:u)),null!=(c=p(a,l,r))&&(c+="")&&(u.parent=c);for(l=0;l<i;++l)if(c=(u=d[l]).parent){if(!(s=g.get(c)))throw Error("missing: "+c);if(s===ej)throw Error("ambiguous: "+c);s.children?s.children.push(u):s.children=[u],u.parent=s}else{if(o)throw Error("multiple roots");o=u}if(!o)throw Error("no root");if(null!=t){for(;o.data===eP&&1===o.children.length;)o=o.children[0],--i;for(let t=d.length-1;t>=0&&(u=d[t]).data===eP;--t)u.data=null}if(o.parent=eY,o.eachBefore(function(t){t.depth=t.parent.depth+1,--i}).eachBefore(ez),o.parent=null,i>0)throw Error("cycle");return o}return r.id=function(t){return arguments.length?(e=eL(t),r):e},r.parentId=function(t){return arguments.length?(n=eL(t),r):n},r.path=function(e){return arguments.length?(t=eL(e),r):t},r}function eV(t){let e=t.length;if(e<2)return"";for(;--e>1&&!eq(t,e););return t.slice(0,e)}function eq(t,e){if("/"===t[e]){let n=0;for(;e>0&&"\\"===t[--e];)++n;if((1&n)==0)return!0}return!1}function eB(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function eK(t,e,n,r,i){for(var a,l=t.children,o=-1,s=l.length,u=t.value&&(r-e)/t.value;++o<s;)(a=l[o]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function eZ(t,e,n,r,i){for(var a,l=t.children,o=-1,s=l.length,u=t.value&&(i-n)/t.value;++o<s;)(a=l[o]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var eX=function t(e){function n(t,n,r,i,a){!function(t,e,n,r,i,a){for(var l,o,s,u,c,h,d,f,p,g,m,y=[],v=e.children,b=0,x=0,_=v.length,w=e.value;b<_;){s=i-n,u=a-r;do c=v[x++].value;while(!c&&x<_);for(h=d=c,p=Math.max(d/(m=c*c*(g=Math.max(u/s,s/u)/(w*t))),m/h);x<_;++x){if(c+=o=v[x].value,o<h&&(h=o),o>d&&(d=o),(f=Math.max(d/(m=c*c*g),m/h))>p){c-=o;break}p=f}y.push(l={value:c,dice:s<u,children:v.slice(b,x)}),l.dice?eK(l,n,r,i,w?r+=u*c/w:a):eZ(l,n,r,w?n+=s*c/w:i,a),w-=c,b=x}}(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2);function eG(){return 0}function eJ(t){return function(){return t}}function eQ(){var t=eX,e=!1,n=1,r=1,i=[0],a=eG,l=eG,o=eG,s=eG,u=eG;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(eB),t}function h(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,h=e.x1-n,d=e.y1-n;h<r&&(r=h=(r+h)/2),d<c&&(c=d=(c+d)/2),e.x0=r,e.y0=c,e.x1=h,e.y1=d,e.children&&(n=i[e.depth+1]=a(e)/2,r+=u(e)-n,c+=l(e)-n,h-=o(e)-n,d-=s(e)-n,h<r&&(r=h=(r+h)/2),d<c&&(c=d=(c+d)/2),t(e,r,c,h,d))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=eN(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:eJ(+t),c):a},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:eJ(+t),c):l},c.paddingRight=function(t){return arguments.length?(o="function"==typeof t?t:eJ(+t),c):o},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:eJ(+t),c):s},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:eJ(+t),c):u},c}function e0(t,e,n,r,i){var a,l,o=t.children,s=o.length,u=Array(s+1);for(u[0]=l=a=0;a<s;++a)u[a+1]=l+=o[a].value;!function t(e,n,r,i,a,l,s){if(e>=n-1){var c=o[e];c.x0=i,c.y0=a,c.x1=l,c.y1=s;return}for(var h=u[e],d=r/2+h,f=e+1,p=n-1;f<p;){var g=f+p>>>1;u[g]<d?f=g+1:p=g}d-u[f-1]<u[f]-d&&e+1<f&&--f;var m=u[f]-h,y=r-m;if(l-i>s-a){var v=r?(i*y+l*m)/r:l;t(e,f,m,i,a,v,s),t(f,n,y,v,a,l,s)}else{var b=r?(a*y+s*m)/r:s;t(e,f,m,i,a,l,b),t(f,n,y,i,b,l,s)}}(0,s,t.value,e,n,r,i)}function e1(t,e,n,r,i){(1&t.depth?eZ:eK)(t,e,n,r,i)}let e2=Math.PI,e3=2*e2,e6=e3-1e-6;function e4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class e5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?e4:function(t){let e=Math.floor(t);if(!(e>=0))throw Error(`invalid digits: ${t}`);if(e>15)return e4;let n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,a){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,o=n-t,s=r-e,u=a-t,c=l-e,h=u*u+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>1e-6){if(Math.abs(c*o-s*u)>1e-6&&i){let d=n-a,f=r-l,p=o*o+s*s,g=Math.sqrt(p),m=Math.sqrt(h),y=i*Math.tan((e2-Math.acos((p+h-(d*d+f*f))/(2*g*m)))/2),v=y/m,b=y/g;Math.abs(v-1)>1e-6&&this._append`L${t+v*u},${e+v*c}`,this._append`A${i},${i},0,0,${+(c*d>u*f)},${this._x1=t+b*o},${this._y1=e+b*s}`}else this._append`L${this._x1=t},${this._y1=e}`}}arc(t,e,n,r,i,a){if(t=+t,e=+e,a=!!a,(n=+n)<0)throw Error(`negative radius: ${n}`);let l=n*Math.cos(r),o=n*Math.sin(r),s=t+l,u=e+o,c=1^a,h=a?r-i:i-r;null===this._x1?this._append`M${s},${u}`:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&this._append`L${s},${u}`,n&&(h<0&&(h=h%e3+e3),h>e6?this._append`A${n},${n},0,1,${c},${t-l},${e-o}A${n},${n},0,1,${c},${this._x1=s},${this._y1=u}`:h>1e-6&&this._append`A${n},${n},0,${+(h>=e2)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function e8(){return new e5}function e7(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}e8.prototype=e5.prototype;let e9=Symbol("implicit");function nt(){var t=new s,e=[],n=[],r=e9;function i(i){let a=t.get(i);if(void 0===a){if(r!==e9)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();for(let r of(e=[],t=new s,n))t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return nt(e,n).unknown(r)},e7.apply(i,arguments),i}let ne=Math.sqrt(50),nn=Math.sqrt(10),nr=Math.sqrt(2);function ni(t,e,n){let r,i,a;let l=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(l)),s=l/Math.pow(10,o),u=s>=ne?10:s>=nn?5:s>=nr?2:1;return(o<0?(r=Math.round(t*(a=Math.pow(10,-o)/u)),i=Math.round(e*a),r/a<t&&++r,i/a>e&&--i,a=-a):(r=Math.round(t/(a=Math.pow(10,o)*u)),i=Math.round(e/a),r*a<t&&++r,i*a>e&&--i),i<r&&.5<=n&&n<2)?ni(t,e,2*n):[r,i,a]}function na(t,e,n){if(e=+e,t=+t,!((n=+n)>0))return[];if(t===e)return[t];let r=e<t,[i,a,l]=r?ni(e,t,n):ni(t,e,n);if(!(a>=i))return[];let o=a-i+1,s=Array(o);if(r){if(l<0)for(let t=0;t<o;++t)s[t]=-((a-t)/l);else for(let t=0;t<o;++t)s[t]=(a-t)*l}else if(l<0)for(let t=0;t<o;++t)s[t]=-((i+t)/l);else for(let t=0;t<o;++t)s[t]=(i+t)*l;return s}function nl(t,e,n){return ni(t=+t,e=+e,n=+n)[2]}function no(t,e,n){e=+e,t=+t,n=+n;let r=e<t,i=r?nl(e,t,n):nl(t,e,n);return(r?-1:1)*(i<0?-(1/i):i)}let ns=a(r),nu=ns.right;function nc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nh(t){return+t}ns.left,a(function(t){return null===t?NaN:+t}).center;var nd=[0,1];function nf(t){return t}function np(t,e){var n;return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n})}function ng(t,e,n){var r=t[0],i=t[1],a=e[0],l=e[1];return i<r?(r=np(i,r),a=n(l,a)):(r=np(r,i),a=n(a,l)),function(t){return a(r(t))}}function nm(t,e,n){var r=Math.min(t.length,e.length)-1,i=Array(r),a=Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=np(t[l],t[l+1]),a[l]=n(e[l],e[l+1]);return function(e){var n=nu(t,e,1,r)-1;return a[n](i[n](e))}}function ny(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function nv(){var t,e,n,r,i,a,l=nd,o=nd,s=function t(e,n){var r,i,a=typeof n;return null==n||"boolean"===a?tZ(n):("number"===a?to:"string"===a?(i=tD(n))?(n=i,tG):t1:n instanceof tD?tG:n instanceof Date?function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}:!ArrayBuffer.isView(r=n)||r instanceof DataView?Array.isArray(n)?function(e,n){var r,i=n?n.length:0,a=e?Math.min(i,e.length):0,l=Array(a),o=Array(i);for(r=0;r<a;++r)l[r]=t(e[r],n[r]);for(;r<i;++r)o[r]=n[r];return function(t){for(r=0;r<a;++r)o[r]=l[r](t);return o}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(e,n){var r,i={},a={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===n||"object"!=typeof n)&&(n={}),n)r in e?i[r]=t(e[r],n[r]):a[r]=n[r];return function(t){for(r in i)a[r]=i[r](t);return a}}:to:function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}})(e,n)},u=nf;function c(){var t,e,n,s=Math.min(l.length,o.length);return u!==nf&&(t=l[0],e=l[s-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?nm:ng,i=a=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(l.map(t),o,s)))(t(u(e)))}return h.invert=function(n){return u(e((a||(a=r(o,l.map(t),to)))(n)))},h.domain=function(t){return arguments.length?(l=Array.from(t,nh),c()):l.slice()},h.range=function(t){return arguments.length?(o=Array.from(t),c()):o.slice()},h.rangeRound=function(t){return o=Array.from(t),s=nc,c()},h.clamp=function(t){return arguments.length?(u=!!t||nf,c()):u!==nf},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}var nb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nx(t){var e;if(!(e=nb.exec(t)))throw Error("invalid format: "+t);return new n_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function n_(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function nw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nM(t){return(t=nw(Math.abs(t)))?t[1]:NaN}function nk(t,e){var n=nw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")}nx.prototype=n_.prototype,n_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var nA={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nk(100*t,e),r:nk,s:function(t,e){var n=nw(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(L=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=r.length;return a===l?r:a>l?r+Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+Array(1-a).join("0")+nw(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nE(t){return t}var nS=Array.prototype.map,nC=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function nT(t,e){t=t.slice();var n,r=0,i=t.length-1,a=t[r],l=t[i];return l<a&&(n=r,r=i,i=n,n=a,a=l,l=n),t[r]=e.floor(a),t[i]=e.ceil(l),t}function nL(t){return Math.log(t)}function nN(t){return Math.exp(t)}function nD(t){return-Math.log(-t)}function n$(t){return-Math.exp(-t)}function nR(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nO(t){return(e,n)=>-t(-e,n)}D=(N=function(t){var e,n,r,i=void 0===t.grouping||void 0===t.thousands?nE:(e=nS.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],l=0,o=e[0],s=0;i>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),a.push(t.substring(i-=o,i+o)),!((s+=o+1)>r));)o=e[l=(l+1)%e.length];return a.reverse().join(n)}),a=void 0===t.currency?"":t.currency[0]+"",l=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?nE:(r=nS.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return r[+t]})}),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=nx(t)).fill,n=t.align,r=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):nA[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?a:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?l:/[%p]/.test(v)?u:"",_=nA[v],w=/[defgprs%]/.test(v);function M(t){var a,l,u,d=b,M=x;if("c"===v)M=_(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:_(Math.abs(t),m),y&&(t=function(t){e:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break e;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==r&&(k=!1),d=(k?"("===r?r:c:"-"===r||"("===r?"":r)+d,M=("s"===v?nC[8+L/3]:"")+M+(k&&"("===r?")":""),w){for(a=-1,l=t.length;++a<l;)if(48>(u=t.charCodeAt(a))||u>57){M=(46===u?o+t.slice(a+1):t.slice(a))+M,t=t.slice(0,a);break}}}g&&!f&&(t=i(t,1/0));var A=d.length+t.length+M.length,E=A<p?Array(p-A+1).join(e):"";switch(g&&f&&(t=i(E+t,E.length?p-M.length:1/0),E=""),n){case"<":t=d+t+M+E;break;case"=":t=d+E+t+M;break;case"^":t=E.slice(0,A=E.length>>1)+d+t+M+E.slice(A);break;default:t=E+d+t+M}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:d,formatPrefix:function(t,e){var n=d(((t=nx(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(nM(e)/3))),i=Math.pow(10,-r),a=nC[8+r/3];return function(t){return n(i*t)+a}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,$=N.formatPrefix;let nI=new Date,nz=new Date;function nH(t,e,n,r){function i(e){return t(e=0==arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{let e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,a)=>{let l;let o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;do o.push(l=new Date(+n)),e(n,a),t(n);while(l<n&&n<r);return o},i.filter=n=>nH(e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},(t,r)=>{if(t>=t){if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}}),n&&(i.count=(e,r)=>(nI.setTime(+e),nz.setTime(+r),t(nI),t(nz),Math.floor(n(nI,nz))),i.every=t=>isFinite(t=Math.floor(t))&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null),i}let nY=nH(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);nY.every=t=>isFinite(t=Math.floor(t))&&t>0?t>1?nH(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):nY:null,nY.range;let nj=nH(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+1e3*e)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds());nj.range;let nP=nH(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getMinutes());nP.range;let nF=nH(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+6e4*e)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes());nF.range;let nW=nH(t=>{t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getHours());nW.range;let nU=nH(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+36e5*e)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours());nU.range;let nV=nH(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1);nV.range;let nq=nH(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1);nq.range;let nB=nH(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5));function nK(t){return nH(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+7*e)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}nB.range;let nZ=nK(0),nX=nK(1),nG=nK(2),nJ=nK(3),nQ=nK(4),n0=nK(5),n1=nK(6);function n2(t){return nH(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)},(t,e)=>(e-t)/6048e5)}nZ.range,nX.range,nG.range,nJ.range,nQ.range,n0.range,n1.range;let n3=n2(0),n6=n2(1),n4=n2(2),n5=n2(3),n8=n2(4),n7=n2(5),n9=n2(6);n3.range,n6.range,n4.range,n5.range,n8.range,n7.range,n9.range;let rt=nH(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rt.range;let re=nH(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());re.range;let rn=nH(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rn.every=t=>isFinite(t=Math.floor(t))&&t>0?nH(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null,rn.range;let rr=nH(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function ri(t,e,n,r,i,l){let o=[[nj,1,1e3],[nj,5,5e3],[nj,15,15e3],[nj,30,3e4],[l,1,6e4],[l,5,3e5],[l,15,9e5],[l,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function s(e,n,r){let i=Math.abs(n-e)/r,l=a(([,,t])=>t).right(o,i);if(l===o.length)return t.every(no(e/31536e6,n/31536e6,r));if(0===l)return nY.every(Math.max(no(e,n,r),1));let[s,u]=o[i/o[l-1][2]<o[l][2]/i?l-1:l];return s.every(u)}return[function(t,e,n){let r=e<t;r&&([t,e]=[e,t]);let i=n&&"function"==typeof n.range?n:s(t,e,n),a=i?i.range(t,+e+1):[];return r?a.reverse():a},s]}rr.every=t=>isFinite(t=Math.floor(t))&&t>0?nH(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null,rr.range;let[ra,rl]=ri(rr,re,n3,nB,nU,nF),[ro,rs]=ri(rn,rt,nZ,nV,nW,nP);function ru(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rc(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var rd={"-":"",_:" ",0:"0"},rf=/^\s*\d+/,rp=/^%/,rg=/[\\^$*+?|[\]().{}]/g;function rm(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?Array(n-a+1).join(e)+i:i)}function ry(t){return t.replace(rg,"\\$&")}function rv(t){return RegExp("^(?:"+t.map(ry).join("|")+")","i")}function rb(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function rx(t,e,n){var r=rf.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function r_(t,e,n){var r=rf.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rw(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rM(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function rk(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rA(t,e,n){var r=rf.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rE(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rS(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rC(t,e,n){var r=rf.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function rT(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rL(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rN(t,e,n){var r=rf.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rD(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function r$(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rR(t,e,n){var r=rf.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rO(t,e,n){var r=rf.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rI(t,e,n){var r=rf.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rz(t,e,n){var r=rp.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rH(t,e,n){var r=rf.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rY(t,e,n){var r=rf.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rj(t,e){return rm(t.getDate(),e,2)}function rP(t,e){return rm(t.getHours(),e,2)}function rF(t,e){return rm(t.getHours()%12||12,e,2)}function rW(t,e){return rm(1+nV.count(rn(t),t),e,3)}function rU(t,e){return rm(t.getMilliseconds(),e,3)}function rV(t,e){return rU(t,e)+"000"}function rq(t,e){return rm(t.getMonth()+1,e,2)}function rB(t,e){return rm(t.getMinutes(),e,2)}function rK(t,e){return rm(t.getSeconds(),e,2)}function rZ(t){var e=t.getDay();return 0===e?7:e}function rX(t,e){return rm(nZ.count(rn(t)-1,t),e,2)}function rG(t){var e=t.getDay();return e>=4||0===e?nQ(t):nQ.ceil(t)}function rJ(t,e){return t=rG(t),rm(nQ.count(rn(t),t)+(4===rn(t).getDay()),e,2)}function rQ(t){return t.getDay()}function r0(t,e){return rm(nX.count(rn(t)-1,t),e,2)}function r1(t,e){return rm(t.getFullYear()%100,e,2)}function r2(t,e){return rm((t=rG(t)).getFullYear()%100,e,2)}function r3(t,e){return rm(t.getFullYear()%1e4,e,4)}function r6(t,e){var n=t.getDay();return rm((t=n>=4||0===n?nQ(t):nQ.ceil(t)).getFullYear()%1e4,e,4)}function r4(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rm(e/60|0,"0",2)+rm(e%60,"0",2)}function r5(t,e){return rm(t.getUTCDate(),e,2)}function r8(t,e){return rm(t.getUTCHours(),e,2)}function r7(t,e){return rm(t.getUTCHours()%12||12,e,2)}function r9(t,e){return rm(1+nq.count(rr(t),t),e,3)}function it(t,e){return rm(t.getUTCMilliseconds(),e,3)}function ie(t,e){return it(t,e)+"000"}function ir(t,e){return rm(t.getUTCMonth()+1,e,2)}function ii(t,e){return rm(t.getUTCMinutes(),e,2)}function ia(t,e){return rm(t.getUTCSeconds(),e,2)}function il(t){var e=t.getUTCDay();return 0===e?7:e}function io(t,e){return rm(n3.count(rr(t)-1,t),e,2)}function is(t){var e=t.getUTCDay();return e>=4||0===e?n8(t):n8.ceil(t)}function iu(t,e){return t=is(t),rm(n8.count(rr(t),t)+(4===rr(t).getUTCDay()),e,2)}function ic(t){return t.getUTCDay()}function ih(t,e){return rm(n6.count(rr(t)-1,t),e,2)}function id(t,e){return rm(t.getUTCFullYear()%100,e,2)}function ip(t,e){return rm((t=is(t)).getUTCFullYear()%100,e,2)}function ig(t,e){return rm(t.getUTCFullYear()%1e4,e,4)}function im(t,e){var n=t.getUTCDay();return rm((t=n>=4||0===n?n8(t):n8.ceil(t)).getUTCFullYear()%1e4,e,4)}function iy(){return"+0000"}function iv(){return"%"}function ib(t){return+t}function ix(t){return Math.floor(+t/1e3)}function i_(t){return new Date(t)}function iw(t){return t instanceof Date?+t:+new Date(+t)}function iM(){return e7.apply((function t(e,n,r,i,a,l,o,s,u,c){var h=nv()(nf,nf),d=h.invert,f=h.domain,p=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),_=c("%Y");function w(t){return(u(t)<t?p:s(t)<t?g:o(t)<t?m:l(t)<t?y:i(t)<t?a(t)<t?v:b:r(t)<t?x:_)(t)}return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?f(Array.from(t,iw)):f().map(i_)},h.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},h.tickFormat=function(t,e){return null==e?w:c(e)},h.nice=function(t){var e=f();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?f(nT(e,t)):h},h.copy=function(){return ny(h,t(e,n,r,i,a,l,o,s,u,c))},h})(ra,rl,rr,re,n3,nq,nU,nF,nj,O).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ik(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}(R=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,o=t.months,s=t.shortMonths,u=rv(i),c=rb(i),h=rv(a),d=rb(a),f=rv(l),p=rb(l),g=rv(o),m=rb(o),y=rv(s),v=rb(s),b={a:function(t){return l[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return o[t.getMonth()]},c:null,d:rj,e:rj,f:rV,g:r2,G:r6,H:rP,I:rF,j:rW,L:rU,m:rq,M:rB,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ib,s:ix,S:rK,u:rZ,U:rX,V:rJ,w:rQ,W:r0,x:null,X:null,y:r1,Y:r3,Z:r4,"%":iv},x={a:function(t){return l[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return o[t.getUTCMonth()]},c:null,d:r5,e:r5,f:ie,g:ip,G:im,H:r8,I:r7,j:r9,L:it,m:ir,M:ii,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ib,s:ix,S:ia,u:il,U:io,V:iu,w:ic,W:ih,x:null,X:null,y:id,Y:ig,Z:iy,"%":iv},_={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:rL,e:rL,f:rI,g:rE,G:rA,H:rD,I:rD,j:rN,L:rO,m:rT,M:r$,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:rC,Q:rH,s:rY,S:rR,u:r_,U:rw,V:rM,w:rx,W:rk,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:rE,Y:rA,Z:rS,"%":rz};function w(t,e){return function(n){var r,i,a,l=[],o=-1,s=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++o<u;)37===t.charCodeAt(o)&&(l.push(t.slice(s,o)),null!=(i=rd[r=t.charAt(++o)])?r=t.charAt(++o):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),l.push(r),s=o+1);return l.push(t.slice(s,o)),l.join("")}}function M(t,e){return function(n){var r,i,a=rh(1900,void 0,1);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(!e||"Z"in a||(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(i=(r=rc(rh(a.y,0,1))).getUTCDay())>4||0===i?n6.ceil(r):n6(r),r=nq.offset(r,(a.V-1)*7),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=(i=(r=ru(rh(a.y,0,1))).getDay())>4||0===i?nX.ceil(r):nX(r),r=nV.offset(r,(a.V-1)*7),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?rc(rh(a.y,0,1)).getUTCDay():ru(rh(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,rc(a)):ru(a)}}function k(t,e,n,r){for(var i,a,l=0,o=e.length,s=n.length;l<o;){if(r>=s)return -1;if(37===(i=e.charCodeAt(l++))){if(!(a=_[(i=e.charAt(l++))in rd?e.charAt(l++):i])||(r=a(t,n,r))<0)return -1}else if(i!=n.charCodeAt(r++))return -1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,R.parse,O=R.utcFormat,R.utcParse;var iA=n(23838);function iE(t){return function(){return t}}let iS=Math.abs,iC=Math.atan2,iT=Math.cos,iL=Math.max,iN=Math.min,iD=Math.sin,i$=Math.sqrt,iR=Math.PI,iO=iR/2,iI=2*iR;function iz(t){return t>=1?iO:t<=-1?-iO:Math.asin(t)}function iH(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{let t=Math.floor(n);if(!(t>=0))throw RangeError(`invalid digits: ${n}`);e=t}return t},()=>new e5(e)}function iY(t){return t.innerRadius}function ij(t){return t.outerRadius}function iP(t){return t.startAngle}function iF(t){return t.endAngle}function iW(t){return t&&t.padAngle}function iU(t,e,n,r,i,a,l){var o=t-n,s=e-r,u=(l?a:-a)/i$(o*o+s*s),c=u*s,h=-u*o,d=t+c,f=e+h,p=n+c,g=r+h,m=(d+p)/2,y=(f+g)/2,v=p-d,b=g-f,x=v*v+b*b,_=i-a,w=d*g-p*f,M=(b<0?-1:1)*i$(iL(0,_*_*x-w*w)),k=(w*b-v*M)/x,A=(-w*v-b*M)/x,E=(w*b+v*M)/x,S=(-w*v+b*M)/x,C=k-m,T=A-y,L=E-m,N=S-y;return C*C+T*T>L*L+N*N&&(k=E,A=S),{cx:k,cy:A,x01:-c,y01:-h,x11:k*(i/_-1),y11:A*(i/_-1)}}function iV(){var t=iY,e=ij,n=iE(0),r=null,i=iP,a=iF,l=iW,o=null,s=iH(u);function u(){var u,c,h=+t.apply(this,arguments),d=+e.apply(this,arguments),f=i.apply(this,arguments)-iO,p=a.apply(this,arguments)-iO,g=iS(p-f),m=p>f;if(o||(o=u=s()),d<h&&(c=d,d=h,h=c),d>1e-12){if(g>iI-1e-12)o.moveTo(d*iT(f),d*iD(f)),o.arc(0,0,d,f,p,!m),h>1e-12&&(o.moveTo(h*iT(p),h*iD(p)),o.arc(0,0,h,p,f,m));else{var y,v,b=f,x=p,_=f,w=p,M=g,k=g,A=l.apply(this,arguments)/2,E=A>1e-12&&(r?+r.apply(this,arguments):i$(h*h+d*d)),S=iN(iS(d-h)/2,+n.apply(this,arguments)),C=S,T=S;if(E>1e-12){var L=iz(E/h*iD(A)),N=iz(E/d*iD(A));(M-=2*L)>1e-12?(L*=m?1:-1,_+=L,w-=L):(M=0,_=w=(f+p)/2),(k-=2*N)>1e-12?(N*=m?1:-1,b+=N,x-=N):(k=0,b=x=(f+p)/2)}var D=d*iT(b),$=d*iD(b),R=h*iT(w),O=h*iD(w);if(S>1e-12){var I,z=d*iT(x),H=d*iD(x),Y=h*iT(_),j=h*iD(_);if(g<iR){if(I=function(t,e,n,r,i,a,l,o){var s=n-t,u=r-e,c=l-i,h=o-a,d=h*s-c*u;if(!(d*d<1e-12))return d=(c*(e-a)-h*(t-i))/d,[t+d*s,e+d*u]}(D,$,Y,j,z,H,R,O)){var P,F=D-I[0],W=$-I[1],U=z-I[0],V=H-I[1],q=1/iD(((P=(F*U+W*V)/(i$(F*F+W*W)*i$(U*U+V*V)))>1?0:P<-1?iR:Math.acos(P))/2),B=i$(I[0]*I[0]+I[1]*I[1]);C=iN(S,(h-B)/(q-1)),T=iN(S,(d-B)/(q+1))}else C=T=0}}k>1e-12?T>1e-12?(y=iU(Y,j,D,$,d,T,m),v=iU(z,H,R,O,d,T,m),o.moveTo(y.cx+y.x01,y.cy+y.y01),T<S?o.arc(y.cx,y.cy,T,iC(y.y01,y.x01),iC(v.y01,v.x01),!m):(o.arc(y.cx,y.cy,T,iC(y.y01,y.x01),iC(y.y11,y.x11),!m),o.arc(0,0,d,iC(y.cy+y.y11,y.cx+y.x11),iC(v.cy+v.y11,v.cx+v.x11),!m),o.arc(v.cx,v.cy,T,iC(v.y11,v.x11),iC(v.y01,v.x01),!m))):(o.moveTo(D,$),o.arc(0,0,d,b,x,!m)):o.moveTo(D,$),h>1e-12&&M>1e-12?C>1e-12?(y=iU(R,O,z,H,h,-C,m),v=iU(D,$,Y,j,h,-C,m),o.lineTo(y.cx+y.x01,y.cy+y.y01),C<S?o.arc(y.cx,y.cy,C,iC(y.y01,y.x01),iC(v.y01,v.x01),!m):(o.arc(y.cx,y.cy,C,iC(y.y01,y.x01),iC(y.y11,y.x11),!m),o.arc(0,0,h,iC(y.cy+y.y11,y.cx+y.x11),iC(v.cy+v.y11,v.cx+v.x11),m),o.arc(v.cx,v.cy,C,iC(v.y11,v.x11),iC(v.y01,v.x01),!m))):o.arc(0,0,h,w,_,m):o.lineTo(R,O)}}else o.moveTo(0,0);if(o.closePath(),u)return o=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-iR/2;return[iT(r)*n,iD(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:iE(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:iE(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:iE(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:iE(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:iE(+t),u):i},u.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:iE(+t),u):a},u.padAngle=function(t){return arguments.length?(l="function"==typeof t?t:iE(+t),u):l},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}function iq(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function iB(t){this._context=t}function iK(t){return new iB(t)}function iZ(t){return t[0]}function iX(t){return t[1]}function iG(t,e){var n=iE(!0),r=null,i=iK,a=null,l=iH(o);function o(o){var s,u,c,h=(o=iq(o)).length,d=!1;for(null==r&&(a=i(c=l())),s=0;s<=h;++s)!(s<h&&n(u=o[s],s,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(u,s,o),+e(u,s,o));if(c)return a=null,c+""||null}return t="function"==typeof t?t:void 0===t?iZ:iE(t),e="function"==typeof e?e:void 0===e?iX:iE(e),o.x=function(e){return arguments.length?(t="function"==typeof e?e:iE(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:iE(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:iE(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}function iJ(t,e,n){var r=null,i=iE(!0),a=null,l=iK,o=null,s=iH(u);function u(u){var c,h,d,f,p,g=(u=iq(u)).length,m=!1,y=Array(g),v=Array(g);for(null==a&&(o=l(p=s())),c=0;c<=g;++c){if(!(c<g&&i(f=u[c],c,u))===m){if(m=!m)h=c,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),d=c-1;d>=h;--d)o.point(y[d],v[d]);o.lineEnd(),o.areaEnd()}}m&&(y[c]=+t(f,c,u),v[c]=+e(f,c,u),o.point(r?+r(f,c,u):y[c],n?+n(f,c,u):v[c]))}if(p)return o=null,p+""||null}function c(){return iG().defined(i).curve(l).context(a)}return t="function"==typeof t?t:void 0===t?iZ:iE(+t),e="function"==typeof e?e:void 0===e?iE(0):iE(+e),n="function"==typeof n?n:void 0===n?iX:iE(+n),u.x=function(e){return arguments.length?(t="function"==typeof e?e:iE(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:iE(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:iE(+t),u):r},u.y=function(t){return arguments.length?(e="function"==typeof t?t:iE(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"==typeof t?t:iE(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:iE(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:iE(!!t),u):i},u.curve=function(t){return arguments.length?(l=t,null!=a&&(o=l(a)),u):l},u.context=function(t){return arguments.length?(null==t?a=o=null:o=l(a=t),u):a},u}function iQ(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function i0(t){return t}function i1(){var t=i0,e=iQ,n=null,r=iE(0),i=iE(iI),a=iE(0);function l(l){var o,s,u,c,h,d=(l=iq(l)).length,f=0,p=Array(d),g=Array(d),m=+r.apply(this,arguments),y=Math.min(iI,Math.max(-iI,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,a.apply(this,arguments)),b=v*(y<0?-1:1);for(o=0;o<d;++o)(h=g[p[o]=o]=+t(l[o],o,l))>0&&(f+=h);for(null!=e?p.sort(function(t,n){return e(g[t],g[n])}):null!=n&&p.sort(function(t,e){return n(l[t],l[e])}),o=0,u=f?(y-d*b)/f:0;o<d;++o,m=c)c=m+((h=g[s=p[o]])>0?h*u:0)+b,g[s]={data:l[s],index:o,value:h,startAngle:m,endAngle:c,padAngle:v};return g}return l.value=function(e){return arguments.length?(t="function"==typeof e?e:iE(+e),l):t},l.sortValues=function(t){return arguments.length?(e=t,n=null,l):e},l.sort=function(t){return arguments.length?(n=t,e=null,l):n},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:iE(+t),l):r},l.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:iE(+t),l):i},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:iE(+t),l):a},l}Array.prototype.slice,iB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},i$(3);var i2={draw(t,e){let n=i$(e/iR);t.moveTo(n,0),t.arc(0,0,n,0,iI)}};i$(1/3);var i3={draw(t,e){let n=.62625*i$(e);t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},i6={draw(t,e){let n=i$(e),r=-n/2;t.rect(r,r,n,n)}};iD(iR/10),iD(7*iR/10),iD(iI/10),iT(iI/10),i$(3);let i4=i$(3);var i5={draw(t,e){let n=.6824*i$(e),r=n/2,i=n*i4/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};function i8(t,e){let n=null,r=iH(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"==typeof t?t:iE(t||i2),e="function"==typeof e?e:iE(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"==typeof e?e:iE(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:iE(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}function i7(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i9(t){this._context=t}function at(t){return new i9(t)}function ae(t,e,n){this.k=t,this.x=e,this.y=n}i$(3),i$(12),i9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i7(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i7(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ae.prototype={constructor:ae,scale:function(t){return 1===t?this:new ae(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ae(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new ae(1,0,0),ae.prototype}}]);